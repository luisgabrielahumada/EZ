<?xml version="1.0" encoding="utf-8"?>
<DataSchemaModel FileFormatVersion="1.2" SchemaVersion="2.9" DspName="Microsoft.Data.Tools.Schema.Sql.Sql130DatabaseSchemaProvider" CollationLcid="1033" CollationCaseSensitive="False" xmlns="http://schemas.microsoft.com/sqlserver/dac/Serialization/2012/02">
	<Header>
		<CustomData Category="AnsiNulls">
			<Metadata Name="AnsiNulls" Value="True" />
		</CustomData>
		<CustomData Category="QuotedIdentifier">
			<Metadata Name="QuotedIdentifier" Value="True" />
		</CustomData>
		<CustomData Category="CompatibilityMode">
			<Metadata Name="CompatibilityMode" Value="130" />
		</CustomData>
		<CustomData Category="Reference" Type="Assembly">
			<Metadata Name="LogicalName" Value="EYZ.Database.dll" />
			<Metadata Name="FileName" Value="D:\_GESI\EYZ\DEV\DEVMAIN\EYZ.DATABASE\OBJ\DEBUG\EYZ.DATABASE.DLL" />
			<Metadata Name="AssemblyName" Value="EYZ.Database" />
			<Metadata Name="PermissionSet" Value="SAFE" />
			<Metadata Name="Owner" Value="" />
			<Metadata Name="GenerateSqlClrDdl" Value="True" />
			<Metadata Name="IsVisible" Value="True" />
			<Metadata Name="IsModelAware" Value="True" />
			<Metadata Name="SkipCreationIfEmpty" Value="True" />
			<Metadata Name="AssemblySymbolsName" Value="D:\_GESI\EYZ\Dev\DevMain\EYZ.Database\obj\Debug\EYZ.Database.pdb" />
		</CustomData>
		<CustomData Category="SqlCmdVariables" Type="SqlCmdVariable" />
	</Header>
	<Model>
		<Element Type="SqlDatabaseOptions">
			<Property Name="Collation" Value="SQL_Latin1_General_CP1_CI_AS" />
			<Property Name="IsAnsiNullDefaultOn" Value="True" />
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Property Name="IsAnsiWarningsOn" Value="True" />
			<Property Name="IsArithAbortOn" Value="True" />
			<Property Name="IsConcatNullYieldsNullOn" Value="True" />
			<Property Name="IsTornPageProtectionOn" Value="False" />
			<Property Name="IsFullTextEnabled" Value="True" />
			<Property Name="PageVerifyMode" Value="3" />
			<Property Name="DefaultLanguage" Value="" />
			<Property Name="DefaultFullTextLanguage" Value="" />
			<Property Name="QueryStoreStaleQueryThreshold" Value="367" />
			<Relationship Name="DefaultFilegroup">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[PRIMARY]" />
				</Entry>
			</Relationship>
		</Element>
		<Element Type="SqlDefaultConstraint">
			<Property Name="DefaultExpressionScript">
				<Value><![CDATA[((0))]]></Value>
			</Property>
			<Relationship Name="DefiningTable">
				<Entry>
					<References Name="[dbo].[Terminals]" />
				</Entry>
			</Relationship>
			<Relationship Name="ForColumn">
				<Entry>
					<References Name="[dbo].[Terminals].[ConditionId]" />
				</Entry>
			</Relationship>
			<Annotation Type="SqlInlineConstraintAnnotation" Disambiguator="3" />
		</Element>
		<Element Type="SqlDefaultConstraint">
			<Property Name="DefaultExpressionScript">
				<Value><![CDATA[((0))]]></Value>
			</Property>
			<Relationship Name="DefiningTable">
				<Entry>
					<References Name="[dbo].[Terminals]" />
				</Entry>
			</Relationship>
			<Relationship Name="ForColumn">
				<Entry>
					<References Name="[dbo].[Terminals].[_Order]" />
				</Entry>
			</Relationship>
			<Annotation Type="SqlInlineConstraintAnnotation" Disambiguator="4" />
		</Element>
		<Element Type="SqlDefaultConstraint">
			<Property Name="DefaultExpressionScript">
				<Value><![CDATA[((1))]]></Value>
			</Property>
			<Relationship Name="DefiningTable">
				<Entry>
					<References Name="[dbo].[ItemsLiquidation]" />
				</Entry>
			</Relationship>
			<Relationship Name="ForColumn">
				<Entry>
					<References Name="[dbo].[ItemsLiquidation].[IsCurrentPort]" />
				</Entry>
			</Relationship>
			<Annotation Type="SqlInlineConstraintAnnotation" Disambiguator="5" />
		</Element>
		<Element Type="SqlDefaultConstraint">
			<Property Name="DefaultExpressionScript">
				<Value><![CDATA[((0))]]></Value>
			</Property>
			<Relationship Name="DefiningTable">
				<Entry>
					<References Name="[dbo].[ItemsLiquidation]" />
				</Entry>
			</Relationship>
			<Relationship Name="ForColumn">
				<Entry>
					<References Name="[dbo].[ItemsLiquidation].[ValueLoadingCondition]" />
				</Entry>
			</Relationship>
			<Annotation Type="SqlInlineConstraintAnnotation" Disambiguator="6" />
		</Element>
		<Element Type="SqlDefaultConstraint">
			<Property Name="DefaultExpressionScript">
				<Value><![CDATA[((0))]]></Value>
			</Property>
			<Relationship Name="DefiningTable">
				<Entry>
					<References Name="[dbo].[ItemsLiquidation]" />
				</Entry>
			</Relationship>
			<Relationship Name="ForColumn">
				<Entry>
					<References Name="[dbo].[ItemsLiquidation].[ValueUnLoadingCondition]" />
				</Entry>
			</Relationship>
			<Annotation Type="SqlInlineConstraintAnnotation" Disambiguator="7" />
		</Element>
		<Element Type="SqlDefaultConstraint">
			<Property Name="DefaultExpressionScript">
				<Value><![CDATA[((0))]]></Value>
			</Property>
			<Relationship Name="DefiningTable">
				<Entry>
					<References Name="[dbo].[ItemsLiquidation]" />
				</Entry>
			</Relationship>
			<Relationship Name="ForColumn">
				<Entry>
					<References Name="[dbo].[ItemsLiquidation].[VesselSpeed]" />
				</Entry>
			</Relationship>
			<Annotation Type="SqlInlineConstraintAnnotation" Disambiguator="8" />
		</Element>
		<Element Type="SqlDefaultConstraint">
			<Property Name="DefaultExpressionScript">
				<Value><![CDATA[((0))]]></Value>
			</Property>
			<Relationship Name="DefiningTable">
				<Entry>
					<References Name="[dbo].[ItemsLiquidation]" />
				</Entry>
			</Relationship>
			<Relationship Name="ForColumn">
				<Entry>
					<References Name="[dbo].[ItemsLiquidation].[VesselCapacity]" />
				</Entry>
			</Relationship>
			<Annotation Type="SqlInlineConstraintAnnotation" Disambiguator="9" />
		</Element>
		<Element Type="SqlDefaultConstraint">
			<Property Name="DefaultExpressionScript">
				<Value><![CDATA[((0))]]></Value>
			</Property>
			<Relationship Name="DefiningTable">
				<Entry>
					<References Name="[dbo].[ItemsLiquidation]" />
				</Entry>
			</Relationship>
			<Relationship Name="ForColumn">
				<Entry>
					<References Name="[dbo].[ItemsLiquidation].[VesselIfoConsumed]" />
				</Entry>
			</Relationship>
			<Annotation Type="SqlInlineConstraintAnnotation" Disambiguator="10" />
		</Element>
		<Element Type="SqlDefaultConstraint">
			<Property Name="DefaultExpressionScript">
				<Value><![CDATA[((0))]]></Value>
			</Property>
			<Relationship Name="DefiningTable">
				<Entry>
					<References Name="[dbo].[ItemsLiquidation]" />
				</Entry>
			</Relationship>
			<Relationship Name="ForColumn">
				<Entry>
					<References Name="[dbo].[ItemsLiquidation].[VesselMgoConsumed]" />
				</Entry>
			</Relationship>
			<Annotation Type="SqlInlineConstraintAnnotation" Disambiguator="11" />
		</Element>
		<Element Type="SqlDefaultConstraint">
			<Property Name="DefaultExpressionScript">
				<Value><![CDATA[((0))]]></Value>
			</Property>
			<Relationship Name="DefiningTable">
				<Entry>
					<References Name="[dbo].[ItemsLiquidation]" />
				</Entry>
			</Relationship>
			<Relationship Name="ForColumn">
				<Entry>
					<References Name="[dbo].[ItemsLiquidation].[RateLoading]" />
				</Entry>
			</Relationship>
			<Annotation Type="SqlInlineConstraintAnnotation" Disambiguator="12" />
		</Element>
		<Element Type="SqlDefaultConstraint">
			<Property Name="DefaultExpressionScript">
				<Value><![CDATA[((0))]]></Value>
			</Property>
			<Relationship Name="DefiningTable">
				<Entry>
					<References Name="[dbo].[ItemsLiquidation]" />
				</Entry>
			</Relationship>
			<Relationship Name="ForColumn">
				<Entry>
					<References Name="[dbo].[ItemsLiquidation].[CurrentFirstInterval]" />
				</Entry>
			</Relationship>
			<Annotation Type="SqlInlineConstraintAnnotation" Disambiguator="13" />
		</Element>
		<Element Type="SqlDefaultConstraint">
			<Property Name="DefaultExpressionScript">
				<Value><![CDATA[((0))]]></Value>
			</Property>
			<Relationship Name="DefiningTable">
				<Entry>
					<References Name="[dbo].[ItemsLiquidation]" />
				</Entry>
			</Relationship>
			<Relationship Name="ForColumn">
				<Entry>
					<References Name="[dbo].[ItemsLiquidation].[HourCanalPanama]" />
				</Entry>
			</Relationship>
			<Annotation Type="SqlInlineConstraintAnnotation" Disambiguator="14" />
		</Element>
		<Element Type="SqlDefaultConstraint">
			<Property Name="DefaultExpressionScript">
				<Value><![CDATA[((0))]]></Value>
			</Property>
			<Relationship Name="DefiningTable">
				<Entry>
					<References Name="[dbo].[ItemsLiquidation]" />
				</Entry>
			</Relationship>
			<Relationship Name="ForColumn">
				<Entry>
					<References Name="[dbo].[ItemsLiquidation].[DayCurrentPortAtLoadPort]" />
				</Entry>
			</Relationship>
			<Annotation Type="SqlInlineConstraintAnnotation" Disambiguator="15" />
		</Element>
		<Element Type="SqlDefaultConstraint">
			<Property Name="DefaultExpressionScript">
				<Value><![CDATA[((0))]]></Value>
			</Property>
			<Relationship Name="DefiningTable">
				<Entry>
					<References Name="[dbo].[ItemsLiquidation]" />
				</Entry>
			</Relationship>
			<Relationship Name="ForColumn">
				<Entry>
					<References Name="[dbo].[ItemsLiquidation].[Quantity]" />
				</Entry>
			</Relationship>
			<Annotation Type="SqlInlineConstraintAnnotation" Disambiguator="16" />
		</Element>
		<Element Type="SqlDefaultConstraint">
			<Property Name="DefaultExpressionScript">
				<Value><![CDATA[((0))]]></Value>
			</Property>
			<Relationship Name="DefiningTable">
				<Entry>
					<References Name="[dbo].[ItemsLiquidation]" />
				</Entry>
			</Relationship>
			<Relationship Name="ForColumn">
				<Entry>
					<References Name="[dbo].[ItemsLiquidation].[LoadingRate]" />
				</Entry>
			</Relationship>
			<Annotation Type="SqlInlineConstraintAnnotation" Disambiguator="17" />
		</Element>
		<Element Type="SqlDefaultConstraint">
			<Property Name="DefaultExpressionScript">
				<Value><![CDATA[((0))]]></Value>
			</Property>
			<Relationship Name="DefiningTable">
				<Entry>
					<References Name="[dbo].[ItemsLiquidation]" />
				</Entry>
			</Relationship>
			<Relationship Name="ForColumn">
				<Entry>
					<References Name="[dbo].[ItemsLiquidation].[DayLoadingPort]" />
				</Entry>
			</Relationship>
			<Annotation Type="SqlInlineConstraintAnnotation" Disambiguator="18" />
		</Element>
		<Element Type="SqlDefaultConstraint">
			<Property Name="DefaultExpressionScript">
				<Value><![CDATA[((0))]]></Value>
			</Property>
			<Relationship Name="DefiningTable">
				<Entry>
					<References Name="[dbo].[ItemsLiquidation]" />
				</Entry>
			</Relationship>
			<Relationship Name="ForColumn">
				<Entry>
					<References Name="[dbo].[ItemsLiquidation].[DayCanalPanama]" />
				</Entry>
			</Relationship>
			<Annotation Type="SqlInlineConstraintAnnotation" Disambiguator="19" />
		</Element>
		<Element Type="SqlDefaultConstraint">
			<Property Name="DefaultExpressionScript">
				<Value><![CDATA[((0))]]></Value>
			</Property>
			<Relationship Name="DefiningTable">
				<Entry>
					<References Name="[dbo].[ItemsLiquidation]" />
				</Entry>
			</Relationship>
			<Relationship Name="ForColumn">
				<Entry>
					<References Name="[dbo].[ItemsLiquidation].[DayLoadPortAtUnloadingPort]" />
				</Entry>
			</Relationship>
			<Annotation Type="SqlInlineConstraintAnnotation" Disambiguator="20" />
		</Element>
		<Element Type="SqlDefaultConstraint">
			<Property Name="DefaultExpressionScript">
				<Value><![CDATA[((0))]]></Value>
			</Property>
			<Relationship Name="DefiningTable">
				<Entry>
					<References Name="[dbo].[ItemsLiquidation]" />
				</Entry>
			</Relationship>
			<Relationship Name="ForColumn">
				<Entry>
					<References Name="[dbo].[ItemsLiquidation].[DayCanalPanamaDischarge]" />
				</Entry>
			</Relationship>
			<Annotation Type="SqlInlineConstraintAnnotation" Disambiguator="21" />
		</Element>
		<Element Type="SqlDefaultConstraint">
			<Property Name="DefaultExpressionScript">
				<Value><![CDATA[((0))]]></Value>
			</Property>
			<Relationship Name="DefiningTable">
				<Entry>
					<References Name="[dbo].[ItemsLiquidation]" />
				</Entry>
			</Relationship>
			<Relationship Name="ForColumn">
				<Entry>
					<References Name="[dbo].[ItemsLiquidation].[DayUnLoadingPort]" />
				</Entry>
			</Relationship>
			<Annotation Type="SqlInlineConstraintAnnotation" Disambiguator="22" />
		</Element>
		<Element Type="SqlDefaultConstraint">
			<Property Name="DefaultExpressionScript">
				<Value><![CDATA[((0))]]></Value>
			</Property>
			<Relationship Name="DefiningTable">
				<Entry>
					<References Name="[dbo].[ItemsLiquidation]" />
				</Entry>
			</Relationship>
			<Relationship Name="ForColumn">
				<Entry>
					<References Name="[dbo].[ItemsLiquidation].[IfoLoadPort]" />
				</Entry>
			</Relationship>
			<Annotation Type="SqlInlineConstraintAnnotation" Disambiguator="23" />
		</Element>
		<Element Type="SqlDefaultConstraint">
			<Property Name="DefaultExpressionScript">
				<Value><![CDATA[((0))]]></Value>
			</Property>
			<Relationship Name="DefiningTable">
				<Entry>
					<References Name="[dbo].[ItemsLiquidation]" />
				</Entry>
			</Relationship>
			<Relationship Name="ForColumn">
				<Entry>
					<References Name="[dbo].[ItemsLiquidation].[MgoLoadPort]" />
				</Entry>
			</Relationship>
			<Annotation Type="SqlInlineConstraintAnnotation" Disambiguator="24" />
		</Element>
		<Element Type="SqlDefaultConstraint">
			<Property Name="DefaultExpressionScript">
				<Value><![CDATA[((0))]]></Value>
			</Property>
			<Relationship Name="DefiningTable">
				<Entry>
					<References Name="[dbo].[ItemsLiquidation]" />
				</Entry>
			</Relationship>
			<Relationship Name="ForColumn">
				<Entry>
					<References Name="[dbo].[ItemsLiquidation].[IfoUnLoadPort]" />
				</Entry>
			</Relationship>
			<Annotation Type="SqlInlineConstraintAnnotation" Disambiguator="25" />
		</Element>
		<Element Type="SqlDefaultConstraint">
			<Property Name="DefaultExpressionScript">
				<Value><![CDATA[((0))]]></Value>
			</Property>
			<Relationship Name="DefiningTable">
				<Entry>
					<References Name="[dbo].[ItemsLiquidation]" />
				</Entry>
			</Relationship>
			<Relationship Name="ForColumn">
				<Entry>
					<References Name="[dbo].[ItemsLiquidation].[MgoUnLoadPort]" />
				</Entry>
			</Relationship>
			<Annotation Type="SqlInlineConstraintAnnotation" Disambiguator="26" />
		</Element>
		<Element Type="SqlDefaultConstraint">
			<Property Name="DefaultExpressionScript">
				<Value><![CDATA[((0))]]></Value>
			</Property>
			<Relationship Name="DefiningTable">
				<Entry>
					<References Name="[dbo].[ItemsLiquidation]" />
				</Entry>
			</Relationship>
			<Relationship Name="ForColumn">
				<Entry>
					<References Name="[dbo].[ItemsLiquidation].[RateUnLoading]" />
				</Entry>
			</Relationship>
			<Annotation Type="SqlInlineConstraintAnnotation" Disambiguator="27" />
		</Element>
		<Element Type="SqlDefaultConstraint">
			<Property Name="DefaultExpressionScript">
				<Value><![CDATA[((0))]]></Value>
			</Property>
			<Relationship Name="DefiningTable">
				<Entry>
					<References Name="[dbo].[ItemsLiquidation]" />
				</Entry>
			</Relationship>
			<Relationship Name="ForColumn">
				<Entry>
					<References Name="[dbo].[ItemsLiquidation].[CurrentInterval]" />
				</Entry>
			</Relationship>
			<Annotation Type="SqlInlineConstraintAnnotation" Disambiguator="28" />
		</Element>
		<Element Type="SqlDefaultConstraint">
			<Property Name="DefaultExpressionScript">
				<Value><![CDATA[((0))]]></Value>
			</Property>
			<Relationship Name="DefiningTable">
				<Entry>
					<References Name="[dbo].[ItemsLiquidation]" />
				</Entry>
			</Relationship>
			<Relationship Name="ForColumn">
				<Entry>
					<References Name="[dbo].[ItemsLiquidation].[UnLoadingRate]" />
				</Entry>
			</Relationship>
			<Annotation Type="SqlInlineConstraintAnnotation" Disambiguator="29" />
		</Element>
		<Element Type="SqlDefaultConstraint">
			<Property Name="DefaultExpressionScript">
				<Value><![CDATA[((0))]]></Value>
			</Property>
			<Relationship Name="DefiningTable">
				<Entry>
					<References Name="[dbo].[ItemsLiquidation]" />
				</Entry>
			</Relationship>
			<Relationship Name="ForColumn">
				<Entry>
					<References Name="[dbo].[ItemsLiquidation].[RateLoadTerminal]" />
				</Entry>
			</Relationship>
			<Annotation Type="SqlInlineConstraintAnnotation" Disambiguator="30" />
		</Element>
		<Element Type="SqlDefaultConstraint">
			<Property Name="DefaultExpressionScript">
				<Value><![CDATA[((0))]]></Value>
			</Property>
			<Relationship Name="DefiningTable">
				<Entry>
					<References Name="[dbo].[ItemsLiquidation]" />
				</Entry>
			</Relationship>
			<Relationship Name="ForColumn">
				<Entry>
					<References Name="[dbo].[ItemsLiquidation].[RateChargeTerminal]" />
				</Entry>
			</Relationship>
			<Annotation Type="SqlInlineConstraintAnnotation" Disambiguator="31" />
		</Element>
		<Element Type="SqlProcedure" Name="[dbo].[App_AssignCheckPermissions_List]">
			<Property Name="BodyScript">
				<Value><![CDATA[
/*------------------------------------------------------------------------------
-- getting xml main list only range: records_[begin,end], setting record status.
--Sin Asignados
------------------------------------------------------------------------------*/
Select Appmenus.MenuId, Appmenus.Menu,Appmenus.FilePage ,Appmenus.ParentId,Appmenus.IsActive,Token,'Parent' as Type
From Appmenus
Where   Appmenus.IsParent=1
Union
Select Appmenus.MenuId, Appmenus.Menu,Appmenus.FilePage ,Appmenus.ParentId,Appmenus.IsActive,Token,'ParentHuerfano' as Type
From Appmenus
Where  Appmenus.ParentId=-1
Union
Select Appmenus.MenuId, Appmenus.Menu,Appmenus.FilePage,Appmenus.ParentId,Appmenus.IsActive,Token,'Items' as Type
From Appmenus
Where   Isnull(Appmenus.IsParent,0)=0 and Appmenus.ParentId>0
/*-- - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -*/]]></Value>
			</Property>
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Relationship Name="BodyDependencies">
				<Entry>
					<References Name="[dbo].[AppMenus]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[AppMenus].[MenuId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[AppMenus].[Menu]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[AppMenus].[FilePage]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[AppMenus].[ParentId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[AppMenus].[IsActive]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[AppMenus].[Token]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[AppMenus].[IsParent]" />
				</Entry>
			</Relationship>
			<Relationship Name="Parameters">
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[App_AssignCheckPermissions_List].[@SessionId]">
						<Property Name="DefaultExpressionScript">
							<Value><![CDATA['']]></Value>
						</Property>
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Property Name="Length" Value="200" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[varchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="Schema">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<Annotation Type="SysCommentsObjectAnnotation">
				<Property Name="Length" Value="993" />
				<Property Name="StartLine" Value="1" />
				<Property Name="StartColumn" Value="1" />
				<Property Name="HeaderContents" Value="CREATE PROCEDURE [dbo].[App_AssignCheckPermissions_List]&#xD;&#xA;&#x9;@SessionId varchar(200) =''&#xD;&#xA;--WITH ENCRYPTION&#xD;&#xA;AS" />
			</Annotation>
		</Element>
		<Element Type="SqlProcedure" Name="[dbo].[App_CheckNewUsersPermissionsApply_Save]">
			<Property Name="BodyScript">
				<Value><![CDATA[
BEGIN
	/*------------------------------------------------------------------------------
	-- getting xml main list only range: records_begin,end, setting record status.
	--Sin Asignados
	------------------------------------------------------------------------------*/
	Declare @sError varchar(max),@i  int ,@IsErrorTecnichal int
	Execute C_Parameter_Get @CodeParameter= 'ERROR_TECNICHAL', @Value= @IsErrorTecnichal OUTPUT
	Begin Try
	Begin Transaction

		INSERT INTO [dbo].[AppAccessUsers]
				   ([UserId]
				   ,[ProfileId]
				   ,[MenuId]
				   ,[IsView]
				   ,[IsEdit]
				   ,[IsAutorization]
				   ,[IsStatus]
				   ,[IsNew]
				   ,[IsModify]
				   ,[IsSpecial]
				   ,[Updated]
				   ,[Creation]
				   ,[UpdatedId]
				   ,[IsDelete])
			 VALUES
				   (@UserId   
				   ,@ProfileId   
				   ,@MenuId   
				   ,@IsView   
				   ,@IsEdit   
				   ,@IsAutorization   
				   ,@IsStatus   
				   ,@IsNew   
				   ,@IsModify   
				   ,@IsSpecial   
				   ,getdate()
				   ,getdate()
				   ,@UpdatedId   
				   ,@IsDelete   )


	Commit Transaction
	------------------------------------------------------------------------------
	-- send back answer
	------------------------------------------------------------------------------
	-- - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -
	End Try
	Begin Catch
		-- there was an error
		If XACT_STATE() =-1
		Begin
    			Rollback WORK
		End
		If @@trancount >0
		Begin
    			Rollback WORK
		End
		If XACT_STATE() = 1
		Begin
    			Commit WORK
		End
		--Getting the error description
		Set @sError  =  ERROR_MESSAGE()
		if @IsErrorTecnichal=1
		Begin
			Set @sError  =   ERROR_PROCEDURE() + 
					';  ' + convert(varchar,ERROR_LINE()) + 
					'; ' + ERROR_MESSAGE()
		End 
		RaisError (@sError,16,1) 
		Return
	End Catch
END]]></Value>
			</Property>
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Relationship Name="BodyDependencies">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[varchar]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[int]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[int]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[C_Parameter_Get]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[C_Parameter_Get].[@CodeParameter]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[C_Parameter_Get].[@Value]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[AppAccessUsers]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[AppAccessUsers].[UserId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[AppAccessUsers].[ProfileId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[AppAccessUsers].[MenuId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[AppAccessUsers].[IsView]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[AppAccessUsers].[IsEdit]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[AppAccessUsers].[IsAutorization]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[AppAccessUsers].[IsStatus]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[AppAccessUsers].[IsNew]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[AppAccessUsers].[IsModify]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[AppAccessUsers].[IsSpecial]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[AppAccessUsers].[Updated]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[AppAccessUsers].[Creation]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[AppAccessUsers].[UpdatedId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[AppAccessUsers].[IsDelete]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[App_CheckNewUsersPermissionsApply_Save].[@UserId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[App_CheckNewUsersPermissionsApply_Save].[@ProfileId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[App_CheckNewUsersPermissionsApply_Save].[@MenuId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[App_CheckNewUsersPermissionsApply_Save].[@IsView]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[App_CheckNewUsersPermissionsApply_Save].[@IsEdit]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[App_CheckNewUsersPermissionsApply_Save].[@IsAutorization]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[App_CheckNewUsersPermissionsApply_Save].[@IsStatus]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[App_CheckNewUsersPermissionsApply_Save].[@IsNew]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[App_CheckNewUsersPermissionsApply_Save].[@IsModify]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[App_CheckNewUsersPermissionsApply_Save].[@IsSpecial]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[App_CheckNewUsersPermissionsApply_Save].[@UpdatedId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[App_CheckNewUsersPermissionsApply_Save].[@IsDelete]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[varchar]" />
				</Entry>
			</Relationship>
			<Relationship Name="Parameters">
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[App_CheckNewUsersPermissionsApply_Save].[@UserId]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[App_CheckNewUsersPermissionsApply_Save].[@ProfileId]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[App_CheckNewUsersPermissionsApply_Save].[@MenuId]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[App_CheckNewUsersPermissionsApply_Save].[@IsView]">
						<Property Name="DefaultExpressionScript">
							<Value><![CDATA[1]]></Value>
						</Property>
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[App_CheckNewUsersPermissionsApply_Save].[@IsEdit]">
						<Property Name="DefaultExpressionScript">
							<Value><![CDATA[0]]></Value>
						</Property>
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[App_CheckNewUsersPermissionsApply_Save].[@IsAutorization]">
						<Property Name="DefaultExpressionScript">
							<Value><![CDATA[0]]></Value>
						</Property>
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[App_CheckNewUsersPermissionsApply_Save].[@IsStatus]">
						<Property Name="DefaultExpressionScript">
							<Value><![CDATA[0]]></Value>
						</Property>
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[App_CheckNewUsersPermissionsApply_Save].[@IsNew]">
						<Property Name="DefaultExpressionScript">
							<Value><![CDATA[0]]></Value>
						</Property>
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[App_CheckNewUsersPermissionsApply_Save].[@IsModify]">
						<Property Name="DefaultExpressionScript">
							<Value><![CDATA[0]]></Value>
						</Property>
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[App_CheckNewUsersPermissionsApply_Save].[@IsSpecial]">
						<Property Name="DefaultExpressionScript">
							<Value><![CDATA[0]]></Value>
						</Property>
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[App_CheckNewUsersPermissionsApply_Save].[@UpdatedId]">
						<Property Name="DefaultExpressionScript">
							<Value><![CDATA[0]]></Value>
						</Property>
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[App_CheckNewUsersPermissionsApply_Save].[@IsDelete]">
						<Property Name="DefaultExpressionScript">
							<Value><![CDATA[0]]></Value>
						</Property>
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="Schema">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<Annotation Type="SysCommentsObjectAnnotation">
				<Property Name="Length" Value="2213" />
				<Property Name="StartLine" Value="1" />
				<Property Name="StartColumn" Value="1" />
				<Property Name="HeaderContents" Value="CREATE PROCEDURE [dbo].[App_CheckNewUsersPermissionsApply_Save]&#xD;&#xA;&#x9; @UserId int &#xD;&#xA;&#x9;,@ProfileId int &#xD;&#xA;&#x9;,@MenuId int &#xD;&#xA;&#x9;,@IsView int =1&#xD;&#xA;&#x9;,@IsEdit int =0&#xD;&#xA;&#x9;,@IsAutorization int =0&#xD;&#xA;&#x9;,@IsStatus int =0&#xD;&#xA;&#x9;,@IsNew int =0&#xD;&#xA;&#x9;,@IsModify int =0&#xD;&#xA;&#x9;,@IsSpecial int =0&#xD;&#xA;&#x9;,@UpdatedId int =0&#xD;&#xA;&#x9;,@IsDelete int=0&#xD;&#xA;--WITH ENCRYPTION&#xD;&#xA;AS" />
			</Annotation>
		</Element>
		<Element Type="SqlProcedure" Name="[dbo].[App_CheckPermissionsApply_Save]">
			<Property Name="BodyScript">
				<Value><![CDATA[
BEGIN
	/*------------------------------------------------------------------------------
	-- getting xml main list only range: records_begin,end, setting record status.
	--Sin Asignados
	------------------------------------------------------------------------------*/
	Declare @sError varchar(max),@i  int ,@IsErrorTecnichal int
	Execute C_Parameter_Get @CodeParameter= 'ERROR_TECNICHAL', @Value= @IsErrorTecnichal OUTPUT
	Begin Try
	Begin Transaction
	UPDATE [dbo].[AppProfilesMenus]
	   SET [Updated] = getdate()
		  ,[ParentId] = @ParentId
		  ,[IsVertical] = @IsVertical
		  ,[IsHorizontal] = @IsHorizontal
		  ,[IsActive] = @IsActive
		  ,[ProfileId] = @ProfileId
		  ,[MenuId] = @MenuId
		  ,[IsView] = @IsView
		  ,[IsNew] = @IsNew
		  ,[IsEdit] = @IsEdit
		  ,[IsAutorization] = @IsAutorization
		  ,[IsStatus] = @IsStatus
		  ,[IsModify] = @IsModify
		  ,[IsSpecial] = @IsSpecial
		  ,[IsDelete] = @IsDelete
	 WHERE ProfileMenuId=@ProfileMenuId
	Commit Transaction
	------------------------------------------------------------------------------
	-- send back answer
	------------------------------------------------------------------------------
	-- - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -
	End Try
	Begin Catch
		-- there was an error
		If XACT_STATE() =-1
		Begin
    			Rollback WORK
		End
		If @@trancount >0
		Begin
    			Rollback WORK
		End
		If XACT_STATE() = 1
		Begin
    			Commit WORK
		End
		--Getting the error description
		Set @sError  =  ERROR_MESSAGE()
		if @IsErrorTecnichal=1
		Begin
			Set @sError  =   ERROR_PROCEDURE() + 
					';  ' + convert(varchar,ERROR_LINE()) + 
					'; ' + ERROR_MESSAGE()
		End 
		RaisError (@sError,16,1) 
		Return
	End Catch
END]]></Value>
			</Property>
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Relationship Name="BodyDependencies">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[varchar]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[int]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[int]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[C_Parameter_Get]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[C_Parameter_Get].[@CodeParameter]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[C_Parameter_Get].[@Value]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[AppProfilesMenus]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[AppProfilesMenus].[Updated]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[AppProfilesMenus].[ParentId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[App_CheckPermissionsApply_Save].[@ParentId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[AppProfilesMenus].[IsVertical]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[App_CheckPermissionsApply_Save].[@IsVertical]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[AppProfilesMenus].[IsHorizontal]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[App_CheckPermissionsApply_Save].[@IsHorizontal]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[AppProfilesMenus].[IsActive]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[App_CheckPermissionsApply_Save].[@IsActive]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[AppProfilesMenus].[ProfileId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[App_CheckPermissionsApply_Save].[@ProfileId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[AppProfilesMenus].[MenuId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[App_CheckPermissionsApply_Save].[@MenuId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[AppProfilesMenus].[IsView]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[App_CheckPermissionsApply_Save].[@IsView]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[AppProfilesMenus].[IsNew]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[App_CheckPermissionsApply_Save].[@IsNew]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[AppProfilesMenus].[IsEdit]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[App_CheckPermissionsApply_Save].[@IsEdit]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[AppProfilesMenus].[IsAutorization]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[App_CheckPermissionsApply_Save].[@IsAutorization]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[AppProfilesMenus].[IsStatus]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[App_CheckPermissionsApply_Save].[@IsStatus]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[AppProfilesMenus].[IsModify]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[App_CheckPermissionsApply_Save].[@IsModify]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[AppProfilesMenus].[IsSpecial]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[App_CheckPermissionsApply_Save].[@IsSpecial]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[AppProfilesMenus].[IsDelete]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[App_CheckPermissionsApply_Save].[@IsDelete]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[AppProfilesMenus].[ProfileMenuId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[App_CheckPermissionsApply_Save].[@ProfileMenuId]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[varchar]" />
				</Entry>
			</Relationship>
			<Relationship Name="Parameters">
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[App_CheckPermissionsApply_Save].[@UpdatedId]">
						<Property Name="DefaultExpressionScript">
							<Value><![CDATA[0]]></Value>
						</Property>
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[App_CheckPermissionsApply_Save].[@ParentId]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[App_CheckPermissionsApply_Save].[@IsVertical]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[App_CheckPermissionsApply_Save].[@IsHorizontal]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[App_CheckPermissionsApply_Save].[@IsActive]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[App_CheckPermissionsApply_Save].[@ProfileId]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[App_CheckPermissionsApply_Save].[@MenuId]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[App_CheckPermissionsApply_Save].[@IsView]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[App_CheckPermissionsApply_Save].[@IsNew]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[App_CheckPermissionsApply_Save].[@IsEdit]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[App_CheckPermissionsApply_Save].[@IsAutorization]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[App_CheckPermissionsApply_Save].[@IsStatus]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[App_CheckPermissionsApply_Save].[@IsModify]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[App_CheckPermissionsApply_Save].[@IsSpecial]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[App_CheckPermissionsApply_Save].[@IsDelete]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[App_CheckPermissionsApply_Save].[@ProfileMenuId]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="Schema">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<Annotation Type="SysCommentsObjectAnnotation">
				<Property Name="Length" Value="2146" />
				<Property Name="StartLine" Value="1" />
				<Property Name="StartColumn" Value="1" />
				<Property Name="HeaderContents" Value="CREATE PROCEDURE [dbo].[App_CheckPermissionsApply_Save]&#xD;&#xA;&#x9; @UpdatedId int=0&#xD;&#xA;&#x9;,@ParentId int&#xD;&#xA;&#x9;,@IsVertical int&#xD;&#xA;&#x9;,@IsHorizontal int&#xD;&#xA;&#x9;,@IsActive int&#xD;&#xA;&#x9;,@ProfileId int&#xD;&#xA;&#x9;,@MenuId int&#xD;&#xA;&#x9;,@IsView int&#xD;&#xA;&#x9;,@IsNew int&#xD;&#xA;&#x9;,@IsEdit int&#xD;&#xA;&#x9;,@IsAutorization int &#xD;&#xA;&#x9;,@IsStatus int &#xD;&#xA;&#x9;,@IsModify int&#xD;&#xA;&#x9;,@IsSpecial int &#xD;&#xA;&#x9;,@IsDelete int&#xD;&#xA;&#x9;,@ProfileMenuId int&#xD;&#xA;--WITH ENCRYPTION&#xD;&#xA;AS" />
			</Annotation>
		</Element>
		<Element Type="SqlProcedure" Name="[dbo].[App_CheckPermissionsApplyProfile_Save]">
			<Property Name="BodyScript">
				<Value><![CDATA[
BEGIN
	/*------------------------------------------------------------------------------
	-- getting xml main list only range: records_begin,end, setting record status.
	--Sin Asignados
	------------------------------------------------------------------------------*/
	Declare @sError varchar(max),@i  int ,@IsErrorTecnichal int
	Execute C_Parameter_Get @CodeParameter= 'ERROR_TECNICHAL', @Value= @IsErrorTecnichal OUTPUT
	Begin Try
	Begin Transaction
			INSERT INTO [dbo].[AppProfilesMenus]
					   ([ParentId]
					   ,[IsVertical]
					   ,[IsHorizontal]
					   ,[IsActive]
					   ,[ProfileId]
					   ,[MenuId]
					   ,[IsView]
					   ,[IsNew]
					   ,[IsEdit]
					   ,[IsAutorization]
					   ,[IsStatus]
					   ,[IsModify]
					   ,[IsSpecial]
					   ,[IsDelete])
				 VALUES
					   (@ParentId 
					   ,@IsVertical 
					   ,@IsHorizontal 
					   ,@IsActive 
					   ,@ProfileId 
					   ,@MenuId 
					   ,@IsView 
					   ,@IsNew 
					   ,@IsEdit 
					   ,@IsAutorization 
					   ,@IsStatus 
					   ,@IsModify 
					   ,@IsSpecial 
					   ,@IsDelete)
	Commit Transaction
	------------------------------------------------------------------------------
	-- send back answer
	------------------------------------------------------------------------------
	-- - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -
	End Try
	Begin Catch
		-- there was an error
		If XACT_STATE() =-1
		Begin
    			Rollback WORK
		End
		If @@trancount >0
		Begin
    			Rollback WORK
		End
		If XACT_STATE() = 1
		Begin
    			Commit WORK
		End
		--Getting the error description
		Set @sError  =  ERROR_MESSAGE()
		if @IsErrorTecnichal=1
		Begin
			Set @sError  =   ERROR_PROCEDURE() + 
					';  ' + convert(varchar,ERROR_LINE()) + 
					'; ' + ERROR_MESSAGE()
		End 
		RaisError (@sError,16,1) 
		Return
	End Catch
END]]></Value>
			</Property>
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Relationship Name="BodyDependencies">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[varchar]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[int]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[int]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[C_Parameter_Get]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[C_Parameter_Get].[@CodeParameter]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[C_Parameter_Get].[@Value]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[AppProfilesMenus]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[AppProfilesMenus].[ParentId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[AppProfilesMenus].[IsVertical]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[AppProfilesMenus].[IsHorizontal]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[AppProfilesMenus].[IsActive]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[AppProfilesMenus].[ProfileId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[AppProfilesMenus].[MenuId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[AppProfilesMenus].[IsView]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[AppProfilesMenus].[IsNew]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[AppProfilesMenus].[IsEdit]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[AppProfilesMenus].[IsAutorization]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[AppProfilesMenus].[IsStatus]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[AppProfilesMenus].[IsModify]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[AppProfilesMenus].[IsSpecial]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[AppProfilesMenus].[IsDelete]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[App_CheckPermissionsApplyProfile_Save].[@ParentId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[App_CheckPermissionsApplyProfile_Save].[@IsVertical]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[App_CheckPermissionsApplyProfile_Save].[@IsHorizontal]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[App_CheckPermissionsApplyProfile_Save].[@IsActive]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[App_CheckPermissionsApplyProfile_Save].[@ProfileId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[App_CheckPermissionsApplyProfile_Save].[@MenuId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[App_CheckPermissionsApplyProfile_Save].[@IsView]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[App_CheckPermissionsApplyProfile_Save].[@IsNew]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[App_CheckPermissionsApplyProfile_Save].[@IsEdit]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[App_CheckPermissionsApplyProfile_Save].[@IsAutorization]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[App_CheckPermissionsApplyProfile_Save].[@IsStatus]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[App_CheckPermissionsApplyProfile_Save].[@IsModify]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[App_CheckPermissionsApplyProfile_Save].[@IsSpecial]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[App_CheckPermissionsApplyProfile_Save].[@IsDelete]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[varchar]" />
				</Entry>
			</Relationship>
			<Relationship Name="Parameters">
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[App_CheckPermissionsApplyProfile_Save].[@ProfileId]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[App_CheckPermissionsApplyProfile_Save].[@MenuId]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[App_CheckPermissionsApplyProfile_Save].[@UpdatedId]">
						<Property Name="DefaultExpressionScript">
							<Value><![CDATA[0]]></Value>
						</Property>
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[App_CheckPermissionsApplyProfile_Save].[@ParentId]">
						<Property Name="DefaultExpressionScript">
							<Value><![CDATA[0]]></Value>
						</Property>
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[App_CheckPermissionsApplyProfile_Save].[@IsVertical]">
						<Property Name="DefaultExpressionScript">
							<Value><![CDATA[0]]></Value>
						</Property>
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[App_CheckPermissionsApplyProfile_Save].[@IsHorizontal]">
						<Property Name="DefaultExpressionScript">
							<Value><![CDATA[0]]></Value>
						</Property>
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[App_CheckPermissionsApplyProfile_Save].[@IsActive]">
						<Property Name="DefaultExpressionScript">
							<Value><![CDATA[1]]></Value>
						</Property>
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[App_CheckPermissionsApplyProfile_Save].[@IsView]">
						<Property Name="DefaultExpressionScript">
							<Value><![CDATA[1]]></Value>
						</Property>
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[App_CheckPermissionsApplyProfile_Save].[@IsNew]">
						<Property Name="DefaultExpressionScript">
							<Value><![CDATA[0]]></Value>
						</Property>
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[App_CheckPermissionsApplyProfile_Save].[@IsEdit]">
						<Property Name="DefaultExpressionScript">
							<Value><![CDATA[0]]></Value>
						</Property>
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[App_CheckPermissionsApplyProfile_Save].[@IsAutorization]">
						<Property Name="DefaultExpressionScript">
							<Value><![CDATA[0]]></Value>
						</Property>
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[App_CheckPermissionsApplyProfile_Save].[@IsStatus]">
						<Property Name="DefaultExpressionScript">
							<Value><![CDATA[0]]></Value>
						</Property>
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[App_CheckPermissionsApplyProfile_Save].[@IsModify]">
						<Property Name="DefaultExpressionScript">
							<Value><![CDATA[0]]></Value>
						</Property>
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[App_CheckPermissionsApplyProfile_Save].[@IsSpecial]">
						<Property Name="DefaultExpressionScript">
							<Value><![CDATA[0]]></Value>
						</Property>
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[App_CheckPermissionsApplyProfile_Save].[@IsDelete]">
						<Property Name="DefaultExpressionScript">
							<Value><![CDATA[0]]></Value>
						</Property>
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="Schema">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<Annotation Type="SysCommentsObjectAnnotation">
				<Property Name="Length" Value="2288" />
				<Property Name="StartLine" Value="1" />
				<Property Name="StartColumn" Value="1" />
				<Property Name="HeaderContents" Value="CREATE PROCEDURE [dbo].[App_CheckPermissionsApplyProfile_Save]&#xD;&#xA;&#x9;@ProfileId int&#xD;&#xA;&#x9;,@MenuId int&#xD;&#xA;&#x9;,@UpdatedId int=0&#xD;&#xA;&#x9;,@ParentId int=0&#xD;&#xA;&#x9;,@IsVertical int=0&#xD;&#xA;&#x9;,@IsHorizontal int=0&#xD;&#xA;&#x9;,@IsActive int=1&#xD;&#xA;&#x9;,@IsView int=1&#xD;&#xA;&#x9;,@IsNew int=0&#xD;&#xA;&#x9;,@IsEdit int=0&#xD;&#xA;&#x9;,@IsAutorization int =0&#xD;&#xA;&#x9;,@IsStatus int =0&#xD;&#xA;&#x9;,@IsModify int=0&#xD;&#xA;&#x9;,@IsSpecial int =0&#xD;&#xA;&#x9;,@IsDelete int=0&#xD;&#xA;--WITH ENCRYPTION&#xD;&#xA;AS" />
			</Annotation>
		</Element>
		<Element Type="SqlProcedure" Name="[dbo].[App_CheckPermissionsApplyUsers_Save]">
			<Property Name="BodyScript">
				<Value><![CDATA[
BEGIN
	/*------------------------------------------------------------------------------
	-- getting xml main list only range: records_begin,end, setting record status.
	--Sin Asignados
	------------------------------------------------------------------------------*/
	Declare @sError varchar(max),@i  int ,@IsErrorTecnichal int
	Execute C_Parameter_Get @CodeParameter= 'ERROR_TECNICHAL', @Value= @IsErrorTecnichal OUTPUT
	Begin Try
	Begin Transaction
		UPDATE [dbo].[AppAccessUsers]
		   SET [UserId] = @UserId   
			  ,[ProfileId] = @ProfileId   
			  ,[MenuId] = @MenuId   
			  ,[IsView] = @IsView   
			  ,[IsEdit] = @IsEdit   
			  ,[IsAutorization] = @IsAutorization   
			  ,[IsStatus] = @IsStatus   
			  ,[IsNew] = @IsNew                    
			  ,[IsModify] = @IsModify   
			  ,[IsSpecial] = @IsSpecial  
			  ,[Updated] = getdate()
			  ,[UpdatedId] = @UpdatedId   
			  ,[IsDelete] = @IsDelete   
		 WHERE UserAcces=@UserAcces
	Commit Transaction
	------------------------------------------------------------------------------
	-- send back answer
	------------------------------------------------------------------------------
	-- - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -
	End Try
	Begin Catch
		-- there was an error
		If XACT_STATE() =-1
		Begin
    			Rollback WORK
		End
		If @@trancount >0
		Begin
    			Rollback WORK
		End
		If XACT_STATE() = 1
		Begin
    			Commit WORK
		End
		--Getting the error description
		Set @sError  =  ERROR_MESSAGE()
		if @IsErrorTecnichal=1
		Begin
			Set @sError  =   ERROR_PROCEDURE() + 
					';  ' + convert(varchar,ERROR_LINE()) + 
					'; ' + ERROR_MESSAGE()
		End 
		RaisError (@sError,16,1) 
		Return
	End Catch
END]]></Value>
			</Property>
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Relationship Name="BodyDependencies">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[varchar]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[int]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[int]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[C_Parameter_Get]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[C_Parameter_Get].[@CodeParameter]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[C_Parameter_Get].[@Value]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[AppAccessUsers]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[AppAccessUsers].[UserId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[App_CheckPermissionsApplyUsers_Save].[@UserId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[AppAccessUsers].[ProfileId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[App_CheckPermissionsApplyUsers_Save].[@ProfileId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[AppAccessUsers].[MenuId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[App_CheckPermissionsApplyUsers_Save].[@MenuId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[AppAccessUsers].[IsView]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[App_CheckPermissionsApplyUsers_Save].[@IsView]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[AppAccessUsers].[IsEdit]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[App_CheckPermissionsApplyUsers_Save].[@IsEdit]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[AppAccessUsers].[IsAutorization]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[App_CheckPermissionsApplyUsers_Save].[@IsAutorization]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[AppAccessUsers].[IsStatus]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[App_CheckPermissionsApplyUsers_Save].[@IsStatus]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[AppAccessUsers].[IsNew]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[App_CheckPermissionsApplyUsers_Save].[@IsNew]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[AppAccessUsers].[IsModify]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[App_CheckPermissionsApplyUsers_Save].[@IsModify]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[AppAccessUsers].[IsSpecial]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[App_CheckPermissionsApplyUsers_Save].[@IsSpecial]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[AppAccessUsers].[Updated]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[AppAccessUsers].[UpdatedId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[App_CheckPermissionsApplyUsers_Save].[@UpdatedId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[AppAccessUsers].[IsDelete]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[App_CheckPermissionsApplyUsers_Save].[@IsDelete]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[AppAccessUsers].[UserAcces]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[App_CheckPermissionsApplyUsers_Save].[@UserAcces]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[varchar]" />
				</Entry>
			</Relationship>
			<Relationship Name="Parameters">
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[App_CheckPermissionsApplyUsers_Save].[@UserId]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[App_CheckPermissionsApplyUsers_Save].[@ProfileId]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[App_CheckPermissionsApplyUsers_Save].[@MenuId]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[App_CheckPermissionsApplyUsers_Save].[@IsView]">
						<Property Name="DefaultExpressionScript">
							<Value><![CDATA[1]]></Value>
						</Property>
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[App_CheckPermissionsApplyUsers_Save].[@IsEdit]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[App_CheckPermissionsApplyUsers_Save].[@IsAutorization]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[App_CheckPermissionsApplyUsers_Save].[@IsStatus]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[App_CheckPermissionsApplyUsers_Save].[@IsNew]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[App_CheckPermissionsApplyUsers_Save].[@IsModify]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[App_CheckPermissionsApplyUsers_Save].[@IsSpecial]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[App_CheckPermissionsApplyUsers_Save].[@UpdatedId]">
						<Property Name="DefaultExpressionScript">
							<Value><![CDATA[0]]></Value>
						</Property>
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[App_CheckPermissionsApplyUsers_Save].[@IsDelete]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[App_CheckPermissionsApplyUsers_Save].[@UserAcces]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="Schema">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<Annotation Type="SysCommentsObjectAnnotation">
				<Property Name="Length" Value="2096" />
				<Property Name="StartLine" Value="1" />
				<Property Name="StartColumn" Value="1" />
				<Property Name="HeaderContents" Value="CREATE PROCEDURE [dbo].[App_CheckPermissionsApplyUsers_Save]&#xD;&#xA;&#x9;&#x9;@UserId int &#xD;&#xA;&#x9;&#x9;,@ProfileId int &#xD;&#xA;&#x9;&#x9;,@MenuId int &#xD;&#xA;&#x9;&#x9;,@IsView int =1&#xD;&#xA;&#x9;&#x9;,@IsEdit int &#xD;&#xA;&#x9;&#x9;,@IsAutorization int &#xD;&#xA;&#x9;&#x9;,@IsStatus int &#xD;&#xA;&#x9;&#x9;,@IsNew int &#xD;&#xA;&#x9;&#x9;,@IsModify int &#xD;&#xA;&#x9;&#x9;,@IsSpecial int &#xD;&#xA;&#x9;&#x9;,@UpdatedId int=0 &#xD;&#xA;&#x9;&#x9;,@IsDelete int &#xD;&#xA;&#x9;&#x9;,@UserAcces int&#xD;&#xA;--WITH ENCRYPTION&#xD;&#xA;AS" />
			</Annotation>
		</Element>
		<Element Type="SqlProcedure" Name="[dbo].[App_CheckRemoveProfilesPermissionsApply_Delete]">
			<Property Name="BodyScript">
				<Value><![CDATA[
BEGIN
	/*------------------------------------------------------------------------------
	-- getting xml main list only range: records_begin,end, setting record status.
	--Sin Asignados
	------------------------------------------------------------------------------*/
	Declare @sError varchar(max),@i  int ,@IsErrorTecnichal int
	Execute C_Parameter_Get @CodeParameter= 'ERROR_TECNICHAL', @Value= @IsErrorTecnichal OUTPUT
	Begin Try
	Begin Transaction
		Delete [dbo].AppProfilesMenus
		 WHERE ProfileMenuId=@ProfileMenuId
	Commit Transaction
	------------------------------------------------------------------------------
	-- send back answer
	------------------------------------------------------------------------------
	-- - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -
	End Try
	Begin Catch
		-- there was an error
		If XACT_STATE() =-1
		Begin
    			Rollback WORK
		End
		If @@trancount >0
		Begin
    			Rollback WORK
		End
		If XACT_STATE() = 1
		Begin
    			Commit WORK
		End
		--Getting the error description
		Set @sError  =  ERROR_MESSAGE()
		if @IsErrorTecnichal=1
		Begin
			Set @sError  =   ERROR_PROCEDURE() + 
					';  ' + convert(varchar,ERROR_LINE()) + 
					'; ' + ERROR_MESSAGE()
		End 
		RaisError (@sError,16,1) 
		Return
	End Catch
END]]></Value>
			</Property>
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Relationship Name="BodyDependencies">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[varchar]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[int]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[int]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[C_Parameter_Get]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[C_Parameter_Get].[@CodeParameter]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[C_Parameter_Get].[@Value]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[AppProfilesMenus]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[AppProfilesMenus].[ProfileMenuId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[App_CheckRemoveProfilesPermissionsApply_Delete].[@ProfileMenuId]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[varchar]" />
				</Entry>
			</Relationship>
			<Relationship Name="Parameters">
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[App_CheckRemoveProfilesPermissionsApply_Delete].[@UpdatedId]">
						<Property Name="DefaultExpressionScript">
							<Value><![CDATA[0]]></Value>
						</Property>
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[App_CheckRemoveProfilesPermissionsApply_Delete].[@ProfileMenuId]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="Schema">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<Annotation Type="SysCommentsObjectAnnotation">
				<Property Name="Length" Value="1471" />
				<Property Name="StartLine" Value="1" />
				<Property Name="StartColumn" Value="1" />
				<Property Name="HeaderContents" Value="CREATE PROCEDURE [dbo].[App_CheckRemoveProfilesPermissionsApply_Delete]&#xD;&#xA;&#x9;&#x9;@UpdatedId int=0 &#xD;&#xA;&#x9;&#x9;,@ProfileMenuId int&#xD;&#xA;--WITH ENCRYPTION&#xD;&#xA;AS" />
			</Annotation>
		</Element>
		<Element Type="SqlProcedure" Name="[dbo].[App_CheckRemoveUsersPermissionsApply_Delete]">
			<Property Name="BodyScript">
				<Value><![CDATA[
BEGIN
	/*------------------------------------------------------------------------------
	-- getting xml main list only range: records_begin,end, setting record status.
	--Sin Asignados
	------------------------------------------------------------------------------*/
	Declare @sError varchar(max),@i  int ,@IsErrorTecnichal int
	Execute C_Parameter_Get @CodeParameter= 'ERROR_TECNICHAL', @Value= @IsErrorTecnichal OUTPUT
	Begin Try
	Begin Transaction
		Delete [dbo].[AppAccessUsers]
		 WHERE AppAccessUsers.UserAcces=@UserAcces
	Commit Transaction
	------------------------------------------------------------------------------
	-- send back answer
	------------------------------------------------------------------------------
	-- - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -
	End Try
	Begin Catch
		-- there was an error
		If XACT_STATE() =-1
		Begin
    			Rollback WORK
		End
		If @@trancount >0
		Begin
    			Rollback WORK
		End
		If XACT_STATE() = 1
		Begin
    			Commit WORK
		End
		--Getting the error description
		Set @sError  =  ERROR_MESSAGE()
		if @IsErrorTecnichal=1
		Begin
			Set @sError  =   ERROR_PROCEDURE() + 
					';  ' + convert(varchar,ERROR_LINE()) + 
					'; ' + ERROR_MESSAGE()
		End 
		RaisError (@sError,16,1) 
		Return
	End Catch
END]]></Value>
			</Property>
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Relationship Name="BodyDependencies">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[varchar]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[int]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[int]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[C_Parameter_Get]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[C_Parameter_Get].[@CodeParameter]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[C_Parameter_Get].[@Value]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[AppAccessUsers]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[AppAccessUsers].[UserAcces]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[App_CheckRemoveUsersPermissionsApply_Delete].[@UserAcces]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[varchar]" />
				</Entry>
			</Relationship>
			<Relationship Name="Parameters">
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[App_CheckRemoveUsersPermissionsApply_Delete].[@UpdatedId]">
						<Property Name="DefaultExpressionScript">
							<Value><![CDATA[0]]></Value>
						</Property>
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[App_CheckRemoveUsersPermissionsApply_Delete].[@UserAcces]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="Schema">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<Annotation Type="SysCommentsObjectAnnotation">
				<Property Name="Length" Value="1471" />
				<Property Name="StartLine" Value="1" />
				<Property Name="StartColumn" Value="1" />
				<Property Name="HeaderContents" Value="CREATE PROCEDURE [dbo].[App_CheckRemoveUsersPermissionsApply_Delete]&#xD;&#xA;&#x9;&#x9;@UpdatedId int=0 &#xD;&#xA;&#x9;&#x9;,@UserAcces int&#xD;&#xA;--WITH ENCRYPTION&#xD;&#xA;AS" />
			</Annotation>
		</Element>
		<Element Type="SqlProcedure" Name="[dbo].[App_DefaultMenus_List]">
			<Property Name="BodyScript">
				<Value><![CDATA[
BEGIN
		/*------------------------------------------------------------------------------
		-- getting xml main list only range: records_[begin,end], setting record status.
		--Sin Asignados
		------------------------------------------------------------------------------*/
		Declare @Menu varchar(300),@FilePage varchar(400),@UserId int,@ProfileId int
		Declare @ds_version varchar(50),@dt_lastupdated datetime 
		
		--Validacion de Session
		SELECT @UserId=AppUsers.UserId,@ProfileId=Appusers.ProfileId
		From Appsessions 
					Inner Join AppUsers On Appsessions.UserId=AppUsers.UserId
		where SessionId=@SessionId

		
		;With CTEMenu as (
		Select AppMenus.ParentId as MenuId,Menu,FilePage,'Items' as Type, Icon as Icon, AppMenus.Token, 0 as Relationship,AppMenus.Alias, AppMenus.IsHorizontal, AppMenus.IsVertical
		From AppMenus
				Inner join AppProfilesMenus on AppProfilesMenus.MenuId=AppMenus.MenuId
					left Join (Select  count(appmenus.ParentId) as am_parent,appmenus.ParentId
									from appmenus
											Inner join AppProfiles on AppProfiles.ProfileId=@ProfileId
											Inner Join AppProfilesMenus on   AppProfilesMenus.MenuId=AppMenus.MenuId
									where AppMenus.IsParent=0 and AppMenus.IsActive =1 and IsView=1 and AppMenus.ParentId>0
									group by AppMenus.ParentId ) Temp1 On Temp1.ParentId=AppMenus.MenuId 
					left Join (Select  count(AppMenus.ParentId) as am_user_parent,appmenus.ParentId
								from AppMenus
										Inner join AppUsers on AppUsers.UserId=@UserId
										Inner Join Appsessions On Appsessions.UserId=AppUsers.UserId
										Inner Join AppAccessUsers on   AppAccessUsers.MenuId=AppMenus.MenuId and AppAccessUsers.MenuId=appmenus.MenuId  and AppAccessUsers.UserId=appusers.UserId
								where AppMenus.IsParent=0 and appmenus.IsActive =1 and IsView=1 and AppAccessUsers.ProfileId=@ProfileId and AppMenus.ParentId>0 and  Appsessions.SessionId=@SessionId
								group by AppMenus.ParentId ) Temp2 On Temp2.ParentId=appmenus.MenuId 
		Where AppProfilesMenus.ProfileId=@ProfileId 
		union
		Select AppMenus.MenuId,Menu, AppMenus.FilePage, 'Parent' as Type, Icon, AppMenus.Token,  (select Count(1) 
																									from AppProfilesMenus 
																									Where AppProfilesMenus.ParentId=AppMenus.MenuId 
																									and IsActive=1 
																									and AppProfilesMenus.ProfileId=AppProfiles.ProfileId) as Relationship,AppMenus.Alias,
				AppMenus.IsHorizontal, AppMenus.IsVertical
		From AppMenus 
				Inner Join AppProfilesMenus On AppMenus.MenuId=AppProfilesMenus.MenuId
			   Inner Join AppProfiles On AppProfilesMenus.ProfileId=AppProfiles.ProfileId  and AppProfiles.ProfileId=@ProfileId
		Where AppMenus.IsParent=1 and AppMenus.IsActive =1
		)
		Select * from CTEMenu
		Order by IsHorizontal asc, IsVertical asc
END
--]]></Value>
			</Property>
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Relationship Name="BodyDependencies">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[varchar]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[varchar]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[int]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[int]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[varchar]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[datetime]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[AppSessions]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[AppUsers]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[AppSessions].[UserId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[AppUsers].[UserId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[AppUsers].[ProfileId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[AppSessions].[SessionId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[App_DefaultMenus_List].[@SessionId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[AppMenus]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[AppProfilesMenus]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[AppProfilesMenus].[MenuId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[AppMenus].[MenuId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[AppMenus]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[AppProfiles]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[AppProfiles].[ProfileId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[AppProfilesMenus]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[AppProfilesMenus].[MenuId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[AppMenus].[MenuId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[AppMenus].[ParentId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[AppMenus].[IsParent]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[AppMenus].[IsActive]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[AppProfilesMenus].[IsView]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[AppMenus].[ParentId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[AppMenus].[ParentId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[AppUsers]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[AppUsers].[UserId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[AppSessions]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[AppSessions].[UserId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[AppUsers].[UserId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[AppAccessUsers]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[AppAccessUsers].[MenuId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[AppMenus].[MenuId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[AppMenus].[MenuId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[AppAccessUsers].[UserId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[AppUsers].[UserId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[AppMenus].[ParentId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[AppMenus].[ParentId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[AppMenus].[IsParent]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[AppMenus].[IsActive]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[AppAccessUsers].[IsView]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[AppAccessUsers].[ProfileId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[AppSessions].[SessionId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[AppMenus].[ParentId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[AppMenus].[MenuId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[AppMenus].[ParentId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[AppMenus].[Menu]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[AppMenus].[FilePage]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[AppMenus].[Icon]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[AppMenus].[Token]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[AppMenus].[Alias]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[AppMenus].[IsHorizontal]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[AppMenus].[IsVertical]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[AppProfilesMenus].[ProfileId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[AppProfiles]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[AppProfilesMenus].[ProfileId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[AppProfiles].[ProfileId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[AppMenus].[MenuId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[AppMenus].[Menu]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[AppMenus].[FilePage]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[AppMenus].[Icon]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[AppMenus].[Token]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[AppProfilesMenus].[ParentId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[AppMenus].[MenuId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[AppProfilesMenus].[IsActive]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[AppProfilesMenus].[ProfileId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[AppProfiles].[ProfileId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[AppMenus].[Alias]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[AppMenus].[IsHorizontal]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[AppMenus].[IsVertical]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[AppMenus].[IsParent]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[AppMenus].[IsActive]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[AppMenus].[IsHorizontal]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[AppMenus].[IsVertical]" />
				</Entry>
			</Relationship>
			<Relationship Name="DynamicObjects">
				<Entry>
					<Element Type="SqlDynamicColumnSource" Name="[dbo].[App_DefaultMenus_List].[CTE1].[CTEMenu]">
						<Relationship Name="Columns">
							<Entry>
								<Element Type="SqlComputedColumn" Name="[dbo].[App_DefaultMenus_List].[CTE1].[CTEMenu].[MenuId]">
									<Relationship Name="ExpressionDependencies">
										<Entry>
											<References Name="[dbo].[AppMenus].[ParentId]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
							<Entry>
								<Element Type="SqlComputedColumn" Name="[dbo].[App_DefaultMenus_List].[CTE1].[CTEMenu].[Menu]">
									<Relationship Name="ExpressionDependencies">
										<Entry>
											<References Name="[dbo].[AppMenus].[Menu]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
							<Entry>
								<Element Type="SqlComputedColumn" Name="[dbo].[App_DefaultMenus_List].[CTE1].[CTEMenu].[FilePage]">
									<Relationship Name="ExpressionDependencies">
										<Entry>
											<References Name="[dbo].[AppMenus].[FilePage]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
							<Entry>
								<Element Type="SqlComputedColumn" Name="[dbo].[App_DefaultMenus_List].[CTE1].[CTEMenu].[Type]" />
							</Entry>
							<Entry>
								<Element Type="SqlComputedColumn" Name="[dbo].[App_DefaultMenus_List].[CTE1].[CTEMenu].[Icon]">
									<Relationship Name="ExpressionDependencies">
										<Entry>
											<References Name="[dbo].[AppMenus].[Icon]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
							<Entry>
								<Element Type="SqlComputedColumn" Name="[dbo].[App_DefaultMenus_List].[CTE1].[CTEMenu].[Token]">
									<Relationship Name="ExpressionDependencies">
										<Entry>
											<References Name="[dbo].[AppMenus].[Token]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
							<Entry>
								<Element Type="SqlComputedColumn" Name="[dbo].[App_DefaultMenus_List].[CTE1].[CTEMenu].[Relationship]" />
							</Entry>
							<Entry>
								<Element Type="SqlComputedColumn" Name="[dbo].[App_DefaultMenus_List].[CTE1].[CTEMenu].[Alias]">
									<Relationship Name="ExpressionDependencies">
										<Entry>
											<References Name="[dbo].[AppMenus].[Alias]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
							<Entry>
								<Element Type="SqlComputedColumn" Name="[dbo].[App_DefaultMenus_List].[CTE1].[CTEMenu].[IsHorizontal]">
									<Relationship Name="ExpressionDependencies">
										<Entry>
											<References Name="[dbo].[AppMenus].[IsHorizontal]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
							<Entry>
								<Element Type="SqlComputedColumn" Name="[dbo].[App_DefaultMenus_List].[CTE1].[CTEMenu].[IsVertical]">
									<Relationship Name="ExpressionDependencies">
										<Entry>
											<References Name="[dbo].[AppMenus].[IsVertical]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="Parameters">
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[App_DefaultMenus_List].[@SessionId]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Property Name="Length" Value="200" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[varchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="Schema">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<Annotation Type="SysCommentsObjectAnnotation">
				<Property Name="CreateOffset" Value="65" />
				<Property Name="Length" Value="3029" />
				<Property Name="StartLine" Value="1" />
				<Property Name="StartColumn" Value="1" />
				<Property Name="HeaderContents" Value="--App_DefaultMenus_List '8BA240FD-43B8-43E9-AA18-352F0DF8613A' &#xD;&#xA;CREATE PROCEDURE [dbo].[App_DefaultMenus_List] &#xD;&#xA;&#x9;@SessionId varchar(200)&#xD;&#xA;--WITH ENCRYPTION&#xD;&#xA;AS" />
			</Annotation>
		</Element>
		<Element Type="SqlProcedure" Name="[dbo].[App_DropDownGeneral_List]">
			<Property Name="BodyScript">
				<Value><![CDATA[
BEGIN
		/*------------------------------------------------------------------------------
		-- getting xml main list only range: records_[begin,end], setting record status.
		------------------------------------------------------------------------------*/
		if (@Type='PROFILES') 
		begin
			Select Profile as Value, ProfileId as  ValueId
			From AppProfiles
			Where IsActive=1
		end
		if (@Type='PROFILE_ACCESS') 
		begin
			Select Profile as Value, ProfileId as ValueId
			From AppProfiles
			Where IsActive=1 and ProfileId not in(select ProfileId from AppProfilesmenus where MenuId=convert(int,@CodeParameter))
		end
		if (@Type='USERS_ACCESS') 
		begin
			Select Name as Value, UserId as ValueId
			From AppUsers
			Where IsActive=1 and UserId not in(select UserId 
														from AppAccessUsers where ProfileId=convert(int,@CodeParameter) and AppAccessUsers.MenuId=@UpdatedId group by UserId)
															and ProfileId=convert(int,@CodeParameter)
															
		end
		if (@Type='MENUSPARENT')
		begin
			Select Menu as Value, MenuId as ValueId
			From appmenus
			Where IsActive=1 and IsParent=1
		end
		if (@Type='PARAMDEFAULTPROFILE') 
		begin
			Select Profile as Value , ProfileId as  ValueId, 
					(CASE WHEN (SELECT convert(varchar,ValueId)
								from Appparameters where CodeParameter='DEFAULTPROFILE')=convert(varchar,ProfileId) THEN '1' ELSE '0' END) sel
			From appprofiles
			Where IsActive=1
		end
		if (@Type='CD_COUNTRY')
		begin
				Select Countries.CountryId as ValueId ,Countries.Country as Value
				From Countries
				Where IsActive=1
						order by CountryId asc
		end
		if (@Type='CD_CITIES')
		begin
				Select Cities.CityId as ValueId ,Cities.City as Value
				From Cities
				Where IsActive=1
						order by CityId asc
		end
	/*-- - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -*/
END]]></Value>
			</Property>
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Relationship Name="BodyDependencies">
				<Entry>
					<References Name="[dbo].[App_DropDownGeneral_List].[@Type]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[AppProfiles]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[AppProfiles].[Profile]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[AppProfiles].[ProfileId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[AppProfiles].[IsActive]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[AppProfilesMenus]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[AppProfilesMenus].[ProfileId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[AppProfilesMenus].[MenuId]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[int]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[App_DropDownGeneral_List].[@CodeParameter]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[AppUsers]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[AppUsers].[Name]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[AppUsers].[UserId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[AppUsers].[IsActive]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[AppAccessUsers]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[AppAccessUsers].[UserId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[AppAccessUsers].[ProfileId]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[int]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[AppAccessUsers].[MenuId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[App_DropDownGeneral_List].[@UpdatedId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[AppUsers].[ProfileId]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[int]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[AppMenus]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[AppMenus].[Menu]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[AppMenus].[MenuId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[AppMenus].[IsActive]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[AppMenus].[IsParent]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[AppParameters]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[varchar]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[AppParameters].[ValueId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[AppParameters].[CodeParameter]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[varchar]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Countries]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Countries].[CountryId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Countries].[Country]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Countries].[IsActive]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Countries].[CountryId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Cities]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Cities].[CityId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Cities].[City]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Cities].[IsActive]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Cities].[CityId]" />
				</Entry>
			</Relationship>
			<Relationship Name="Parameters">
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[App_DropDownGeneral_List].[@Type]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Property Name="Length" Value="25" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[varchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[App_DropDownGeneral_List].[@CodeParameter]">
						<Property Name="DefaultExpressionScript">
							<Value><![CDATA[null]]></Value>
						</Property>
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Property Name="Length" Value="25" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[varchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[App_DropDownGeneral_List].[@UpdatedId]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="Schema">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<Annotation Type="SysCommentsObjectAnnotation">
				<Property Name="Length" Value="2063" />
				<Property Name="StartLine" Value="1" />
				<Property Name="StartColumn" Value="1" />
				<Property Name="HeaderContents" Value="CREATE PROCEDURE [dbo].[App_DropDownGeneral_List]&#xD;&#xA;&#x9;@Type [varchar](25),&#xD;&#xA;&#x9;@CodeParameter [varchar](25) = null,&#xD;&#xA;&#x9;@UpdatedId [int]&#xD;&#xA;--WITH ENCRYPTION&#xD;&#xA;AS" />
			</Annotation>
		</Element>
		<Element Type="SqlProcedure" Name="[dbo].[App_EmailSend_DashBoard_List]">
			<Property Name="BodyScript">
				<Value><![CDATA[
	/*------------------------------------------------------------------------------
	-- getting xml main list only range: records_[begin,end], setting record status.
	------------------------------------------------------------------------------*/
	Select @TotalRecords=count(*) From [AppSendEmail]
	------------------------------------------------------------------------------
	-- Declaring variables
	------------------------------------------------------------------------------
				SELECT [EntityId]
					  ,[ToEmail]
					  ,[Subject]
					  ,[Body]
					  ,[StatusSend]
					  ,[EmailAdmin]
					  ,EmailTo
					  ,Creation
					  ,Updated
				FROM [dbo].[AppSendEmail]
				ORDER BY EntityId desc, CURRENT_TIMESTAMP OFFSET (@PageIndex-1)*@PageSize ROWS FETCH FIRST @PageSize ROWS ONLY]]></Value>
			</Property>
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Relationship Name="BodyDependencies">
				<Entry>
					<References Name="[dbo].[AppSendEmail]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[App_EmailSend_DashBoard_List].[@TotalRecords]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[AppSendEmail].[EntityId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[AppSendEmail].[ToEmail]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[AppSendEmail].[Subject]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[AppSendEmail].[Body]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[AppSendEmail].[StatusSend]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[AppSendEmail].[EmailAdmin]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[AppSendEmail].[EmailTo]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[AppSendEmail].[Creation]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[AppSendEmail].[Updated]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[App_EmailSend_DashBoard_List].[@pageIndex]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[App_EmailSend_DashBoard_List].[@pageSize]" />
				</Entry>
			</Relationship>
			<Relationship Name="Parameters">
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[App_EmailSend_DashBoard_List].[@pageIndex]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[App_EmailSend_DashBoard_List].[@pageSize]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[App_EmailSend_DashBoard_List].[@TotalRecords]">
						<Property Name="IsOutput" Value="True" />
						<Property Name="DefaultExpressionScript">
							<Value><![CDATA[0]]></Value>
						</Property>
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="Schema">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<Annotation Type="SysCommentsObjectAnnotation">
				<Property Name="Length" Value="955" />
				<Property Name="StartLine" Value="1" />
				<Property Name="StartColumn" Value="1" />
				<Property Name="HeaderContents" Value="CREATE Procedure [dbo].[App_EmailSend_DashBoard_List]&#xD;&#xA;&#x9;&#x9;@pageIndex int,&#xD;&#xA;&#x9;&#x9;@pageSize int,&#xD;&#xA;&#x9;&#x9;@TotalRecords [int] = 0 OUTPUT&#xD;&#xA;--With Encryption&#xD;&#xA;As" />
			</Annotation>
		</Element>
		<Element Type="SqlProcedure" Name="[dbo].[App_History_Timeline_Get]">
			<Property Name="BodyScript">
				<Value><![CDATA[
BEGIN
	/*------------------------------------------------------------------------------
		Declares variables No se ha podido actualizar la información.  Intente de nuevo.
	------------------------------------------------------------------------------*/
	Declare @IsErrorTecnichal int, @sError varchar(max)
	Execute C_Parameter_Get @CodeParameter= 'ERROR_TECNICHAL', @Value= @IsErrorTecnichal OUTPUT
	/*------------------------------------------------------------------------------
		get current variable stream
	------------------------------------------------------------------------------*/

		Select  @TotalRecords=count(*)  
		From  [dbo].[AppHistoryTimeline]
		Where  UpdatedId=@UpdatedId


		Select [Type]
				   ,[Comments]
				   ,[UpdatedId]
				   ,[TimeLine]
				   ,[SessionId]
				   ,Creation
				   ,convert(varchar,Creation,100) as dt_date
				   ,datediff(year,Creation,getdate()) as in_year
				   ,datediff(month,Creation,getdate()) as in_month
				   ,datediff(day,Creation,getdate()) as in_day
				   ,datediff(hour,Creation,getdate()) as in_hour
				   ,datediff(minute,Creation,getdate())as in_minute
				   ,datediff(second,Creation,getdate())as in_secound
		From  [dbo].[AppHistoryTimeline]
		Where
		--(Isnull(@SessionId,'')='' or SessionId=@SessionId) and
		UpdatedId=@UpdatedId and 
		(Isnull(@Type,'')='' or Type=@Type) and
		(Isnull(@TimeLine,'')='' or TimeLine=@TimeLine) 
		ORDER BY Creation desc, CURRENT_TIMESTAMP OFFSET (@PageIndex-1)*@PageSize ROWS FETCH FIRST @PageSize ROWS ONLY
		 
	--/*------------------------------------------------------------------------------
	--	-- Return successful answer
	--	--------------------------------------------------------------------------------*/
	--	Select 'SessionId'= @SessionId_app
	--	/*-- - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -*/
END]]></Value>
			</Property>
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Relationship Name="BodyDependencies">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[int]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[varchar]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[C_Parameter_Get]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[C_Parameter_Get].[@CodeParameter]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[C_Parameter_Get].[@Value]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[AppHistoryTimeline]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[App_History_Timeline_Get].[@TotalRecords]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[AppHistoryTimeline].[UpdatedId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[App_History_Timeline_Get].[@UpdatedId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[AppHistoryTimeline].[Type]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[AppHistoryTimeline].[Comments]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[AppHistoryTimeline].[TimeLine]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[AppHistoryTimeline].[SessionId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[AppHistoryTimeline].[Creation]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[varchar]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[App_History_Timeline_Get].[@Type]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[App_History_Timeline_Get].[@TimeLine]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[App_History_Timeline_Get].[@PageIndex]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[App_History_Timeline_Get].[@PageSize]" />
				</Entry>
			</Relationship>
			<Relationship Name="Parameters">
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[App_History_Timeline_Get].[@SessionId]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Property Name="Length" Value="250" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[varchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[App_History_Timeline_Get].[@UpdatedId]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[App_History_Timeline_Get].[@Type]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Property Name="Length" Value="50" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[varchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[App_History_Timeline_Get].[@TimeLine]">
						<Property Name="DefaultExpressionScript">
							<Value><![CDATA['']]></Value>
						</Property>
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Property Name="Length" Value="50" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[varchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[App_History_Timeline_Get].[@PageIndex]">
						<Property Name="DefaultExpressionScript">
							<Value><![CDATA[1]]></Value>
						</Property>
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[App_History_Timeline_Get].[@PageSize]">
						<Property Name="DefaultExpressionScript">
							<Value><![CDATA[10]]></Value>
						</Property>
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[App_History_Timeline_Get].[@TotalRecords]">
						<Property Name="IsOutput" Value="True" />
						<Property Name="DefaultExpressionScript">
							<Value><![CDATA[0]]></Value>
						</Property>
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="Schema">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<Annotation Type="SysCommentsObjectAnnotation">
				<Property Name="Length" Value="2139" />
				<Property Name="StartLine" Value="1" />
				<Property Name="StartColumn" Value="1" />
				<Property Name="HeaderContents" Value="CREATE PROCEDURE [dbo].[App_History_Timeline_Get]&#xD;&#xA;&#x9;@SessionId [varchar](250),&#xD;&#xA;&#x9;@UpdatedId [int],&#xD;&#xA;&#x9;@Type varchar(50),&#xD;&#xA;&#x9;@TimeLine varchar(50)='',&#xD;&#xA;&#x9;@PageIndex int=1,&#xD;&#xA;&#x9;@PageSize int=10,&#xD;&#xA;&#x9;@TotalRecords [int] = 0 OUTPUT&#xD;&#xA;--WITH ENCRYPTION&#xD;&#xA;AS" />
			</Annotation>
		</Element>
		<Element Type="SqlProcedure" Name="[dbo].[App_History_Timeline_Save]">
			<Property Name="BodyScript">
				<Value><![CDATA[
BEGIN
	/*------------------------------------------------------------------------------
		Declares variables No se ha podido actualizar la información.  Intente de nuevo.
	------------------------------------------------------------------------------*/
	Declare @IsErrorTecnichal int, @sError varchar(max)
	Execute C_Parameter_Get @CodeParameter= 'ERROR_TECNICHAL', @Value= @IsErrorTecnichal OUTPUT
	/*------------------------------------------------------------------------------
		get current variable stream
	------------------------------------------------------------------------------*/
	begin try
		begin  Transaction
		INSERT INTO [dbo].[AppHistoryTimeline]
				   ([Type]
				   ,[Comments]
				   ,[UpdatedId]
				   ,[TimeLine]
				   ,[SessionId])
		Select @Type 
				   ,@Comments 
				   ,@UpdatedId 
				   ,@TimeLine 
				   ,@SessionId
		Commit Transaction
		
	end try
	Begin Catch
    	    -- there was an error
    	    If XACT_STATE() =-1
    	    Begin
    	    	    Rollback WORK
    	    End
    	    If @@trancount >0
    	    Begin
    	    	    Rollback WORK
    	    End
    	    If XACT_STATE() = 1
    	    Begin
    	    	    Commit WORK
    	    End
    	    --Getting the error description
    	    Set @sError  =   ERROR_MESSAGE()
			if @IsErrorTecnichal=1
			Begin
				Set @sError  =  ERROR_PROCEDURE() + 
					';  ' + convert(varchar,ERROR_LINE()) + 
					'; ' + ERROR_MESSAGE()
			End 
    	    -- save the error in a Log file
    	    RaisError(@sError,16,1)
    	    Return  
    End Catch
	--/*------------------------------------------------------------------------------
	--	-- Return successful answer
	--	--------------------------------------------------------------------------------*/
	--	Select 'SessionId'= @SessionId_app
	--	/*-- - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -*/
END]]></Value>
			</Property>
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Relationship Name="BodyDependencies">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[int]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[varchar]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[C_Parameter_Get]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[C_Parameter_Get].[@CodeParameter]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[C_Parameter_Get].[@Value]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[AppHistoryTimeline]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[AppHistoryTimeline].[Type]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[AppHistoryTimeline].[Comments]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[AppHistoryTimeline].[UpdatedId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[AppHistoryTimeline].[TimeLine]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[AppHistoryTimeline].[SessionId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[App_History_Timeline_Save].[@Type]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[App_History_Timeline_Save].[@Comments]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[App_History_Timeline_Save].[@UpdatedId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[App_History_Timeline_Save].[@TimeLine]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[App_History_Timeline_Save].[@SessionId]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[varchar]" />
				</Entry>
			</Relationship>
			<Relationship Name="Parameters">
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[App_History_Timeline_Save].[@SessionId]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Property Name="Length" Value="250" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[varchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[App_History_Timeline_Save].[@UpdatedId]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[App_History_Timeline_Save].[@Type]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Property Name="Length" Value="50" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[varchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[App_History_Timeline_Save].[@TimeLine]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Property Name="Length" Value="50" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[varchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[App_History_Timeline_Save].[@Comments]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Property Name="IsMax" Value="True" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[varchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="Schema">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<Annotation Type="SysCommentsObjectAnnotation">
				<Property Name="Length" Value="2111" />
				<Property Name="StartLine" Value="1" />
				<Property Name="StartColumn" Value="1" />
				<Property Name="HeaderContents" Value="CREATE PROCEDURE [dbo].[App_History_Timeline_Save]&#xD;&#xA;&#x9;@SessionId [varchar](250),&#xD;&#xA;&#x9;@UpdatedId [int],&#xD;&#xA;&#x9;@Type varchar(50),&#xD;&#xA;&#x9;@TimeLine varchar(50),&#xD;&#xA;&#x9;@Comments varchar(max)&#xD;&#xA;--WITH ENCRYPTION&#xD;&#xA;AS" />
			</Annotation>
		</Element>
		<Element Type="SqlProcedure" Name="[dbo].[App_Home_DashBoard_List]">
			<Property Name="BodyScript">
				<Value><![CDATA[
	Declare @in_user_count int,@in_user_active int,@in_email_ok int, @in_email_process int,@in_session_count int
	Declare @in_user_inactive int,@in_time_session int,@in_session_active int, @in_session_expire int
	Execute C_Parameter_Get @CodeParameter= 'TIME_SESSION_APP', @Value= @in_time_session OUTPUT
	/*------------------------------------------------------------------------------
	-- getting xml main list only range: records_[begin,end], setting record status.
	------------------------------------------------------------------------------*/
	Select @in_user_active=count(*) From [AppUsers] Where IsActive=1
	Select @in_user_inactive=count(*) From [AppUsers] Where IsActive=0
	Select @in_user_count=count(*) From [AppUsers]
	Select @in_email_ok=count(*) From [AppSendEmail] Where StatusSend='OK'
	Select @in_email_process=count(*) From [AppSendEmail] Where StatusSend='PROCESS'
	Select @in_session_active=count(*) From AppSessions where DATEDIFF(day,Updated,getdate())<= day(8500)
	Select @in_session_expire=count(*) From AppSessions where DATEDIFF(day,Updated,getdate())> day(8500)
	Select @in_session_count=count(*) From AppSessions  
	Declare @in_hourmax int,@in_hour120 int,@in_hour96 int,@in_hour72 int,@in_hour48 int,@in_hour24 int
	Select @in_hourmax= Count(*)  from AppMessageLog Where DATEDIFF(HOUR,Creation,getdate()) >120
	Select @in_hour120= Count(*)  from AppMessageLog Where DATEDIFF(HOUR,Creation,getdate()) between 97 and 120
	Select @in_hour96= Count(*)  from AppMessageLog Where DATEDIFF(HOUR,Creation,getdate()) between 73 and 96
	Select @in_hour72= Count(*)  from AppMessageLog Where DATEDIFF(HOUR,Creation,getdate()) between 49 and 72
	Select @in_hour48= Count(*)  from AppMessageLog Where DATEDIFF(HOUR,Creation,getdate()) between 25 and 48
	Select @in_hour24= Count(*)  from AppMessageLog Where DATEDIFF(HOUR,Creation,getdate()) between 1 and 24 
	------------------------------------------------------------------------------
	-- Declaring variables
	------------------------------------------------------------------------------
	SELECT @in_user_active as in_user_active,
			@in_user_count as in_user_count,
			@in_email_ok as in_email_ok,
			@in_email_process as in_email_process,
			@in_user_inactive as in_user_inactive,
			@in_session_active as in_session_active,
			@in_session_expire as in_session_expire,
			@in_session_count as in_session_count,
			@in_hourmax as in_hourmax,
			@in_hour120 as in_hour120,
			@in_hour96 as in_hour96,
			@in_hour72 as in_hour72,
			@in_hour48 as in_hour48,
			@in_hour24 as in_hour24]]></Value>
			</Property>
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Relationship Name="BodyDependencies">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[int]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[int]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[int]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[int]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[int]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[int]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[int]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[int]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[int]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[int]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[int]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[int]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[int]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[int]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[int]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[C_Parameter_Get]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[C_Parameter_Get].[@CodeParameter]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[C_Parameter_Get].[@Value]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[AppUsers]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[AppUsers].[IsActive]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[AppSendEmail]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[AppSendEmail].[StatusSend]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[AppSessions]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[AppSessions].[Updated]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[AppMessageLog]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[AppMessageLog].[Creation]" />
				</Entry>
			</Relationship>
			<Relationship Name="Schema">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<Annotation Type="SysCommentsObjectAnnotation">
				<Property Name="Length" Value="2665" />
				<Property Name="StartLine" Value="1" />
				<Property Name="StartColumn" Value="1" />
				<Property Name="HeaderContents" Value="CREATE Procedure [dbo].[App_Home_DashBoard_List]&#xD;&#xA;--With Encryption&#xD;&#xA;As" />
			</Annotation>
		</Element>
		<Element Type="SqlProcedure" Name="[dbo].[App_Menus_Autorizaton]">
			<Property Name="BodyScript">
				<Value><![CDATA[
BEGIN
		/*------------------------------------------------------------------------------
		-- getting xml main list only range: records_[begin,end], setting record status.
		------------------------------------------------------------------------------*/
	Declare  @sError Varchar(Max) ,@IsErrorTecnichal int,@dt_expiration_date smalldatetime
	Execute C_Parameter_Get @CodeParameter= 'ERROR_TECNICHAL', @Value= @IsErrorTecnichal OUTPUT
	if Not exists(Select * from appusers where UserId=@UserId)
	Begin
		Raiserror('SQLUSERCODE_AUTORIZATION',16,1)
		return
	End
	if Not exists(Select * from appusers where UserId=@UserId AND Password2=@Password)
	Begin
		Raiserror('SQLVALIDATE_AUTORIZATION',16,1)
		return
	End
	if  exists(Select * from appusers where UserId=@UserId AND Password2=@Password and datediff(day,getdate(),Expiration)<=0)
	Begin
		Raiserror('SQLVALIDATE_AUTORIZATION',16,1)
		return
	End
	Begin Try
	
	Select * from Appusers where UserId=@UserId AND Password2=@Password 
	------------------------------------------------------------------------------
	-- send back answer
	------------------------------------------------------------------------------
	-- - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -
	End Try
	Begin Catch
		-- there was an error
		Set @sError  =  ERROR_MESSAGE()
		if @IsErrorTecnichal=1
		Begin
			Set @sError  =  ERROR_PROCEDURE() + 
					';  ' + convert(varchar,ERROR_LINE()) + 
					'; ' + ERROR_MESSAGE()
		End 
		--Getting the error description
		RaisError (@sError,16,1)
		Return
	End Catch
END]]></Value>
			</Property>
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Relationship Name="BodyDependencies">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[varchar]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[int]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[smalldatetime]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[C_Parameter_Get]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[C_Parameter_Get].[@CodeParameter]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[C_Parameter_Get].[@Value]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[AppUsers]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[AppUsers].[UserId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[App_Menus_Autorizaton].[@UserId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[AppUsers].[Password2]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[App_Menus_Autorizaton].[@Password]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[AppUsers].[Expiration]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[AppUsers]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[AppUsers].[UserId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[AppUsers].[Password2]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[varchar]" />
				</Entry>
			</Relationship>
			<Relationship Name="Parameters">
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[App_Menus_Autorizaton].[@UserId]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[App_Menus_Autorizaton].[@Password]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Property Name="Length" Value="100" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[varchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="Schema">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<Annotation Type="SysCommentsObjectAnnotation">
				<Property Name="Length" Value="1720" />
				<Property Name="StartLine" Value="1" />
				<Property Name="StartColumn" Value="1" />
				<Property Name="HeaderContents" Value="CREATE PROCEDURE [dbo].[App_Menus_Autorizaton]&#xD;&#xA;&#x9;@UserId [int],&#xD;&#xA;&#x9;@Password [varchar](100)&#xD;&#xA;--WITH ENCRYPTION&#xD;&#xA;AS" />
			</Annotation>
		</Element>
		<Element Type="SqlProcedure" Name="[dbo].[App_Menus_Delete]">
			<Property Name="BodyScript">
				<Value><![CDATA[
BEGIN
		/*------------------------------------------------------------------------------
		-- getting xml main list only range: records_[begin,end], setting record status.
		------------------------------------------------------------------------------*/
	Declare @sError varchar(max) ,@IsErrorTecnichal int,@MenuId int
	Execute C_Parameter_Get @CodeParameter= 'ERROR_TECNICHAL', @Value= @IsErrorTecnichal OUTPUT
	Select @MenuId=MenuId from AppMenus where Token=@Token
	Begin Try
	Begin Transaction
		Delete from AppProfilesmenus where AppProfilesmenus.MenuId=@MenuId
		Delete from AppMenus where AppMenus.MenuId=@MenuId
	Commit Transaction
	------------------------------------------------------------------------------
	-- send back answer
	------------------------------------------------------------------------------
	-- - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -
	End Try
	Begin Catch
		-- there was an error
		If XACT_STATE() =-1
		Begin
    			Rollback WORK
		End
		If @@trancount >0
		Begin
    			Rollback WORK
		End
		If XACT_STATE() = 1
		Begin
    			Commit WORK
		End
		--Getting the error description
		Set @sError  =   ERROR_MESSAGE()
		if @IsErrorTecnichal=1
		Begin
			Set @sError   =  ERROR_PROCEDURE() + 
					';  ' + convert(varchar,ERROR_LINE()) + 
					'; ' + ERROR_MESSAGE()
		End 
		RaisError (@sError,16,1) 
		Return
	End Catch
END]]></Value>
			</Property>
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Relationship Name="BodyDependencies">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[varchar]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[int]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[int]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[C_Parameter_Get]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[C_Parameter_Get].[@CodeParameter]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[C_Parameter_Get].[@Value]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[AppMenus]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[AppMenus].[MenuId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[AppMenus].[Token]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[App_Menus_Delete].[@Token]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[AppProfilesMenus]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[AppProfilesMenus].[MenuId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[AppMenus].[MenuId]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[varchar]" />
				</Entry>
			</Relationship>
			<Relationship Name="Parameters">
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[App_Menus_Delete].[@UpdatedId]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[App_Menus_Delete].[@Token]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[uniqueidentifier]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="Schema">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<Annotation Type="SysCommentsObjectAnnotation">
				<Property Name="Length" Value="1544" />
				<Property Name="StartLine" Value="1" />
				<Property Name="StartColumn" Value="1" />
				<Property Name="HeaderContents" Value="CREATE PROCEDURE [dbo].[App_Menus_Delete]&#xD;&#xA;&#x9;@UpdatedId [int],&#xD;&#xA;&#x9;@Token uniqueidentifier&#xD;&#xA;--WITH ENCRYPTION&#xD;&#xA;AS" />
			</Annotation>
		</Element>
		<Element Type="SqlProcedure" Name="[dbo].[App_Menus_Get]">
			<Property Name="BodyScript">
				<Value><![CDATA[
BEGIN
	Declare @sError_file_string Varchar(Max) 
	BEGIN TRY
			/*------------------------------------------------------------------------------
			-- getting xml main list only range: records_[begin,end], setting record status.
			------------------------------------------------------------------------------*/
				SELECT [MenuId]
					  ,[FilePage]
					  ,[IsActive]
					  ,[Creation]
					  ,[Updated]
					  ,[UpdatedId]
					  ,[Menu]
					  ,[ParentId]
					  ,[Help]
					  ,[IsVertical]
					  ,[IsHorizontal]
					  ,[IsParent]
					  ,[IsParentMenu]
					  ,[IsAutorization]
					  ,Token
					   ,Icon
					   ,Alias
				  FROM [dbo].[AppMenus]
				where Token=@Token
	END TRY
	Begin Catch
			--Getting the error description
			Select @sError_file_string   =  ERROR_PROCEDURE() + 
					';  ' + convert(varchar,ERROR_LINE()) + 
					'; ' + ERROR_MESSAGE()
			-- save the error in a Log file
			RaisError(@sError_file_string,16,1)
			Return  
	End Catch		
END]]></Value>
			</Property>
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Relationship Name="BodyDependencies">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[varchar]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[AppMenus]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[AppMenus].[MenuId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[AppMenus].[FilePage]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[AppMenus].[IsActive]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[AppMenus].[Creation]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[AppMenus].[Updated]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[AppMenus].[UpdatedId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[AppMenus].[Menu]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[AppMenus].[ParentId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[AppMenus].[Help]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[AppMenus].[IsVertical]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[AppMenus].[IsHorizontal]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[AppMenus].[IsParent]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[AppMenus].[IsParentMenu]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[AppMenus].[IsAutorization]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[AppMenus].[Token]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[AppMenus].[Icon]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[AppMenus].[Alias]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[App_Menus_Get].[@Token]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[varchar]" />
				</Entry>
			</Relationship>
			<Relationship Name="Parameters">
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[App_Menus_Get].[@Token]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[uniqueidentifier]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="Schema">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<Annotation Type="SysCommentsObjectAnnotation">
				<Property Name="Length" Value="1094" />
				<Property Name="StartLine" Value="1" />
				<Property Name="StartColumn" Value="1" />
				<Property Name="HeaderContents" Value="CREATE PROCEDURE [dbo].[App_Menus_Get]&#xD;&#xA;&#x9;@Token uniqueidentifier&#xD;&#xA;--WITH ENCRYPTION&#xD;&#xA;AS" />
			</Annotation>
		</Element>
		<Element Type="SqlProcedure" Name="[dbo].[App_Menus_List]">
			<Property Name="BodyScript">
				<Value><![CDATA[

	/*------------------------------------------------------------------------------
		-- getting xml main list only range: records_[begin,end], setting record status.
		--------------------------------------------------------------------------------*/
		Select @TotalRecords=count(*) From Appmenus
		------------------------------------------------------------------------------
		-- getting user list
		------------------------------------------------------------------------------						   
		Select Appmenus.MenuId,Appmenus.FilePage,Appmenus.Help,Appmenus.Menu,
				Appmenus.IsActive,
				(Case When (Appmenus.ParentId is null or Appmenus.ParentId=0)  then 0 else 1 end) as IsParent,
				 Appmenus.IsParentMenu,
				Appmenus2.Menu as Parent,AppMenus.Token,AppMenus.Alias,Appmenus.IsHorizontal,Appmenus.IsVertical
		From Appmenus
			Left Join Appmenus as Appmenus2 On Appmenus2.MenuId=Appmenus.ParentId
		Where (Appmenus.Menu like '%'+ @Menu  +'%' or Isnull(@Menu,'')='') and(Appmenus.ParentId=@ParentId or Isnull(@ParentId,0)=0)	
		ORDER BY CURRENT_TIMESTAMP OFFSET (@PageIndex-1)*@PageSize ROWS FETCH FIRST @PageSize ROWS ONLY
		/*-- - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -*/]]></Value>
			</Property>
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Relationship Name="BodyDependencies">
				<Entry>
					<References Name="[dbo].[AppMenus]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[App_Menus_List].[@TotalRecords]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[AppMenus].[MenuId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[AppMenus].[ParentId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[AppMenus].[MenuId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[AppMenus].[FilePage]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[AppMenus].[Help]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[AppMenus].[Menu]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[AppMenus].[IsActive]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[AppMenus].[IsParentMenu]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[AppMenus].[Menu]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[AppMenus].[Token]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[AppMenus].[Alias]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[AppMenus].[IsHorizontal]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[AppMenus].[IsVertical]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[App_Menus_List].[@Menu]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[App_Menus_List].[@ParentId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[App_Menus_List].[@PageIndex]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[App_Menus_List].[@PageSize]" />
				</Entry>
			</Relationship>
			<Relationship Name="Parameters">
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[App_Menus_List].[@PageIndex]">
						<Property Name="DefaultExpressionScript">
							<Value><![CDATA[1]]></Value>
						</Property>
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[App_Menus_List].[@PageSize]">
						<Property Name="DefaultExpressionScript">
							<Value><![CDATA[10]]></Value>
						</Property>
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[App_Menus_List].[@TotalRecords]">
						<Property Name="IsOutput" Value="True" />
						<Property Name="DefaultExpressionScript">
							<Value><![CDATA[0]]></Value>
						</Property>
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[App_Menus_List].[@Menu]">
						<Property Name="DefaultExpressionScript">
							<Value><![CDATA['']]></Value>
						</Property>
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Property Name="Length" Value="200" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[varchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[App_Menus_List].[@ParentId]">
						<Property Name="DefaultExpressionScript">
							<Value><![CDATA[0]]></Value>
						</Property>
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="Schema">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<Annotation Type="SysCommentsObjectAnnotation">
				<Property Name="Length" Value="1424" />
				<Property Name="StartLine" Value="1" />
				<Property Name="StartColumn" Value="1" />
				<Property Name="HeaderContents" Value="CREATE PROCEDURE [dbo].[App_Menus_List]&#xD;&#xA;&#x9;@PageIndex [int] = 1,&#xD;&#xA;&#x9;@PageSize [int] = 10,&#xD;&#xA;&#x9;@TotalRecords [int] = 0 OUTPUT,&#xD;&#xA;&#x9;@Menu varchar(200) ='',&#xD;&#xA;&#x9;@ParentId [int] = 0&#xD;&#xA;--WITH ENCRYPTION&#xD;&#xA;AS" />
			</Annotation>
		</Element>
		<Element Type="SqlProcedure" Name="[dbo].[App_Menus_Save]">
			<Property Name="BodyScript">
				<Value><![CDATA[
BEGIN
		/*------------------------------------------------------------------------------
		-- getting xml main list only range: records_[begin,end], setting record status.
		------------------------------------------------------------------------------*/
	Declare @sError Varchar(Max) ,@IsErrorTecnichal int,@MenuId int
	Execute C_Parameter_Get @CodeParameter= 'ERROR_TECNICHAL', @Value= @IsErrorTecnichal OUTPUT
	IF Exists(Select Top 1 * From dbo.AppMenus Where FilePage=@FilePage and MenuId<>@MenuId)
	Begin
		RaisError('The duplicate key value is %s.',16,1,@FilePage)  
		return
	End
	Select @MenuId=MenuId from AppMenus where Token=@Token
	------------------------------------------------------------------------------
	-- if user is new then add it, else update it
	------------------------------------------------------------------------------
	Begin Try
	Begin Transaction
	if (Isnull(@MenuId,0)=0)
	Begin
		INSERT INTO  AppMenus(FilePage,Menu,Creation,Updated,
								ParentId,UpdatedId,IsActive,IsHorizontal,IsVertical,Help,IsParent,IsParentMenu,IsAutorization,Alias)
		VALUES(@FilePage,@Menu,getdate(),getdate(),
								(Case When @IsParent=1 Then 0 else @ParentId end),@UpdatedId,@IsActive,@IsHorizontal,@IsVertical,@Help,@IsParent,@IsParentMenu,@IsAutorization,@Alias)
								
		------------------------------------------------------------------------------
		-- send back answer
		------------------------------------------------------------------------------
		Select @MenuId= scope_identity()
		-- - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -		
	END
	Else
	Begin
			/*-- - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -*/
			UPDATE appmenus
			SET	FilePage = @FilePage,
				Menu = @Menu,
				Alias = @Alias,
				Updated = getdate(),
				UpdatedId = @UpdatedId,
				IsActive = @IsActive,
				IsHorizontal = @IsHorizontal,
				IsVertical = @IsVertical,
				Help = @Help,
				ParentId=(Case When @IsParent=1 Then 0 else @ParentId end),
				IsParent=@IsParent,
				IsParentMenu=@IsParentMenu,
				IsAutorization=@IsAutorization
			WHERE MenuId=@MenuId
			If @@rowcount= 0
			Begin
				RaisError('SQLUPDATE_FAILD',16,1) 
			End
	End

	if not exists(Select Top 1 MenuId  From AppProfilesmenus Where MenuId=@MenuId)
	Begin
	INSERT INTO [dbo].[AppProfilesmenus]
					([UpdatedId]
					,[Creation]
					,[Updated]
					,[ParentId]
					,[IsVertical]
					,[IsHorizontal]
					,[IsActive]
					,[ProfileId]
					,[MenuId]
					,[IsView]
					,IsNew
					,IsEdit
					,IsStatus
					,IsModify)
		Select @UpdatedId
					,getdate()
					,getdate()
					,@ParentId
					,@IsVertical
					,@IsHorizontal
					,1 
					,ProfileId 
					,@MenuId
					,1
					,1
					,1
					,1
					,1
		From AppProfiles
		Where IsActive=1 and IsBlock=1
	End



	Commit Transaction
	
	End Try
	Begin Catch
		-- there was an error
		If XACT_STATE() =-1
		Begin
    			Rollback WORK
		End
		If @@trancount >0
		Begin
    			Rollback WORK
		End
		If XACT_STATE() = 1
		Begin
    			Commit WORK
		End
		--Getting the error description
		Set @sError  =  ERROR_MESSAGE()
		if @IsErrorTecnichal=1
		Begin
			Set @sError  =   ERROR_PROCEDURE() + 
					';  ' + convert(varchar,ERROR_LINE()) + 
					'; ' + ERROR_MESSAGE()
		End 
		RaisError (@sError,16,1)
		Return
	End Catch
End]]></Value>
			</Property>
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Relationship Name="BodyDependencies">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[varchar]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[int]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[int]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[C_Parameter_Get]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[C_Parameter_Get].[@CodeParameter]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[C_Parameter_Get].[@Value]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[AppMenus]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[AppMenus].[FilePage]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[App_Menus_Save].[@FilePage]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[AppMenus].[MenuId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[AppMenus].[MenuId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[AppMenus].[Token]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[App_Menus_Save].[@Token]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[AppMenus].[FilePage]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[AppMenus].[Menu]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[AppMenus].[Creation]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[AppMenus].[Updated]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[AppMenus].[ParentId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[AppMenus].[UpdatedId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[AppMenus].[IsActive]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[AppMenus].[IsHorizontal]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[AppMenus].[IsVertical]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[AppMenus].[Help]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[AppMenus].[IsParent]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[AppMenus].[IsParentMenu]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[AppMenus].[IsAutorization]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[AppMenus].[Alias]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[App_Menus_Save].[@Menu]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[App_Menus_Save].[@IsParent]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[App_Menus_Save].[@ParentId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[App_Menus_Save].[@UpdatedId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[App_Menus_Save].[@IsActive]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[App_Menus_Save].[@IsHorizontal]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[App_Menus_Save].[@IsVertical]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[App_Menus_Save].[@Help]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[App_Menus_Save].[@IsParentMenu]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[App_Menus_Save].[@IsAutorization]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[App_Menus_Save].[@Alias]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[AppProfilesMenus]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[AppProfilesMenus].[MenuId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[AppProfilesMenus].[UpdatedId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[AppProfilesMenus].[Creation]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[AppProfilesMenus].[Updated]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[AppProfilesMenus].[ParentId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[AppProfilesMenus].[IsVertical]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[AppProfilesMenus].[IsHorizontal]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[AppProfilesMenus].[IsActive]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[AppProfilesMenus].[ProfileId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[AppProfilesMenus].[MenuId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[AppProfilesMenus].[IsView]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[AppProfilesMenus].[IsNew]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[AppProfilesMenus].[IsEdit]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[AppProfilesMenus].[IsStatus]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[AppProfilesMenus].[IsModify]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[AppProfiles]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[AppProfiles].[ProfileId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[AppProfiles].[IsActive]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[AppProfiles].[IsBlock]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[varchar]" />
				</Entry>
			</Relationship>
			<Relationship Name="Parameters">
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[App_Menus_Save].[@Token]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[uniqueidentifier]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[App_Menus_Save].[@UpdatedId]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[App_Menus_Save].[@Menu]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Property Name="Length" Value="200" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[varchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[App_Menus_Save].[@Alias]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Property Name="Length" Value="200" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[varchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[App_Menus_Save].[@Help]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[text]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[App_Menus_Save].[@FilePage]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Property Name="Length" Value="200" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[varchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[App_Menus_Save].[@IsActive]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[App_Menus_Save].[@IsHorizontal]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[App_Menus_Save].[@IsVertical]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[App_Menus_Save].[@ParentId]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[App_Menus_Save].[@IsParent]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[App_Menus_Save].[@IsParentMenu]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[App_Menus_Save].[@IsAutorization]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="Schema">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<Annotation Type="SysCommentsObjectAnnotation">
				<Property Name="Length" Value="3784" />
				<Property Name="StartLine" Value="1" />
				<Property Name="StartColumn" Value="1" />
				<Property Name="HeaderContents" Value="CREATE PROCEDURE [dbo].[App_Menus_Save]&#xD;&#xA;&#x9;@Token uniqueidentifier,&#xD;&#xA;&#x9;@UpdatedId [int],&#xD;&#xA;&#x9;@Menu [varchar](200),&#xD;&#xA;&#x9;@Alias [varchar](200),&#xD;&#xA;&#x9;@Help [text],&#xD;&#xA;&#x9;@FilePage [varchar](200),&#xD;&#xA;&#x9;@IsActive [int],&#xD;&#xA;&#x9;@IsHorizontal [int],&#xD;&#xA;&#x9;@IsVertical [int],&#xD;&#xA;&#x9;@ParentId [int],&#xD;&#xA;&#x9;@IsParent [int],&#xD;&#xA;&#x9;@IsParentMenu [int],&#xD;&#xA;&#x9;@IsAutorization [int]&#xD;&#xA;--WITH ENCRYPTION&#xD;&#xA;AS" />
			</Annotation>
		</Element>
		<Element Type="SqlProcedure" Name="[dbo].[App_Menus_StatusUpdate]">
			<Property Name="BodyScript">
				<Value><![CDATA[
BEGIN
		/*------------------------------------------------------------------------------
		-- getting xml main list only range: records_[begin,end], setting record status.
		------------------------------------------------------------------------------*/
		Declare @sError varchar(max) ,@IsErrorTecnichal int
		Execute C_Parameter_Get @CodeParameter= 'ERROR_TECNICHAL', @Value= @IsErrorTecnichal OUTPUT
		Begin Try
		Begin Transaction
			Update AppMenus 
				SET Updated=getdate(),
					IsActive=@IsActive
			where Token=@Token
		Commit Transaction
	------------------------------------------------------------------------------
	-- send back answer
	------------------------------------------------------------------------------
	-- - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -
	End Try
	Begin Catch
		-- there was an error
		If XACT_STATE() =-1
		Begin
    			Rollback WORK
		End
		If @@trancount >0
		Begin
    			Rollback WORK
		End
		If XACT_STATE() = 1
		Begin
    			Commit WORK
		End
		--Getting the error description
		Set @sError  =   ERROR_MESSAGE()
		if @IsErrorTecnichal=1
		Begin
			Set @sError  =  ERROR_PROCEDURE() + 
					';  ' + convert(varchar,ERROR_LINE()) + 
					'; ' + ERROR_MESSAGE()
		End 
		RaisError (@sError,16,1)   
		Return
	End Catch
END]]></Value>
			</Property>
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Relationship Name="BodyDependencies">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[varchar]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[int]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[C_Parameter_Get]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[C_Parameter_Get].[@CodeParameter]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[C_Parameter_Get].[@Value]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[AppMenus]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[AppMenus].[Updated]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[AppMenus].[IsActive]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[App_Menus_StatusUpdate].[@IsActive]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[AppMenus].[Token]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[App_Menus_StatusUpdate].[@Token]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[varchar]" />
				</Entry>
			</Relationship>
			<Relationship Name="Parameters">
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[App_Menus_StatusUpdate].[@UpdatedId]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[App_Menus_StatusUpdate].[@Token]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[uniqueidentifier]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[App_Menus_StatusUpdate].[@IsActive]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="Schema">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<Annotation Type="SysCommentsObjectAnnotation">
				<Property Name="Length" Value="1477" />
				<Property Name="StartLine" Value="1" />
				<Property Name="StartColumn" Value="1" />
				<Property Name="HeaderContents" Value="CREATE PROCEDURE [dbo].[App_Menus_StatusUpdate]&#xD;&#xA;&#x9;@UpdatedId [int],&#xD;&#xA;&#x9;@Token uniqueidentifier,&#xD;&#xA;&#x9;@IsActive int&#xD;&#xA;--WITH ENCRYPTION&#xD;&#xA;AS" />
			</Annotation>
		</Element>
		<Element Type="SqlProcedure" Name="[dbo].[App_MenusAssignCheckPermissions_List]">
			<Property Name="BodyScript">
				<Value><![CDATA[
/*------------------------------------------------------------------------------
-- getting xml main list only range: records_[begin,end], setting record status.
--Sin Asignados
------------------------------------------------------------------------------*/
Select Appmenus.MenuId, Appmenus.Menu,Appmenus.FilePage ,Appmenus.ParentId,Appmenus.IsActive,'Parent' as ds_type
From Appmenus
Where   Appmenus.IsParent=1
Union
Select Appmenus.MenuId, Appmenus.Menu,Appmenus.FilePage ,Appmenus.ParentId,Appmenus.IsActive,'ParentHuerfano' as ds_type
From Appmenus
Where  Appmenus.ParentId=-1
Union
Select Appmenus.MenuId, Appmenus.Menu,Appmenus.FilePage,Appmenus.ParentId,Appmenus.IsActive,'Items' as ds_type
From Appmenus
Where   Isnull(Appmenus.IsParent,0)=0 and Appmenus.ParentId>0
/*-- - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -*/]]></Value>
			</Property>
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Relationship Name="BodyDependencies">
				<Entry>
					<References Name="[dbo].[AppMenus]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[AppMenus].[MenuId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[AppMenus].[Menu]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[AppMenus].[FilePage]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[AppMenus].[ParentId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[AppMenus].[IsActive]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[AppMenus].[IsParent]" />
				</Entry>
			</Relationship>
			<Relationship Name="Parameters">
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[App_MenusAssignCheckPermissions_List].[@SessionId]">
						<Property Name="DefaultExpressionScript">
							<Value><![CDATA['']]></Value>
						</Property>
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Property Name="Length" Value="200" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[varchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="Schema">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<Annotation Type="SysCommentsObjectAnnotation">
				<Property Name="Length" Value="989" />
				<Property Name="StartLine" Value="1" />
				<Property Name="StartColumn" Value="1" />
				<Property Name="HeaderContents" Value="CREATE PROCEDURE [dbo].[App_MenusAssignCheckPermissions_List]&#xD;&#xA;&#x9;@SessionId varchar(200) =''&#xD;&#xA;--WITH ENCRYPTION&#xD;&#xA;AS" />
			</Annotation>
		</Element>
		<Element Type="SqlProcedure" Name="[dbo].[App_MenusCheckPermissionsApply_Save]">
			<Property Name="BodyScript">
				<Value><![CDATA[
BEGIN
	/*------------------------------------------------------------------------------
	-- getting xml main list only range: records_begin,end, setting record status.
	--Sin Asignados
	------------------------------------------------------------------------------*/
	Declare @sError varchar(max),@i  int ,@IsErrorTecnichal int
	Execute C_Parameter_Get @CodeParameter= 'ERROR_TECNICHAL', @Value= @IsErrorTecnichal OUTPUT
	Begin Try
	Begin Transaction
	UPDATE [dbo].[AppProfilesMenus]
	   SET [UpdatedId] = @UpdatedId
		  ,[Updated] = getdate()
		  ,[ParentId] = @ParentId
		  ,[IsVertical] = @IsVertical
		  ,[IsHorizontal] = @IsHorizontal
		  ,[IsActive] = @IsActive
		  ,[ProfileId] = @ProfileId
		  ,[MenuId] = @MenuId
		  ,[IsView] = @IsView
		  ,[IsNew] = @IsNew
		  ,[IsEdit] = @IsEdit
		  ,[IsAutorization] = @IsAutorization
		  ,[IsStatus] = @IsStatus
		  ,[IsModify] = @IsModify
		  ,[IsSpecial] = @IsSpecial
		  ,[IsDelete] = @IsDelete
	 WHERE ProfileMenuId=@ProfileMenuId
	Commit Transaction
	------------------------------------------------------------------------------
	-- send back answer
	------------------------------------------------------------------------------
	-- - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -
	End Try
	Begin Catch
		-- there was an error
		If XACT_STATE() =-1
		Begin
    			Rollback WORK
		End
		If @@trancount >0
		Begin
    			Rollback WORK
		End
		If XACT_STATE() = 1
		Begin
    			Commit WORK
		End
		--Getting the error description
		Set @sError  =  ERROR_MESSAGE()
		if @IsErrorTecnichal=1
		Begin
			Set @sError  =   ERROR_PROCEDURE() + 
					';  ' + convert(varchar,ERROR_LINE()) + 
					'; ' + ERROR_MESSAGE()
		End 
		RaisError (@sError,16,1) 
		Return
	End Catch
END]]></Value>
			</Property>
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Relationship Name="BodyDependencies">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[varchar]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[int]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[int]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[C_Parameter_Get]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[C_Parameter_Get].[@CodeParameter]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[C_Parameter_Get].[@Value]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[AppProfilesMenus]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[AppProfilesMenus].[UpdatedId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[App_MenusCheckPermissionsApply_Save].[@UpdatedId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[AppProfilesMenus].[Updated]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[AppProfilesMenus].[ParentId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[App_MenusCheckPermissionsApply_Save].[@ParentId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[AppProfilesMenus].[IsVertical]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[App_MenusCheckPermissionsApply_Save].[@IsVertical]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[AppProfilesMenus].[IsHorizontal]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[App_MenusCheckPermissionsApply_Save].[@IsHorizontal]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[AppProfilesMenus].[IsActive]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[App_MenusCheckPermissionsApply_Save].[@IsActive]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[AppProfilesMenus].[ProfileId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[App_MenusCheckPermissionsApply_Save].[@ProfileId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[AppProfilesMenus].[MenuId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[App_MenusCheckPermissionsApply_Save].[@MenuId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[AppProfilesMenus].[IsView]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[App_MenusCheckPermissionsApply_Save].[@IsView]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[AppProfilesMenus].[IsNew]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[App_MenusCheckPermissionsApply_Save].[@IsNew]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[AppProfilesMenus].[IsEdit]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[App_MenusCheckPermissionsApply_Save].[@IsEdit]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[AppProfilesMenus].[IsAutorization]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[App_MenusCheckPermissionsApply_Save].[@IsAutorization]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[AppProfilesMenus].[IsStatus]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[App_MenusCheckPermissionsApply_Save].[@IsStatus]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[AppProfilesMenus].[IsModify]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[App_MenusCheckPermissionsApply_Save].[@IsModify]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[AppProfilesMenus].[IsSpecial]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[App_MenusCheckPermissionsApply_Save].[@IsSpecial]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[AppProfilesMenus].[IsDelete]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[App_MenusCheckPermissionsApply_Save].[@IsDelete]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[AppProfilesMenus].[ProfileMenuId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[App_MenusCheckPermissionsApply_Save].[@ProfileMenuId]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[varchar]" />
				</Entry>
			</Relationship>
			<Relationship Name="Parameters">
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[App_MenusCheckPermissionsApply_Save].[@UpdatedId]">
						<Property Name="DefaultExpressionScript">
							<Value><![CDATA[0]]></Value>
						</Property>
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[App_MenusCheckPermissionsApply_Save].[@ParentId]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[App_MenusCheckPermissionsApply_Save].[@IsVertical]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[App_MenusCheckPermissionsApply_Save].[@IsHorizontal]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[App_MenusCheckPermissionsApply_Save].[@IsActive]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[App_MenusCheckPermissionsApply_Save].[@ProfileId]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[App_MenusCheckPermissionsApply_Save].[@MenuId]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[App_MenusCheckPermissionsApply_Save].[@IsView]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[App_MenusCheckPermissionsApply_Save].[@IsNew]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[App_MenusCheckPermissionsApply_Save].[@IsEdit]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[App_MenusCheckPermissionsApply_Save].[@IsAutorization]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[App_MenusCheckPermissionsApply_Save].[@IsStatus]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[App_MenusCheckPermissionsApply_Save].[@IsModify]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[App_MenusCheckPermissionsApply_Save].[@IsSpecial]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[App_MenusCheckPermissionsApply_Save].[@IsDelete]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[App_MenusCheckPermissionsApply_Save].[@ProfileMenuId]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="Schema">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<Annotation Type="SysCommentsObjectAnnotation">
				<Property Name="Length" Value="2182" />
				<Property Name="StartLine" Value="1" />
				<Property Name="StartColumn" Value="1" />
				<Property Name="HeaderContents" Value="CREATE PROCEDURE [dbo].[App_MenusCheckPermissionsApply_Save]&#xD;&#xA;&#x9; @UpdatedId int=0&#xD;&#xA;&#x9;,@ParentId int&#xD;&#xA;&#x9;,@IsVertical int&#xD;&#xA;&#x9;,@IsHorizontal int&#xD;&#xA;&#x9;,@IsActive int&#xD;&#xA;&#x9;,@ProfileId int&#xD;&#xA;&#x9;,@MenuId int&#xD;&#xA;&#x9;,@IsView int&#xD;&#xA;&#x9;,@IsNew int&#xD;&#xA;&#x9;,@IsEdit int&#xD;&#xA;&#x9;,@IsAutorization int &#xD;&#xA;&#x9;,@IsStatus int &#xD;&#xA;&#x9;,@IsModify int&#xD;&#xA;&#x9;,@IsSpecial int &#xD;&#xA;&#x9;,@IsDelete int&#xD;&#xA;&#x9;,@ProfileMenuId int&#xD;&#xA;--WITH ENCRYPTION&#xD;&#xA;AS" />
			</Annotation>
		</Element>
		<Element Type="SqlProcedure" Name="[dbo].[App_MenusCheckPermissionsApplyProfile_Save]">
			<Property Name="BodyScript">
				<Value><![CDATA[
BEGIN
	/*------------------------------------------------------------------------------
	-- getting xml main list only range: records_begin,end, setting record status.
	--Sin Asignados
	------------------------------------------------------------------------------*/
	Declare @sError varchar(max),@i  int ,@IsErrorTecnichal int
	Execute C_Parameter_Get @CodeParameter= 'ERROR_TECNICHAL', @Value= @IsErrorTecnichal OUTPUT
	Begin Try
	Begin Transaction
			INSERT INTO [dbo].[AppProfilesMenus]
					   ([ParentId]
					   ,[IsVertical]
					   ,[IsHorizontal]
					   ,[IsActive]
					   ,[ProfileId]
					   ,[MenuId]
					   ,[IsView]
					   ,[IsNew]
					   ,[IsEdit]
					   ,[IsAutorization]
					   ,[IsStatus]
					   ,[IsModify]
					   ,[IsSpecial]
					   ,[IsDelete])
				 VALUES
					   (@ParentId 
					   ,@IsVertical 
					   ,@IsHorizontal 
					   ,@IsActive 
					   ,@ProfileId 
					   ,@MenuId 
					   ,@IsView 
					   ,@IsNew 
					   ,@IsEdit 
					   ,@IsAutorization 
					   ,@IsStatus 
					   ,@IsModify 
					   ,@IsSpecial 
					   ,@IsDelete)
	Commit Transaction
	------------------------------------------------------------------------------
	-- send back answer
	------------------------------------------------------------------------------
	-- - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -
	End Try
	Begin Catch
		-- there was an error
		If XACT_STATE() =-1
		Begin
    			Rollback WORK
		End
		If @@trancount >0
		Begin
    			Rollback WORK
		End
		If XACT_STATE() = 1
		Begin
    			Commit WORK
		End
		--Getting the error description
		Set @sError  =  ERROR_MESSAGE()
		if @IsErrorTecnichal=1
		Begin
			Set @sError  =   ERROR_PROCEDURE() + 
					';  ' + convert(varchar,ERROR_LINE()) + 
					'; ' + ERROR_MESSAGE()
		End 
		RaisError (@sError,16,1) 
		Return
	End Catch
END]]></Value>
			</Property>
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Relationship Name="BodyDependencies">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[varchar]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[int]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[int]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[C_Parameter_Get]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[C_Parameter_Get].[@CodeParameter]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[C_Parameter_Get].[@Value]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[AppProfilesMenus]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[AppProfilesMenus].[ParentId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[AppProfilesMenus].[IsVertical]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[AppProfilesMenus].[IsHorizontal]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[AppProfilesMenus].[IsActive]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[AppProfilesMenus].[ProfileId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[AppProfilesMenus].[MenuId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[AppProfilesMenus].[IsView]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[AppProfilesMenus].[IsNew]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[AppProfilesMenus].[IsEdit]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[AppProfilesMenus].[IsAutorization]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[AppProfilesMenus].[IsStatus]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[AppProfilesMenus].[IsModify]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[AppProfilesMenus].[IsSpecial]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[AppProfilesMenus].[IsDelete]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[App_MenusCheckPermissionsApplyProfile_Save].[@ParentId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[App_MenusCheckPermissionsApplyProfile_Save].[@IsVertical]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[App_MenusCheckPermissionsApplyProfile_Save].[@IsHorizontal]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[App_MenusCheckPermissionsApplyProfile_Save].[@IsActive]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[App_MenusCheckPermissionsApplyProfile_Save].[@ProfileId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[App_MenusCheckPermissionsApplyProfile_Save].[@MenuId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[App_MenusCheckPermissionsApplyProfile_Save].[@IsView]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[App_MenusCheckPermissionsApplyProfile_Save].[@IsNew]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[App_MenusCheckPermissionsApplyProfile_Save].[@IsEdit]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[App_MenusCheckPermissionsApplyProfile_Save].[@IsAutorization]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[App_MenusCheckPermissionsApplyProfile_Save].[@IsStatus]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[App_MenusCheckPermissionsApplyProfile_Save].[@IsModify]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[App_MenusCheckPermissionsApplyProfile_Save].[@IsSpecial]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[App_MenusCheckPermissionsApplyProfile_Save].[@IsDelete]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[varchar]" />
				</Entry>
			</Relationship>
			<Relationship Name="Parameters">
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[App_MenusCheckPermissionsApplyProfile_Save].[@ProfileId]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[App_MenusCheckPermissionsApplyProfile_Save].[@MenuId]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[App_MenusCheckPermissionsApplyProfile_Save].[@UpdatedId]">
						<Property Name="DefaultExpressionScript">
							<Value><![CDATA[0]]></Value>
						</Property>
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[App_MenusCheckPermissionsApplyProfile_Save].[@ParentId]">
						<Property Name="DefaultExpressionScript">
							<Value><![CDATA[0]]></Value>
						</Property>
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[App_MenusCheckPermissionsApplyProfile_Save].[@IsVertical]">
						<Property Name="DefaultExpressionScript">
							<Value><![CDATA[0]]></Value>
						</Property>
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[App_MenusCheckPermissionsApplyProfile_Save].[@IsHorizontal]">
						<Property Name="DefaultExpressionScript">
							<Value><![CDATA[0]]></Value>
						</Property>
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[App_MenusCheckPermissionsApplyProfile_Save].[@IsActive]">
						<Property Name="DefaultExpressionScript">
							<Value><![CDATA[1]]></Value>
						</Property>
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[App_MenusCheckPermissionsApplyProfile_Save].[@IsView]">
						<Property Name="DefaultExpressionScript">
							<Value><![CDATA[1]]></Value>
						</Property>
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[App_MenusCheckPermissionsApplyProfile_Save].[@IsNew]">
						<Property Name="DefaultExpressionScript">
							<Value><![CDATA[0]]></Value>
						</Property>
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[App_MenusCheckPermissionsApplyProfile_Save].[@IsEdit]">
						<Property Name="DefaultExpressionScript">
							<Value><![CDATA[0]]></Value>
						</Property>
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[App_MenusCheckPermissionsApplyProfile_Save].[@IsAutorization]">
						<Property Name="DefaultExpressionScript">
							<Value><![CDATA[0]]></Value>
						</Property>
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[App_MenusCheckPermissionsApplyProfile_Save].[@IsStatus]">
						<Property Name="DefaultExpressionScript">
							<Value><![CDATA[0]]></Value>
						</Property>
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[App_MenusCheckPermissionsApplyProfile_Save].[@IsModify]">
						<Property Name="DefaultExpressionScript">
							<Value><![CDATA[0]]></Value>
						</Property>
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[App_MenusCheckPermissionsApplyProfile_Save].[@IsSpecial]">
						<Property Name="DefaultExpressionScript">
							<Value><![CDATA[0]]></Value>
						</Property>
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[App_MenusCheckPermissionsApplyProfile_Save].[@IsDelete]">
						<Property Name="DefaultExpressionScript">
							<Value><![CDATA[0]]></Value>
						</Property>
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="Schema">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<Annotation Type="SysCommentsObjectAnnotation">
				<Property Name="Length" Value="2293" />
				<Property Name="StartLine" Value="1" />
				<Property Name="StartColumn" Value="1" />
				<Property Name="HeaderContents" Value="CREATE PROCEDURE [dbo].[App_MenusCheckPermissionsApplyProfile_Save]&#xD;&#xA;&#x9;@ProfileId int&#xD;&#xA;&#x9;,@MenuId int&#xD;&#xA;&#x9;,@UpdatedId int=0&#xD;&#xA;&#x9;,@ParentId int=0&#xD;&#xA;&#x9;,@IsVertical int=0&#xD;&#xA;&#x9;,@IsHorizontal int=0&#xD;&#xA;&#x9;,@IsActive int=1&#xD;&#xA;&#x9;,@IsView int=1&#xD;&#xA;&#x9;,@IsNew int=0&#xD;&#xA;&#x9;,@IsEdit int=0&#xD;&#xA;&#x9;,@IsAutorization int =0&#xD;&#xA;&#x9;,@IsStatus int =0&#xD;&#xA;&#x9;,@IsModify int=0&#xD;&#xA;&#x9;,@IsSpecial int =0&#xD;&#xA;&#x9;,@IsDelete int=0&#xD;&#xA;--WITH ENCRYPTION&#xD;&#xA;AS" />
			</Annotation>
		</Element>
		<Element Type="SqlProcedure" Name="[dbo].[App_Parameters_List]">
			<Property Name="BodyScript">
				<Value><![CDATA[
	/*------------------------------------------------------------------------------
		-- getting xml main list only range: records_[begin,end], setting record status.
		--------------------------------------------------------------------------------*/
		Select @TotalRecords=count(*) From [AppParameters]
		------------------------------------------------------------------------------
		-- getting user list
		------------------------------------------------------------------------------		
		SELECT [ParameterId]
			  ,[CodeParameter]
			  ,[ValueId]
			  ,[Parameter]
			  ,[IsBlocked]
			  ,[Updated]
			  ,[Creation]
			  ,[UpdatedId]
			  ,[Control]
			  ,[Observation]
			  ,[Type]
			  ,[Title]
			  ,[IsWidth]
		  FROM [dbo].[AppParameters]
		ORDER BY CURRENT_TIMESTAMP OFFSET (@PageIndex-1)*@PageSize ROWS FETCH FIRST @PageSize ROWS ONLY
		/*-- - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -*/]]></Value>
			</Property>
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Relationship Name="BodyDependencies">
				<Entry>
					<References Name="[dbo].[AppParameters]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[App_Parameters_List].[@TotalRecords]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[AppParameters].[ParameterId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[AppParameters].[CodeParameter]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[AppParameters].[ValueId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[AppParameters].[Parameter]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[AppParameters].[IsBlocked]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[AppParameters].[Updated]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[AppParameters].[Creation]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[AppParameters].[UpdatedId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[AppParameters].[Control]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[AppParameters].[Observation]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[AppParameters].[Type]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[AppParameters].[Title]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[AppParameters].[IsWidth]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[App_Parameters_List].[@PageIndex]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[App_Parameters_List].[@PageSize]" />
				</Entry>
			</Relationship>
			<Relationship Name="Parameters">
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[App_Parameters_List].[@PageIndex]">
						<Property Name="DefaultExpressionScript">
							<Value><![CDATA[1]]></Value>
						</Property>
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[App_Parameters_List].[@PageSize]">
						<Property Name="DefaultExpressionScript">
							<Value><![CDATA[10]]></Value>
						</Property>
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[App_Parameters_List].[@TotalRecords]">
						<Property Name="IsOutput" Value="True" />
						<Property Name="DefaultExpressionScript">
							<Value><![CDATA[0]]></Value>
						</Property>
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="Schema">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<Annotation Type="SysCommentsObjectAnnotation">
				<Property Name="Length" Value="1102" />
				<Property Name="StartLine" Value="1" />
				<Property Name="StartColumn" Value="1" />
				<Property Name="HeaderContents" Value="CREATE PROCEDURE [dbo].[App_Parameters_List]&#xD;&#xA;&#x9;@PageIndex [int] = 1,&#xD;&#xA;&#x9;@PageSize [int] = 10,&#xD;&#xA;&#x9;@TotalRecords [int] = 0 OUTPUT&#xD;&#xA;--WITH ENCRYPTION&#xD;&#xA;AS" />
			</Annotation>
		</Element>
		<Element Type="SqlProcedure" Name="[dbo].[App_Parameters_Save]">
			<Property Name="BodyScript">
				<Value><![CDATA[
BEGIN

	/*------------------------------------------------------------------------------
	-- getting xml main list only range: records_begin,end, setting record status.
	--Sin Asignados
	------------------------------------------------------------------------------*/
	Declare @sError varchar(max),@i  int ,@IsErrorTecnichal int, @Parameter varchar(200)
	Execute C_Parameter_Get @CodeParameter= 'ERROR_TECNICHAL', @Value= @IsErrorTecnichal OUTPUT
	Begin Try
	Select @Parameter=Parameter From [dbo].[AppParameters] Where ParameterId=@ParameterId
	if (Isnull(@ValueId,'')='')
	Begin
		raiserror('El valor del parametro ''%s'' no puede ser vacio.',16,1,@Parameter)
	End
	Begin Transaction
		UPDATE [dbo].[AppParameters]
		   SET[ValueId] = @ValueId
			  ,[Updated] = getdate()
			  ,[UpdatedId] = @UpdatedId
		 WHERE ParameterId=@ParameterId
	Commit Transaction
	------------------------------------------------------------------------------
	-- send back answer
	------------------------------------------------------------------------------
	-- - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -
	End Try
	Begin Catch
		-- there was an error
		If XACT_STATE() =-1
		Begin
    			Rollback WORK
		End
		If @@trancount >0
		Begin
    			Rollback WORK
		End
		If XACT_STATE() = 1
		Begin
    			Commit WORK
		End
		--Getting the error description
		Set @sError  =  ERROR_MESSAGE()
		if @IsErrorTecnichal=1
		Begin
			Set @sError  =   ERROR_PROCEDURE() + 
					';  ' + convert(varchar,ERROR_LINE()) + 
					'; ' + ERROR_MESSAGE()
		End 
		RaisError (@sError,16,1) 
		Return
	End Catch
END]]></Value>
			</Property>
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Relationship Name="BodyDependencies">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[varchar]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[int]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[int]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[varchar]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[C_Parameter_Get]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[C_Parameter_Get].[@CodeParameter]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[C_Parameter_Get].[@Value]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[AppParameters]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[AppParameters].[Parameter]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[AppParameters].[ParameterId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[App_Parameters_Save].[@ParameterId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[App_Parameters_Save].[@ValueId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[AppParameters].[ValueId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[AppParameters].[Updated]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[AppParameters].[UpdatedId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[App_Parameters_Save].[@UpdatedId]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[varchar]" />
				</Entry>
			</Relationship>
			<Relationship Name="Parameters">
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[App_Parameters_Save].[@ParameterId]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[App_Parameters_Save].[@ValueId]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Property Name="IsMax" Value="True" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[varchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[App_Parameters_Save].[@UpdatedId]">
						<Property Name="DefaultExpressionScript">
							<Value><![CDATA[0]]></Value>
						</Property>
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="Schema">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<Annotation Type="SysCommentsObjectAnnotation">
				<Property Name="Length" Value="1798" />
				<Property Name="StartLine" Value="1" />
				<Property Name="StartColumn" Value="1" />
				<Property Name="HeaderContents" Value="CREATE PROCEDURE [dbo].[App_Parameters_Save]&#xD;&#xA;&#x9;&#x9; @ParameterId int &#xD;&#xA;&#x9;&#x9;,@ValueId varchar(max) &#xD;&#xA;&#x9;&#x9;,@UpdatedId int=0 &#xD;&#xA;--WITH ENCRYPTION&#xD;&#xA;AS" />
			</Annotation>
		</Element>
		<Element Type="SqlProcedure" Name="[dbo].[App_Profiles_Delete]">
			<Property Name="BodyScript">
				<Value><![CDATA[
BEGIN
	/*------------------------------------------------------------------------------
	-- getting xml main list only range: records_[begin,end], setting record status.
	------------------------------------------------------------------------------*/
	Declare @sError varchar(max) ,@IsErrorTecnichal int
	Execute C_Parameter_Get @CodeParameter= 'ERROR_TECNICHAL', @Value= @IsErrorTecnichal OUTPUT
	Begin Try
	If Exists (Select top 1 * 
			   From dbo.AppUsers
					Inner Join AppProfiles On AppProfiles.ProfileId=dbo.AppUsers.ProfileId
			   Where dbo.AppProfiles.Token= @Token)
	Begin
		RaisError('Relationship of row with other table',16,1)
		Return
	End
	Begin Transaction
		Delete from AppProfiles where Token=@Token
	Commit Transaction
	------------------------------------------------------------------------------
	-- send back answer
	------------------------------------------------------------------------------
	-- - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -
	End Try
	Begin Catch
		-- there was an error
		If XACT_STATE() =-1
		Begin
    			Rollback WORK
		End
		If @@trancount >0
		Begin
    			Rollback WORK
		End
		If XACT_STATE() = 1
		Begin
    			Commit WORK
		End
		--Getting the error description
		Set @sError  =   ERROR_MESSAGE()
		if @IsErrorTecnichal=1
		Begin
			Set @sError   =  ERROR_PROCEDURE() + 
					';  ' + convert(varchar,ERROR_LINE()) + 
					'; ' + ERROR_MESSAGE()
		End 
		RaisError (@sError,16,1)
		Return
	End Catch
END]]></Value>
			</Property>
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Relationship Name="BodyDependencies">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[varchar]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[int]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[C_Parameter_Get]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[C_Parameter_Get].[@CodeParameter]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[C_Parameter_Get].[@Value]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[AppUsers]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[AppProfiles]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[AppProfiles].[ProfileId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[AppUsers].[ProfileId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[AppProfiles].[Token]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[App_Profiles_Delete].[@Token]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[AppProfiles]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[AppProfiles].[Token]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[varchar]" />
				</Entry>
			</Relationship>
			<Relationship Name="Parameters">
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[App_Profiles_Delete].[@UpdatedId]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[App_Profiles_Delete].[@Token]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[uniqueidentifier]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="Schema">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<Annotation Type="SysCommentsObjectAnnotation">
				<Property Name="Length" Value="1653" />
				<Property Name="StartLine" Value="1" />
				<Property Name="StartColumn" Value="1" />
				<Property Name="HeaderContents" Value="CREATE PROCEDURE [dbo].[App_Profiles_Delete]&#xD;&#xA;&#x9;@UpdatedId [int],&#xD;&#xA;&#x9;@Token uniqueidentifier&#xD;&#xA;--WITH ENCRYPTION&#xD;&#xA;AS" />
			</Annotation>
		</Element>
		<Element Type="SqlProcedure" Name="[dbo].[App_Profiles_Get]">
			<Property Name="BodyScript">
				<Value><![CDATA[
Declare @sError int,@sError_file_string Varchar(Max) 
		BEGIN TRY
				/*------------------------------------------------------------------------------
				-- getting xml main list only range: records_[begin,end], setting record status.
				------------------------------------------------------------------------------*/
					SELECT	Profile,Section,IsActive,ProfileId ,Token
					FROM Appprofiles
					where Appprofiles.Token=@Token
				/*-- - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -*/
		END TRY
		Begin Catch
	    --Getting the error description
	    Select @sError_file_string  =  ERROR_PROCEDURE() + 
					';  ' + convert(varchar,ERROR_LINE()) + 
					'; ' + ERROR_MESSAGE()
	    -- save the error in a Log file
	    RaisError(@sError_file_string,16,1)
	    Return  
End Catch]]></Value>
			</Property>
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Relationship Name="BodyDependencies">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[int]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[varchar]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[AppProfiles]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[AppProfiles].[Profile]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[AppProfiles].[Section]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[AppProfiles].[IsActive]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[AppProfiles].[ProfileId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[AppProfiles].[Token]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[AppProfiles].[Token]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[App_Profiles_Get].[@Token]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[varchar]" />
				</Entry>
			</Relationship>
			<Relationship Name="Parameters">
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[App_Profiles_Get].[@Token]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[uniqueidentifier]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="Schema">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<Annotation Type="SysCommentsObjectAnnotation">
				<Property Name="Length" Value="923" />
				<Property Name="StartLine" Value="1" />
				<Property Name="StartColumn" Value="1" />
				<Property Name="HeaderContents" Value="CREATE PROCEDURE [dbo].[App_Profiles_Get]&#xD;&#xA;&#x9;@Token uniqueidentifier&#xD;&#xA;--WITH ENCRYPTION&#xD;&#xA;AS" />
			</Annotation>
		</Element>
		<Element Type="SqlProcedure" Name="[dbo].[App_Profiles_List]">
			<Property Name="BodyScript">
				<Value><![CDATA[
		Select @TotalRecords=count(*) From AppProfiles
		------------------------------------------------------------------------------
		-- getting user list
		------------------------------------------------------------------------------						   
		Select AppProfiles.ProfileId,AppProfiles.Profile,Section,
				 AppProfiles.IsActive,IsBlock,Token
		From AppProfiles
		ORDER BY CURRENT_TIMESTAMP OFFSET (@PageIndex-1)*@PageSize ROWS FETCH FIRST @PageSize ROWS ONLY
		/*-- - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -*/]]></Value>
			</Property>
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Relationship Name="BodyDependencies">
				<Entry>
					<References Name="[dbo].[AppProfiles]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[App_Profiles_List].[@TotalRecords]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[AppProfiles].[ProfileId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[AppProfiles].[Profile]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[AppProfiles].[Section]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[AppProfiles].[IsActive]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[AppProfiles].[IsBlock]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[AppProfiles].[Token]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[App_Profiles_List].[@PageIndex]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[App_Profiles_List].[@PageSize]" />
				</Entry>
			</Relationship>
			<Relationship Name="Parameters">
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[App_Profiles_List].[@PageIndex]">
						<Property Name="DefaultExpressionScript">
							<Value><![CDATA[1]]></Value>
						</Property>
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[App_Profiles_List].[@PageSize]">
						<Property Name="DefaultExpressionScript">
							<Value><![CDATA[10]]></Value>
						</Property>
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[App_Profiles_List].[@TotalRecords]">
						<Property Name="IsOutput" Value="True" />
						<Property Name="DefaultExpressionScript">
							<Value><![CDATA[0]]></Value>
						</Property>
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="Schema">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<Annotation Type="SysCommentsObjectAnnotation">
				<Property Name="Length" Value="700" />
				<Property Name="StartLine" Value="1" />
				<Property Name="StartColumn" Value="1" />
				<Property Name="HeaderContents" Value="CREATE PROCEDURE [dbo].[App_Profiles_List]&#xD;&#xA;&#x9;@PageIndex [int] = 1,&#xD;&#xA;&#x9;@PageSize [int] = 10,&#xD;&#xA;&#x9;@TotalRecords [int] = 0 OUTPUT&#xD;&#xA;--WITH ENCRYPTION&#xD;&#xA;AS" />
			</Annotation>
		</Element>
		<Element Type="SqlProcedure" Name="[dbo].[App_Profiles_Save]">
			<Property Name="BodyScript">
				<Value><![CDATA[
BEGIN
		/*------------------------------------------------------------------------------
		-- getting xml main list only range: records_[begin,end], setting record status.
		------------------------------------------------------------------------------*/
	Declare  @sError  Varchar(Max)  ,@IsErrorTecnichal int
	Execute C_Parameter_Get @CodeParameter= 'ERROR_TECNICHAL', @Value= @IsErrorTecnichal OUTPUT
	IF Exists(Select Top 1 * From dbo.AppProfiles Where Profile=@Profile and Token<>@Token)
	Begin
		RaisError('The duplicate key value is %s.',16,1,@Profile)  
		return
	End
	Begin Try
	Begin Transaction
		if Not Exists(Select * from AppProfiles where Token=@Token) 
		Begin
			INSERT INTO  AppProfiles(Profile,Section,Creation,Updated,UpdatedId,IsActive)
			VALUES(@Profile,@Section,getdate(),getdate(),@UpdatedId,@IsActive)
			------------------------------------------------------------------------------
			-- send back answer
			------------------------------------------------------------------------------
		End
		Else
		Begin
			/*-- - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -*/
			UPDATE AppProfiles
			SET	Profile = @Profile,
				Section = @Section,
				Updated = getdate(),
				UpdatedId = @UpdatedId,
				IsActive = @IsActive
			WHERE Token=@Token
		End
	Commit Transaction
	------------------------------------------------------------------------------
	-- send back answer
	------------------------------------------------------------------------------
	-- - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -
	End Try
	Begin Catch
		-- there was an error
		If XACT_STATE() =-1
		Begin
    			Rollback WORK
		End
		If @@trancount >0
		Begin
    			Rollback WORK
		End
		If XACT_STATE() = 1
		Begin
    			Commit WORK
		End
		--Getting the error description
		Set @sError  =   ERROR_MESSAGE()
		if @IsErrorTecnichal=1
		Begin
			Set @sError  =   ERROR_PROCEDURE() + 
					';  ' + convert(varchar,ERROR_LINE()) + 
					'; ' + ERROR_MESSAGE()
		End 
		RaisError (@sError,16,1) 
		Return
	End Catch
End]]></Value>
			</Property>
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Relationship Name="BodyDependencies">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[varchar]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[int]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[C_Parameter_Get]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[C_Parameter_Get].[@CodeParameter]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[C_Parameter_Get].[@Value]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[AppProfiles]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[AppProfiles].[Profile]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[App_Profiles_Save].[@Profile]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[AppProfiles].[Token]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[App_Profiles_Save].[@Token]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[AppProfiles].[Profile]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[AppProfiles].[Section]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[AppProfiles].[Creation]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[AppProfiles].[Updated]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[AppProfiles].[UpdatedId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[AppProfiles].[IsActive]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[App_Profiles_Save].[@Section]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[App_Profiles_Save].[@UpdatedId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[App_Profiles_Save].[@IsActive]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[AppProfiles].[Token]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[varchar]" />
				</Entry>
			</Relationship>
			<Relationship Name="Parameters">
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[App_Profiles_Save].[@Token]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[uniqueidentifier]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[App_Profiles_Save].[@UpdatedId]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[App_Profiles_Save].[@Profile]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Property Name="Length" Value="200" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[varchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[App_Profiles_Save].[@Section]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[text]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[App_Profiles_Save].[@IsActive]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="Schema">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<Annotation Type="SysCommentsObjectAnnotation">
				<Property Name="Length" Value="2311" />
				<Property Name="StartLine" Value="1" />
				<Property Name="StartColumn" Value="1" />
				<Property Name="HeaderContents" Value="CREATE PROCEDURE [dbo].[App_Profiles_Save]&#xD;&#xA;&#x9;@Token uniqueidentifier,&#xD;&#xA;&#x9;@UpdatedId [int],&#xD;&#xA;&#x9;@Profile [varchar](200),&#xD;&#xA;&#x9;@Section [text],&#xD;&#xA;&#x9;@IsActive [int]&#xD;&#xA;--WITH ENCRYPTION&#xD;&#xA;AS" />
			</Annotation>
		</Element>
		<Element Type="SqlProcedure" Name="[dbo].[App_Profiles_StatusUpdate]">
			<Property Name="BodyScript">
				<Value><![CDATA[
BEGIN
		/*------------------------------------------------------------------------------
		-- getting xml main list only range: records_[begin,end], setting record status.
		------------------------------------------------------------------------------*/
		Declare @sError varchar(max) ,@IsErrorTecnichal int
		Execute C_Parameter_Get @CodeParameter= 'ERROR_TECNICHAL', @Value= @IsErrorTecnichal OUTPUT
		Begin Try
		Begin Transaction
			Update AppProfiles 
				SET Updated=getdate(),
					IsActive=@IsActive
			where Token=@Token
		Commit Transaction
	------------------------------------------------------------------------------
	-- send back answer
	------------------------------------------------------------------------------
	-- - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -
	End Try
	Begin Catch
		-- there was an error
		If XACT_STATE() =-1
		Begin
    			Rollback WORK
		End
		If @@trancount >0
		Begin
    			Rollback WORK
		End
		If XACT_STATE() = 1
		Begin
    			Commit WORK
		End
		--Getting the error description
		Set @sError  =  ERROR_MESSAGE()
		if @IsErrorTecnichal=1
		Begin
			Set @sError   =  ERROR_PROCEDURE() + 
					';  ' + convert(varchar,ERROR_LINE()) + 
					'; ' + ERROR_MESSAGE()
		End 
		RaisError (@sError,16,1)   
		Return
	End Catch
END]]></Value>
			</Property>
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Relationship Name="BodyDependencies">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[varchar]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[int]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[C_Parameter_Get]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[C_Parameter_Get].[@CodeParameter]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[C_Parameter_Get].[@Value]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[AppProfiles]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[AppProfiles].[Updated]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[AppProfiles].[IsActive]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[App_Profiles_StatusUpdate].[@IsActive]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[AppProfiles].[Token]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[App_Profiles_StatusUpdate].[@Token]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[varchar]" />
				</Entry>
			</Relationship>
			<Relationship Name="Parameters">
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[App_Profiles_StatusUpdate].[@UpdatedId]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[App_Profiles_StatusUpdate].[@Token]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[uniqueidentifier]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[App_Profiles_StatusUpdate].[@IsActive]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="Schema">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<Annotation Type="SysCommentsObjectAnnotation">
				<Property Name="Length" Value="1483" />
				<Property Name="StartLine" Value="1" />
				<Property Name="StartColumn" Value="1" />
				<Property Name="HeaderContents" Value="CREATE PROCEDURE [dbo].[App_Profiles_StatusUpdate]&#xD;&#xA;&#x9;@UpdatedId [int],&#xD;&#xA;&#x9;@Token uniqueidentifier,&#xD;&#xA;&#x9;@IsActive int&#xD;&#xA;--WITH ENCRYPTION&#xD;&#xA;AS" />
			</Annotation>
		</Element>
		<Element Type="SqlProcedure" Name="[dbo].[App_ProfilesCheckPermissions_Get]">
			<Property Name="BodyScript">
				<Value><![CDATA[
			/*------------------------------------------------------------------------------
			-- getting xml main list only range: records_[begin,end], setting record status.
			--Sin Asignados
			------------------------------------------------------------------------------*/
			SELECT [ProfileMenuId]
				,[AppProfilesmenus].[ParentId]
				,[AppProfilesmenus].[IsVertical]
				,[AppProfilesmenus].[IsHorizontal]
				,[AppProfilesmenus].[IsActive]
				,[AppProfilesmenus].[ProfileId]
				,[AppProfiles].Profile
				,[AppProfilesmenus].[MenuId]
				,[AppMenus].[Menu]
				,Isnull(IsView,0) as IsView
				,Isnull(IsEdit,0) as IsEdit
				,Isnull([AppProfilesmenus].IsAutorization,0) as IsAutorization
				,Isnull(IsStatus,0) as IsStatus
				,Isnull(IsNew,0) as IsNew
				,Isnull(IsModify,0) as IsModify
				,Isnull(IsSpecial,0) as IsSpecial
				,Isnull(IsDelete,0) as IsDelete
				,AppProfiles.IsBlock
				,[Appmenus].Token
			FROM [dbo].[AppProfilesmenus]
				Inner Join AppProfiles On AppProfiles.ProfileId=[AppProfilesmenus].ProfileId
				Inner Join [Appmenus] On [Appmenus].MenuId=[AppProfilesmenus].MenuId
			where AppProfilesmenus.MenuId=@MenuId
			/*-- - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -*/]]></Value>
			</Property>
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Relationship Name="BodyDependencies">
				<Entry>
					<References Name="[dbo].[AppProfilesMenus]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[AppProfiles]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[AppProfiles].[ProfileId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[AppProfilesMenus].[ProfileId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[AppMenus]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[AppMenus].[MenuId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[AppProfilesMenus].[MenuId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[AppProfilesMenus].[ProfileMenuId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[AppProfilesMenus].[ParentId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[AppProfilesMenus].[IsVertical]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[AppProfilesMenus].[IsHorizontal]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[AppProfilesMenus].[IsActive]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[AppProfilesMenus].[ProfileId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[AppProfiles].[Profile]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[AppMenus].[Menu]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[AppProfilesMenus].[IsView]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[AppProfilesMenus].[IsEdit]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[AppProfilesMenus].[IsAutorization]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[AppProfilesMenus].[IsStatus]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[AppProfilesMenus].[IsNew]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[AppProfilesMenus].[IsModify]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[AppProfilesMenus].[IsSpecial]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[AppProfilesMenus].[IsDelete]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[AppProfiles].[IsBlock]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[AppMenus].[Token]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[App_ProfilesCheckPermissions_Get].[@MenuId]" />
				</Entry>
			</Relationship>
			<Relationship Name="Parameters">
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[App_ProfilesCheckPermissions_Get].[@MenuId]">
						<Property Name="DefaultExpressionScript">
							<Value><![CDATA[0]]></Value>
						</Property>
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="Schema">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<Annotation Type="SysCommentsObjectAnnotation">
				<Property Name="Length" Value="1355" />
				<Property Name="StartLine" Value="1" />
				<Property Name="StartColumn" Value="1" />
				<Property Name="HeaderContents" Value="CREATE PROCEDURE [dbo].[App_ProfilesCheckPermissions_Get]&#xD;&#xA;&#x9;@MenuId int =0&#xD;&#xA;--WITH ENCRYPTION&#xD;&#xA;AS" />
			</Annotation>
		</Element>
		<Element Type="SqlProcedure" Name="[dbo].[App_Upload_Delete]">
			<Property Name="BodyScript">
				<Value><![CDATA[
BEGIN
	/*------------------------------------------------------------------------------
	-- getting xml main list only range: records_[begin,end], setting record status.
	------------------------------------------------------------------------------*/
	Declare @sError varchar(max) ,@IsErrorTecnichal int
	Execute C_Parameter_Get @CodeParameter= 'ERROR_TECNICHAL', @Value= @IsErrorTecnichal OUTPUT
	Begin Try
	if not exists (select top 1 *  from dbo.AppUploads Where Upload= @Upload)
	begin
		RaisError('No se puede eliminar el registro por que no existe',16,1)
	End
	Begin Transaction
		Delete from AppUploads where Upload=@Upload
	Commit Transaction
	------------------------------------------------------------------------------
	-- send back answer
	------------------------------------------------------------------------------
	-- - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -
	End Try
	Begin Catch
		-- there was an error
		If XACT_STATE() =-1
		Begin
    			Rollback WORK
		End
		If @@trancount >0
		Begin
    			Rollback WORK
		End
		If XACT_STATE() = 1
		Begin
    			Commit WORK
		End
		--Getting the error description
		Set @sError  =   ERROR_MESSAGE()
		if @IsErrorTecnichal=1
		Begin
			Set @sError   =  ERROR_PROCEDURE() + 
					';  ' + convert(varchar,ERROR_LINE()) + 
					'; ' + ERROR_MESSAGE()
		End 
		RaisError (@sError,16,1)
		Return
	End Catch
END]]></Value>
			</Property>
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Relationship Name="BodyDependencies">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[varchar]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[int]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[C_Parameter_Get]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[C_Parameter_Get].[@CodeParameter]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[C_Parameter_Get].[@Value]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[AppUploads]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[AppUploads].[Upload]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[App_Upload_Delete].[@Upload]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[AppUploads].[Upload]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[varchar]" />
				</Entry>
			</Relationship>
			<Relationship Name="Parameters">
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[App_Upload_Delete].[@Upload]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Property Name="Length" Value="50" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[varchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="Schema">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<Annotation Type="SysCommentsObjectAnnotation">
				<Property Name="Length" Value="1533" />
				<Property Name="StartLine" Value="1" />
				<Property Name="StartColumn" Value="1" />
				<Property Name="HeaderContents" Value="CREATE PROCEDURE [dbo].[App_Upload_Delete]&#xD;&#xA;&#x9;@Upload varchar(50)&#xD;&#xA;--WITH ENCRYPTION&#xD;&#xA;AS" />
			</Annotation>
		</Element>
		<Element Type="SqlProcedure" Name="[dbo].[App_Upload_Get]">
			<Property Name="BodyScript">
				<Value><![CDATA[
Declare @sError int,@sError_file_string Varchar(Max) 
		BEGIN TRY
				/*------------------------------------------------------------------------------
				-- getting xml main list only range: records_[begin,end], setting record status.
				------------------------------------------------------------------------------*/
					SELECT [UploadId]
						  ,[Upload]
						  ,[Body]
						  ,[UpdatedId]
						  ,[Creation]
						  ,[Updated]
						  ,[FileName]
					FROM [dbo].[AppUploads]
					where (@Upload =Upload or Isnull(@Upload,'')='')
				/*-- - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -*/
		END TRY
		Begin Catch
	    --Getting the error description
	    Select @sError_file_string  =  ERROR_PROCEDURE() + 
					';  ' + convert(varchar,ERROR_LINE()) + 
					'; ' + ERROR_MESSAGE()
	    -- save the error in a Log file
	    RaisError(@sError_file_string,16,1)
	    Return  
End Catch]]></Value>
			</Property>
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Relationship Name="BodyDependencies">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[int]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[varchar]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[AppUploads]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[AppUploads].[UploadId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[AppUploads].[Upload]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[AppUploads].[Body]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[AppUploads].[UpdatedId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[AppUploads].[Creation]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[AppUploads].[Updated]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[AppUploads].[Filename]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[App_Upload_Get].[@Upload]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[varchar]" />
				</Entry>
			</Relationship>
			<Relationship Name="Parameters">
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[App_Upload_Get].[@Upload]">
						<Property Name="DefaultExpressionScript">
							<Value><![CDATA[null]]></Value>
						</Property>
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Property Name="Length" Value="50" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[varchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[App_Upload_Get].[@UpdatedId]">
						<Property Name="DefaultExpressionScript">
							<Value><![CDATA[0]]></Value>
						</Property>
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="Schema">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<Annotation Type="SysCommentsObjectAnnotation">
				<Property Name="Length" Value="1056" />
				<Property Name="StartLine" Value="1" />
				<Property Name="StartColumn" Value="1" />
				<Property Name="HeaderContents" Value="CREATE PROCEDURE [dbo].[App_Upload_Get]&#xD;&#xA;&#x9;@Upload varchar(50)=null,&#xD;&#xA;&#x9;@UpdatedId int=0&#xD;&#xA;--WITH ENCRYPTION&#xD;&#xA;AS" />
			</Annotation>
		</Element>
		<Element Type="SqlProcedure" Name="[dbo].[App_Upload_Save]">
			<Property Name="BodyScript">
				<Value><![CDATA[
BEGIN
		/*------------------------------------------------------------------------------
		-- getting xml main list only range: records_[begin,end], setting record status.
		------------------------------------------------------------------------------*/
	Declare  @sError  Varchar(Max)  ,@IsErrorTecnichal int
	Execute C_Parameter_Get @CodeParameter= 'ERROR_TECNICHAL', @Value= @IsErrorTecnichal OUTPUT
	
	Begin Try
	Begin Transaction
		if  exists(Select * from [AppUploads] where Upload=@Upload) 
		Begin
				Delete From [AppUploads] where Upload=@Upload
		End
			INSERT INTO [dbo].[AppUploads]
					   ([Upload]
					   ,[Body]
					   ,[UpdatedId],FileName)
				 VALUES
					   (@Upload 
					   ,@Body 
					   ,@UpdatedId,@ds_file)
	Commit Transaction
	------------------------------------------------------------------------------
	-- send back answer
	------------------------------------------------------------------------------
	-- - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -
	End Try
	Begin Catch
		-- there was an error
		If XACT_STATE() =-1
		Begin
    			Rollback WORK
		End
		If @@trancount >0
		Begin
    			Rollback WORK
		End
		If XACT_STATE() = 1
		Begin
    			Commit WORK
		End
		--Getting the error description
		Set @sError  =   ERROR_MESSAGE()
		if @IsErrorTecnichal=1
		Begin
			Set @sError  =   ERROR_PROCEDURE() + 
					';  ' + convert(varchar,ERROR_LINE()) + 
					'; ' + ERROR_MESSAGE()
		End 
		RaisError (@sError,16,1) 
		Return
	End Catch
End]]></Value>
			</Property>
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Relationship Name="BodyDependencies">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[varchar]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[int]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[C_Parameter_Get]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[C_Parameter_Get].[@CodeParameter]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[C_Parameter_Get].[@Value]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[AppUploads]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[AppUploads].[Upload]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[App_Upload_Save].[@Upload]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[AppUploads]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[AppUploads].[Upload]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[AppUploads].[Body]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[AppUploads].[UpdatedId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[AppUploads].[Filename]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[App_Upload_Save].[@Body]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[App_Upload_Save].[@UpdatedId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[App_Upload_Save].[@ds_file]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[varchar]" />
				</Entry>
			</Relationship>
			<Relationship Name="Parameters">
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[App_Upload_Save].[@Upload]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Property Name="Length" Value="50" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[varchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[App_Upload_Save].[@UpdatedId]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[App_Upload_Save].[@Body]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Property Name="IsMax" Value="True" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[varbinary]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[App_Upload_Save].[@ds_file]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Property Name="Length" Value="250" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[varchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="Schema">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<Annotation Type="SysCommentsObjectAnnotation">
				<Property Name="Length" Value="1716" />
				<Property Name="StartLine" Value="1" />
				<Property Name="StartColumn" Value="1" />
				<Property Name="HeaderContents" Value="CREATE PROCEDURE [dbo].[App_Upload_Save]&#xD;&#xA;&#x9;@Upload varchar(50),&#xD;&#xA;&#x9;@UpdatedId [int],&#xD;&#xA;&#x9;@Body varbinary (max),&#xD;&#xA;&#x9;@ds_file varchar(250)&#xD;&#xA;--WITH ENCRYPTION&#xD;&#xA;AS" />
			</Annotation>
		</Element>
		<Element Type="SqlProcedure" Name="[dbo].[App_Users_Autorizaton]">
			<Property Name="BodyScript">
				<Value><![CDATA[
BEGIN
		/*------------------------------------------------------------------------------
		-- getting xml main list only range: records_[begin,end], setting record status.
		------------------------------------------------------------------------------*/
	Declare  @sError Varchar(Max) ,@IsErrorTecnichal int,@ExpirationDate smalldatetime
	Execute C_Parameter_Get @CodeParameter= 'ERROR_TECNICHAL', @Value= @IsErrorTecnichal OUTPUT
	if Not exists(Select * from AppUsers where Token=@Token)
	Begin
		Raiserror('SQLCODE_AUTORIZATION',16,1)
		return
	End
	Begin Try
	Begin Transaction
			Set @ExpirationDate=convert(date,@Expiration)
			UPDATE AppUsers
			SET	Updated = getdate(),
				Password2=@Password,
				Expiration=@ExpirationDate
			WHERE Token=@Token
	Commit Transaction
	------------------------------------------------------------------------------
	-- send back answer
	------------------------------------------------------------------------------
	-- - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -
	End Try
	Begin Catch
		-- there was an error
		If XACT_STATE() =-1
		Begin
    			Rollback WORK
		End
		If @@trancount >0
		Begin
    			Rollback WORK
		End
		If XACT_STATE() = 1
		Begin
    			Commit WORK
		End
		Set @sError  =   ERROR_MESSAGE()
		if @IsErrorTecnichal=1
		Begin
			Set @sError   =  ERROR_PROCEDURE() + 
					';  ' + convert(varchar,ERROR_LINE()) + 
					'; ' + ERROR_MESSAGE()
		End 
		--Getting the error description
		RaisError (@sError,16,1)  
		Return
	End Catch
END]]></Value>
			</Property>
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Relationship Name="BodyDependencies">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[varchar]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[int]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[smalldatetime]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[C_Parameter_Get]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[C_Parameter_Get].[@CodeParameter]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[C_Parameter_Get].[@Value]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[AppUsers]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[AppUsers].[Token]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[App_Users_Autorizaton].[@Token]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[date]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[App_Users_Autorizaton].[@Expiration]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[AppUsers]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[AppUsers].[Updated]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[AppUsers].[Password2]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[App_Users_Autorizaton].[@Password]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[AppUsers].[Expiration]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[AppUsers].[Token]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[varchar]" />
				</Entry>
			</Relationship>
			<Relationship Name="Parameters">
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[App_Users_Autorizaton].[@Token]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[uniqueidentifier]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[App_Users_Autorizaton].[@Expiration]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Property Name="Length" Value="10" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[varchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[App_Users_Autorizaton].[@Password]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Property Name="Length" Value="100" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[varchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="Schema">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<Annotation Type="SysCommentsObjectAnnotation">
				<Property Name="Length" Value="1730" />
				<Property Name="StartLine" Value="1" />
				<Property Name="StartColumn" Value="1" />
				<Property Name="HeaderContents" Value="CREATE PROCEDURE [dbo].[App_Users_Autorizaton]&#xD;&#xA;&#x9;@Token uniqueidentifier,&#xD;&#xA;&#x9;@Expiration [varchar](10),&#xD;&#xA;&#x9;@Password [varchar](100)&#xD;&#xA;--WITH ENCRYPTION&#xD;&#xA;AS" />
			</Annotation>
		</Element>
		<Element Type="SqlProcedure" Name="[dbo].[App_Users_Delete]">
			<Property Name="BodyScript">
				<Value><![CDATA[
BEGIN
		/*------------------------------------------------------------------------------
		-- getting xml main list only range: records_[begin,end], setting record status.
		------------------------------------------------------------------------------*/

		Declare  @sError  Varchar(Max)  ,@IsErrorTecnichal int
		Execute C_Parameter_Get @CodeParameter= 'ERROR_TECNICHAL', @Value= @IsErrorTecnichal OUTPUT
		if Exists(Select top 1 * from AppUsers where UserId=@UpdatedId and isnull(IsSysadmin,0)=0)
		Begin
			RaisError('Usted no tiene permisos para realizar esta operacion, debe tener acceso como Super Administrador...',16,1)
			return
		End
		--TODO: para validar despues...
		--if exists (select top 1 *  from dbo.AppUsers Where UserId= @UserId)
		--begin
		--	RaisError('No se puede eliminar el registro por que tiene relaciones con otros',16,1)
		--End
		Begin Try
		Begin Transaction
			Delete from AppUsers where Token=@Token
		Commit Transaction
	------------------------------------------------------------------------------
	-- send back answer
	------------------------------------------------------------------------------
	-- - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -
	End Try
	Begin Catch
		-- there was an error
		If XACT_STATE() =-1
		Begin
    			Rollback WORK
		End
		If @@trancount >0
		Begin
    			Rollback WORK
		End
		If XACT_STATE() = 1
		Begin
    			Commit WORK
		End
		--Getting the error description
		Set @sError  =  ERROR_MESSAGE()
		if @IsErrorTecnichal=1
		Begin
			Set @sError  =   ERROR_PROCEDURE() + 
					';  ' + convert(varchar,ERROR_LINE()) + 
					'; ' + ERROR_MESSAGE()
		End 
		RaisError (@sError,16,1)  
		Return
	End Catch
END]]></Value>
			</Property>
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Relationship Name="BodyDependencies">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[varchar]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[int]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[C_Parameter_Get]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[C_Parameter_Get].[@CodeParameter]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[C_Parameter_Get].[@Value]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[AppUsers]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[AppUsers].[UserId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[App_Users_Delete].[@UpdatedId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[AppUsers].[IsSysadmin]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[AppUsers]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[AppUsers].[Token]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[App_Users_Delete].[@Token]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[varchar]" />
				</Entry>
			</Relationship>
			<Relationship Name="Parameters">
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[App_Users_Delete].[@Token]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[uniqueidentifier]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[App_Users_Delete].[@UpdatedId]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="Schema">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<Annotation Type="SysCommentsObjectAnnotation">
				<Property Name="Length" Value="1868" />
				<Property Name="StartLine" Value="1" />
				<Property Name="StartColumn" Value="1" />
				<Property Name="HeaderContents" Value="CREATE PROCEDURE [dbo].[App_Users_Delete]&#xD;&#xA;&#x9;@Token uniqueidentifier,&#xD;&#xA;&#x9;@UpdatedId [int]&#xD;&#xA;--WITH ENCRYPTION&#xD;&#xA;AS" />
			</Annotation>
		</Element>
		<Element Type="SqlProcedure" Name="[dbo].[App_Users_Get]">
			<Property Name="BodyScript">
				<Value><![CDATA[
begin
Declare @sError int,@sError_file_string Varchar(Max)
 
BEGIN TRY
		/*------------------------------------------------------------------------------
		-- getting xml main list only range: records_[begin,end], setting record status.
		------------------------------------------------------------------------------*/
			SELECT	UserId,Login,RoleId,Appusers.IsActive,Name,Email,Appusers.ProfileId,Profile,Password,IsSysadmin ,Appusers.Token
			FROM Appusers
					Inner Join appprofiles On appprofiles.ProfileId=Appusers.ProfileId
			where Appusers.Token=@Token
		/*-- - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -*/
END TRY
Begin Catch
	    --Getting the error description
	    Select @sError_file_string  =  ERROR_PROCEDURE() + 
					';  ' + convert(varchar,ERROR_LINE()) + 
					'; ' + ERROR_MESSAGE()
	    -- save the error in a Log file
	    RaisError(@sError_file_string,16,1)
	    Return  
End Catch
end]]></Value>
			</Property>
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Relationship Name="BodyDependencies">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[int]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[varchar]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[AppUsers]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[AppProfiles]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[AppProfiles].[ProfileId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[AppUsers].[ProfileId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[AppUsers].[UserId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[AppUsers].[Login]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[AppUsers].[RoleId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[AppUsers].[IsActive]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[AppUsers].[Name]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[AppUsers].[Email]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[AppProfiles].[Profile]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[AppUsers].[Password]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[AppUsers].[IsSysadmin]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[AppUsers].[Token]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[App_Users_Get].[@Token]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[varchar]" />
				</Entry>
			</Relationship>
			<Relationship Name="Parameters">
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[App_Users_Get].[@Token]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[uniqueidentifier]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="Schema">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<Annotation Type="SysCommentsObjectAnnotation">
				<Property Name="Length" Value="1051" />
				<Property Name="StartLine" Value="1" />
				<Property Name="StartColumn" Value="1" />
				<Property Name="HeaderContents" Value="CREATE PROCEDURE [dbo].[App_Users_Get]&#xD;&#xA;&#x9;@Token uniqueidentifier&#xD;&#xA;--WITH ENCRYPTION&#xD;&#xA;AS" />
			</Annotation>
		</Element>
		<Element Type="SqlProcedure" Name="[dbo].[App_Users_List]">
			<Property Name="BodyScript">
				<Value><![CDATA[
	/*------------------------------------------------------------------------------
		-- getting xml main list only range: records_[begin,end], setting record status.
		--------------------------------------------------------------------------------*/
		Select @TotalRecords=count(*) From AppUsers
		------------------------------------------------------------------------------
		-- getting user list
		------------------------------------------------------------------------------		
		Select AppUsers.UserId,Login,RoleId,Email,AppUsers.ProfileId,
				 AppUsers.IsActive,
				AppProfiles.Profile,Name,isnull(IsSysadmin,0) IsSysadmin,isnull(appusers.IsBlock,0) IsBlock,
				AppUsers.Token
		From AppUsers
				Inner Join AppProfiles on AppProfiles.ProfileId=AppUsers.ProfileId
		Where (Name like '%'+ @Name  +'%' or Isnull(@Name,'')='') and(AppProfiles.ProfileId=@ProfileId or Isnull(@ProfileId,0)=0)
		ORDER BY CURRENT_TIMESTAMP OFFSET (@PageIndex-1)*@PageSize ROWS FETCH FIRST @PageSize ROWS ONLY
		/*-- - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -*/]]></Value>
			</Property>
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Relationship Name="BodyDependencies">
				<Entry>
					<References Name="[dbo].[AppUsers]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[App_Users_List].[@TotalRecords]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[AppProfiles]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[AppProfiles].[ProfileId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[AppUsers].[ProfileId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[AppUsers].[UserId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[AppUsers].[Login]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[AppUsers].[RoleId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[AppUsers].[Email]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[AppUsers].[IsActive]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[AppProfiles].[Profile]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[AppUsers].[Name]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[AppUsers].[IsSysadmin]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[AppUsers].[IsBlock]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[AppUsers].[Token]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[App_Users_List].[@Name]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[App_Users_List].[@ProfileId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[App_Users_List].[@PageIndex]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[App_Users_List].[@PageSize]" />
				</Entry>
			</Relationship>
			<Relationship Name="Parameters">
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[App_Users_List].[@PageIndex]">
						<Property Name="DefaultExpressionScript">
							<Value><![CDATA[1]]></Value>
						</Property>
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[App_Users_List].[@PageSize]">
						<Property Name="DefaultExpressionScript">
							<Value><![CDATA[10]]></Value>
						</Property>
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[App_Users_List].[@TotalRecords]">
						<Property Name="IsOutput" Value="True" />
						<Property Name="DefaultExpressionScript">
							<Value><![CDATA[0]]></Value>
						</Property>
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[App_Users_List].[@Name]">
						<Property Name="DefaultExpressionScript">
							<Value><![CDATA['']]></Value>
						</Property>
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Property Name="Length" Value="200" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[varchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[App_Users_List].[@ProfileId]">
						<Property Name="DefaultExpressionScript">
							<Value><![CDATA[0]]></Value>
						</Property>
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="Schema">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<Annotation Type="SysCommentsObjectAnnotation">
				<Property Name="Length" Value="1291" />
				<Property Name="StartLine" Value="1" />
				<Property Name="StartColumn" Value="1" />
				<Property Name="HeaderContents" Value="CREATE PROCEDURE [dbo].[App_Users_List]&#xD;&#xA;&#x9;@PageIndex [int] = 1,&#xD;&#xA;&#x9;@PageSize [int] = 10,&#xD;&#xA;&#x9;@TotalRecords [int] = 0 OUTPUT,&#xD;&#xA;&#x9;@Name varchar(200)='' ,&#xD;&#xA;&#x9;@ProfileId [int] = 0 &#xD;&#xA;--WITH ENCRYPTION&#xD;&#xA;AS" />
			</Annotation>
		</Element>
		<Element Type="SqlProcedure" Name="[dbo].[App_Users_Save]">
			<Property Name="BodyScript">
				<Value><![CDATA[
BEGIN
		/*------------------------------------------------------------------------------
		-- getting xml main list only range: records_[begin,end], setting record status.
		------------------------------------------------------------------------------*/
	Declare @IsErrorTecnichal int,@sError varchar(max),@ProfileParameterId int,@UserId int
	Execute C_Parameter_Get @CodeParameter= 'ERROR_TECNICHAL', @Value= @IsErrorTecnichal OUTPUT
	Execute C_Parameter_Get @CodeParameter= 'DEFAULTPROFILE', @Value= @ProfileParameterId OUTPUT



	if (Isnull(@ProfileId,0)=0)
		Select  @ProfileId=ProfileId
		From  AppProfiles
		Where AppProfiles.ProfileId=@ProfileParameterId


	Select @UserId=UserId
	from AppUsers 
	where Token=@Token

	if exists(Select * from appusers where Login=@Login and Token<>@Token)
	Begin
		Raiserror('SQLINSERT_FAILD',16,1)
		return
	End
	if Exists(Select top 1 * from AppUsers where UserId=@UpdatedId and isnull(IsSysadmin,0)=0)
	Begin
		RaisError('Usted no tiene permisos para realizar esta operacion, debe tener acceso como Super Administrador...',16,1)
		return
	End
	Begin Try
	Begin Transaction
		if (Isnull(@UserId,0)=0) 
		begin
			INSERT INTO  AppUsers(Login,Password,Creation,Updated,UpdatedId,RoleId,Email,ParentId,ProfileId,Name,IsSysadmin,Reset)
			VALUES(@Login,@Password,getdate(),getdate(),@UpdatedId,0,@Email,@ParentId,@ProfileId,@Name,@IsSysadmin,@Password)
		end
		else
		begin  
			UPDATE AppUsers
			SET	RoleId = @RoleId,
				Email = @Email,
				Updated = getdate(),
				UpdatedId = @UpdatedId,
				IsActive = @IsActive,
				ProfileId=@ProfileId,
				Login=@Login,
				Name=@Name,
				ParentId=@ParentId,
				IsSysadmin=@IsSysadmin
			WHERE Token=@Token
		End
	Commit Transaction

	Exec [App_History_Timeline_Save]
					@SessionId ='',
					@UpdatedId =@UserId,
					@Type='USERS',
					@TimeLine='REGISTER_USER',
					@Comments='Realizando procesos con el usuario'

	Exec BG_EmailQueue_Save
				 @ToEmail =@Email
				,@EmailTo ='REGISTER_USER'
				,@UpdatedId =@UserId
	------------------------------------------------------------------------------
	-- send back answer
	------------------------------------------------------------------------------
	-- - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -
	End Try
	Begin Catch
		-- there was an error
		If XACT_STATE() =-1
		Begin
    			Rollback WORK
		End
		If @@trancount >0
		Begin
    			Rollback WORK
		End
		If XACT_STATE() = 1
		Begin
    			Commit WORK
		End
		Set @sError  =   ERROR_MESSAGE()
		if @IsErrorTecnichal=1
		Begin
			Set @sError   =  ERROR_PROCEDURE() + 
					';  ' + convert(varchar,ERROR_LINE()) + 
					'; ' + ERROR_MESSAGE()
		End 
		--Getting the error description
		RaisError (@sError,16,1)
		Return
	End Catch
END]]></Value>
			</Property>
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Relationship Name="BodyDependencies">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[int]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[varchar]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[int]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[int]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[C_Parameter_Get]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[C_Parameter_Get].[@CodeParameter]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[C_Parameter_Get].[@Value]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[App_Users_Save].[@ProfileId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[AppProfiles]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[AppProfiles].[ProfileId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[AppProfiles].[ProfileId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[AppUsers]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[AppUsers].[UserId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[AppUsers].[Token]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[App_Users_Save].[@Token]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[AppUsers]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[AppUsers].[Login]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[App_Users_Save].[@Login]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[AppUsers].[Token]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[AppUsers].[UserId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[App_Users_Save].[@UpdatedId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[AppUsers].[IsSysadmin]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[AppUsers].[Login]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[AppUsers].[Password]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[AppUsers].[Creation]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[AppUsers].[Updated]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[AppUsers].[UpdatedId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[AppUsers].[RoleId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[AppUsers].[Email]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[AppUsers].[ParentId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[AppUsers].[ProfileId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[AppUsers].[Name]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[AppUsers].[IsSysadmin]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[AppUsers].[Reset]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[App_Users_Save].[@Password]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[App_Users_Save].[@Email]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[App_Users_Save].[@ParentId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[App_Users_Save].[@Name]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[App_Users_Save].[@IsSysadmin]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[App_Users_Save].[@RoleId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[AppUsers].[IsActive]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[App_Users_Save].[@IsActive]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[App_History_Timeline_Save]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[App_History_Timeline_Save].[@SessionId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[App_History_Timeline_Save].[@UpdatedId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[App_History_Timeline_Save].[@Type]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[App_History_Timeline_Save].[@TimeLine]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[App_History_Timeline_Save].[@Comments]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[BG_EmailQueue_Save]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[BG_EmailQueue_Save].[@ToEmail]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[BG_EmailQueue_Save].[@EmailTo]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[BG_EmailQueue_Save].[@UpdatedId]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[varchar]" />
				</Entry>
			</Relationship>
			<Relationship Name="Parameters">
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[App_Users_Save].[@Token]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[uniqueidentifier]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[App_Users_Save].[@Login]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Property Name="Length" Value="200" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[varchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[App_Users_Save].[@RoleId]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[App_Users_Save].[@IsActive]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[App_Users_Save].[@Name]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Property Name="Length" Value="200" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[varchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[App_Users_Save].[@Email]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Property Name="Length" Value="200" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[varchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[App_Users_Save].[@ProfileId]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[App_Users_Save].[@Password]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Property Name="Length" Value="40" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[varchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[App_Users_Save].[@ParentId]">
						<Property Name="DefaultExpressionScript">
							<Value><![CDATA[0]]></Value>
						</Property>
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[App_Users_Save].[@IsSysadmin]">
						<Property Name="DefaultExpressionScript">
							<Value><![CDATA[0]]></Value>
						</Property>
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[App_Users_Save].[@UpdatedId]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="Schema">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<Annotation Type="SysCommentsObjectAnnotation">
				<Property Name="Length" Value="3159" />
				<Property Name="StartLine" Value="1" />
				<Property Name="StartColumn" Value="1" />
				<Property Name="HeaderContents" Value="CREATE PROCEDURE [dbo].[App_Users_Save]&#xD;&#xA;&#x9;@Token uniqueidentifier,&#xD;&#xA;&#x9;@Login [varchar](200),&#xD;&#xA;&#x9;@RoleId [int],&#xD;&#xA;&#x9;@IsActive [int],&#xD;&#xA;&#x9;@Name [varchar](200),&#xD;&#xA;&#x9;@Email [varchar](200),&#xD;&#xA;&#x9;@ProfileId [int],&#xD;&#xA;&#x9;@Password [varchar](40),&#xD;&#xA;&#x9;@ParentId [int] = 0,&#xD;&#xA;&#x9;@IsSysadmin int=0,&#xD;&#xA;&#x9;@UpdatedId int&#xD;&#xA;--WITH ENCRYPTION&#xD;&#xA;AS" />
			</Annotation>
		</Element>
		<Element Type="SqlProcedure" Name="[dbo].[App_Users_StatusUpdate]">
			<Property Name="BodyScript">
				<Value><![CDATA[
BEGIN
		/*------------------------------------------------------------------------------
		-- getting xml main list only range: records_[begin,end], setting record status.
		------------------------------------------------------------------------------*/
		Declare @sError varchar(max) ,@IsErrorTecnichal int
		Execute C_Parameter_Get @CodeParameter= 'ERROR_TECNICHAL', @Value= @IsErrorTecnichal OUTPUT
		if Exists(Select top 1 * from AppUsers where UserId=@UpdatedId and isnull(IsSysadmin,0)=0)
		Begin
			RaisError('Usted no tiene permisos para realizar esta operacion, debe tener acceso como Super Administrador...',16,1)
			return
		End
		Begin Try
		Begin Transaction
			Update Appusers 
				SET Updated=getdate(),
					IsActive=@IsActive
			where Token=@Token
		Commit Transaction
	------------------------------------------------------------------------------
	-- send back answer
	------------------------------------------------------------------------------
	-- - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -
	End Try
	Begin Catch
		-- there was an error
		If XACT_STATE() =-1
		Begin
    			Rollback WORK
		End
		If @@trancount >0
		Begin
    			Rollback WORK
		End
		If XACT_STATE() = 1
		Begin
    			Commit WORK
		End
		--Getting the error description
		Set @sError  =   ERROR_MESSAGE()
		if @IsErrorTecnichal=1
		Begin
			Set @sError   =  ERROR_PROCEDURE() + 
					';  ' + convert(varchar,ERROR_LINE()) + 
					'; ' + ERROR_MESSAGE()
		End 
		RaisError (@sError,16,1)   
		Return
	End Catch
END]]></Value>
			</Property>
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Relationship Name="BodyDependencies">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[varchar]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[int]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[C_Parameter_Get]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[C_Parameter_Get].[@CodeParameter]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[C_Parameter_Get].[@Value]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[AppUsers]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[AppUsers].[UserId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[App_Users_StatusUpdate].[@UpdatedId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[AppUsers].[IsSysadmin]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[AppUsers]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[AppUsers].[Updated]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[AppUsers].[IsActive]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[App_Users_StatusUpdate].[@IsActive]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[AppUsers].[Token]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[App_Users_StatusUpdate].[@Token]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[varchar]" />
				</Entry>
			</Relationship>
			<Relationship Name="Parameters">
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[App_Users_StatusUpdate].[@UpdatedId]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[App_Users_StatusUpdate].[@Token]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[uniqueidentifier]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[App_Users_StatusUpdate].[@IsActive]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="Schema">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<Annotation Type="SysCommentsObjectAnnotation">
				<Property Name="Length" Value="1721" />
				<Property Name="StartLine" Value="1" />
				<Property Name="StartColumn" Value="1" />
				<Property Name="HeaderContents" Value="CREATE PROCEDURE [dbo].[App_Users_StatusUpdate]&#xD;&#xA;&#x9;@UpdatedId [int],&#xD;&#xA;&#x9;@Token uniqueidentifier,&#xD;&#xA;&#x9;@IsActive int&#xD;&#xA;--WITH ENCRYPTION&#xD;&#xA;AS" />
			</Annotation>
		</Element>
		<Element Type="SqlProcedure" Name="[dbo].[App_UsersCheckPermissions_Get]">
			<Property Name="BodyScript">
				<Value><![CDATA[
			/*------------------------------------------------------------------------------
			-- getting xml main list only range: records_[begin,end], setting record status.
			--Sin Asignados
			------------------------------------------------------------------------------*/
			SELECT UserAcces
				,[AppAccessUsers].[ProfileId]
				,[AppProfiles].Profile
				,[AppAccessUsers].[MenuId]
				,[AppUsers].[Name]
				,Isnull(IsView,0) as IsView
				,Isnull(IsEdit,0) as IsEdit
				,Isnull([AppAccessUsers].IsAutorization,0) as IsAutorization
				,Isnull(IsStatus,0) as IsStatus
				,Isnull(IsNew,0) as IsNew
				,Isnull(IsModify,0) as IsModify
				,Isnull(IsSpecial,0) as IsSpecial
				,Isnull(IsDelete,0) as IsDelete
				,AppUsers.IsBlock
				,AppUsers.UserId
				,[Appmenus].Token
			FROM [dbo].[AppAccessUsers]
				Inner Join [Appmenus] On [Appmenus].MenuId=[AppAccessUsers].MenuId
				Inner Join AppProfiles On AppProfiles.ProfileId=[AppAccessUsers].ProfileId
				Inner Join AppUsers On AppUsers.ProfileId=AppProfiles.ProfileId and AppUsers.UserId=[AppAccessUsers].UserId
			where AppAccessUsers.MenuId=@MenuId and AppAccessUsers.ProfileId=@ProfileId
			/*-- - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -*/]]></Value>
			</Property>
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Relationship Name="BodyDependencies">
				<Entry>
					<References Name="[dbo].[AppAccessUsers]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[AppMenus]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[AppMenus].[MenuId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[AppAccessUsers].[MenuId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[AppProfiles]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[AppProfiles].[ProfileId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[AppAccessUsers].[ProfileId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[AppUsers]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[AppUsers].[ProfileId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[AppProfiles].[ProfileId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[AppUsers].[UserId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[AppAccessUsers].[UserId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[AppAccessUsers].[UserAcces]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[AppAccessUsers].[ProfileId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[AppProfiles].[Profile]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[AppAccessUsers].[MenuId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[AppUsers].[Name]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[AppAccessUsers].[IsView]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[AppAccessUsers].[IsEdit]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[AppAccessUsers].[IsAutorization]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[AppAccessUsers].[IsStatus]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[AppAccessUsers].[IsNew]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[AppAccessUsers].[IsModify]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[AppAccessUsers].[IsSpecial]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[AppAccessUsers].[IsDelete]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[AppUsers].[IsBlock]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[AppMenus].[Token]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[App_UsersCheckPermissions_Get].[@MenuId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[App_UsersCheckPermissions_Get].[@ProfileId]" />
				</Entry>
			</Relationship>
			<Relationship Name="Parameters">
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[App_UsersCheckPermissions_Get].[@MenuId]">
						<Property Name="DefaultExpressionScript">
							<Value><![CDATA[0]]></Value>
						</Property>
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[App_UsersCheckPermissions_Get].[@ProfileId]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="Schema">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<Annotation Type="SysCommentsObjectAnnotation">
				<Property Name="Length" Value="1372" />
				<Property Name="StartLine" Value="1" />
				<Property Name="StartColumn" Value="1" />
				<Property Name="HeaderContents" Value="CREATE PROCEDURE [dbo].[App_UsersCheckPermissions_Get]&#xD;&#xA;&#x9;@MenuId int =0,&#xD;&#xA;&#x9;@ProfileId int&#xD;&#xA;--WITH ENCRYPTION&#xD;&#xA;AS" />
			</Annotation>
		</Element>
		<Element Type="SqlTable" Name="[dbo].[AppAccessUsers]">
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Relationship Name="Columns">
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[AppAccessUsers].[UserAcces]">
						<Property Name="IsNullable" Value="False" />
						<Property Name="IsIdentity" Value="True" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[AppAccessUsers].[UserId]">
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[AppAccessUsers].[ProfileId]">
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[AppAccessUsers].[MenuId]">
						<Property Name="IsNullable" Value="False" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[AppAccessUsers].[IsView]">
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[bit]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[AppAccessUsers].[IsEdit]">
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[bit]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[AppAccessUsers].[IsAutorization]">
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[bit]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[AppAccessUsers].[IsStatus]">
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[bit]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[AppAccessUsers].[IsNew]">
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[bit]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[AppAccessUsers].[IsModify]">
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[bit]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[AppAccessUsers].[IsSpecial]">
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[bit]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[AppAccessUsers].[Updated]">
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[datetime]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
						<Annotation Type="SqlInlineConstraintAnnotation" Disambiguator="32" />
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[AppAccessUsers].[Creation]">
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[datetime]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
						<Annotation Type="SqlInlineConstraintAnnotation" Disambiguator="33" />
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[AppAccessUsers].[UpdatedId]">
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[AppAccessUsers].[IsDelete]">
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[bit]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="Schema">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<Annotation Type="SqlInlineConstraintAnnotation" Disambiguator="34" />
		</Element>
		<Element Type="SqlTable" Name="[dbo].[AppConfigurationSmtp]">
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Relationship Name="Columns">
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[AppConfigurationSmtp].[ConfigurationSmtpId]">
						<Property Name="IsNullable" Value="False" />
						<Property Name="IsIdentity" Value="True" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[AppConfigurationSmtp].[Host]">
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Property Name="Length" Value="250" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[varchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[AppConfigurationSmtp].[UserEmail]">
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Property Name="Length" Value="250" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[varchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[AppConfigurationSmtp].[PasswordEmail]">
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Property Name="Length" Value="250" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[varchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[AppConfigurationSmtp].[Port]">
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[AppConfigurationSmtp].[IsSsl]">
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[bit]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[AppConfigurationSmtp].[UpdatedId]">
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[AppConfigurationSmtp].[Updated]">
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[datetime]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
						<Annotation Type="SqlInlineConstraintAnnotation" Disambiguator="35" />
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[AppConfigurationSmtp].[Creation]">
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[datetime]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
						<Annotation Type="SqlInlineConstraintAnnotation" Disambiguator="36" />
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[AppConfigurationSmtp].[IsActive]">
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[bit]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
						<Annotation Type="SqlInlineConstraintAnnotation" Disambiguator="37" />
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[AppConfigurationSmtp].[IsHtml]">
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[bit]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[AppConfigurationSmtp].[Token]">
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[uniqueidentifier]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
						<Annotation Type="SqlInlineConstraintAnnotation" Disambiguator="38" />
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="Schema">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<Annotation Type="SqlInlineConstraintAnnotation" Disambiguator="39" />
		</Element>
		<Element Type="SqlTable" Name="[dbo].[AppEmailBody]">
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Relationship Name="Columns">
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[AppEmailBody].[EmailToId]">
						<Property Name="IsNullable" Value="False" />
						<Property Name="IsIdentity" Value="True" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[AppEmailBody].[EmailTo]">
						<Property Name="IsNullable" Value="False" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Property Name="Length" Value="50" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[varchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[AppEmailBody].[Name]">
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Property Name="Length" Value="250" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[varchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[AppEmailBody].[Body]">
						<Property Name="IsNullable" Value="False" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Property Name="IsMax" Value="True" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[varchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[AppEmailBody].[IsActive]">
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[bit]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
						<Annotation Type="SqlInlineConstraintAnnotation" Disambiguator="40" />
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[AppEmailBody].[Creation]">
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[datetime]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
						<Annotation Type="SqlInlineConstraintAnnotation" Disambiguator="41" />
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[AppEmailBody].[Updated]">
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[datetime]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
						<Annotation Type="SqlInlineConstraintAnnotation" Disambiguator="42" />
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[AppEmailBody].[UpdatedId]">
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[AppEmailBody].[Token]">
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[uniqueidentifier]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
						<Annotation Type="SqlInlineConstraintAnnotation" Disambiguator="43" />
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="Schema">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<Annotation Type="SqlInlineConstraintAnnotation" Disambiguator="44" />
		</Element>
		<Element Type="SqlTable" Name="[dbo].[AppHistoryTimeline]">
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Relationship Name="Columns">
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[AppHistoryTimeline].[historyId]">
						<Property Name="IsNullable" Value="False" />
						<Property Name="IsIdentity" Value="True" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[AppHistoryTimeline].[Type]">
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Property Name="Length" Value="50" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[varchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[AppHistoryTimeline].[Creation]">
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[datetime]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
						<Annotation Type="SqlInlineConstraintAnnotation" Disambiguator="45" />
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[AppHistoryTimeline].[Comments]">
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Property Name="IsMax" Value="True" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[varchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[AppHistoryTimeline].[UpdatedId]">
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[AppHistoryTimeline].[TimeLine]">
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Property Name="Length" Value="50" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[varchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[AppHistoryTimeline].[SessionId]">
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Property Name="Length" Value="250" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[varchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[AppHistoryTimeline].[Token]">
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[uniqueidentifier]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
						<Annotation Type="SqlInlineConstraintAnnotation" Disambiguator="46" />
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="Schema">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<Annotation Type="SqlInlineConstraintAnnotation" Disambiguator="47" />
		</Element>
		<Element Type="SqlTable" Name="[dbo].[AppMenus]">
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Relationship Name="Columns">
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[AppMenus].[MenuId]">
						<Property Name="IsNullable" Value="False" />
						<Property Name="IsIdentity" Value="True" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[AppMenus].[FilePage]">
						<Property Name="IsNullable" Value="False" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Property Name="Length" Value="200" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[varchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[AppMenus].[IsActive]">
						<Property Name="IsNullable" Value="False" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[bit]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[AppMenus].[Creation]">
						<Property Name="IsNullable" Value="False" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[datetime]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
						<Annotation Type="SqlInlineConstraintAnnotation" Disambiguator="48" />
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[AppMenus].[Updated]">
						<Property Name="IsNullable" Value="False" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[datetime]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
						<Annotation Type="SqlInlineConstraintAnnotation" Disambiguator="49" />
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[AppMenus].[UpdatedId]">
						<Property Name="IsNullable" Value="False" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
						<Annotation Type="SqlInlineConstraintAnnotation" Disambiguator="50" />
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[AppMenus].[Menu]">
						<Property Name="IsNullable" Value="False" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Property Name="Length" Value="200" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[varchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[AppMenus].[ParentId]">
						<Property Name="IsNullable" Value="False" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[AppMenus].[Help]">
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[text]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[AppMenus].[IsVertical]">
						<Property Name="IsNullable" Value="False" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[AppMenus].[IsHorizontal]">
						<Property Name="IsNullable" Value="False" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[AppMenus].[IsParent]">
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[bit]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[AppMenus].[IsParentMenu]">
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[bit]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[AppMenus].[IsAutorization]">
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[bit]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[AppMenus].[Icon]">
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Property Name="Length" Value="50" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[varchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[AppMenus].[Token]">
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[uniqueidentifier]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
						<Annotation Type="SqlInlineConstraintAnnotation" Disambiguator="51" />
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[AppMenus].[Alias]">
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Property Name="Length" Value="200" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[varchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="Schema">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<Annotation Type="SqlInlineConstraintAnnotation" Disambiguator="52" />
		</Element>
		<Element Type="SqlTable" Name="[dbo].[AppMessageLog]">
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Relationship Name="Columns">
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[AppMessageLog].[MessageId]">
						<Property Name="IsNullable" Value="False" />
						<Property Name="IsIdentity" Value="True" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[AppMessageLog].[Message]">
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Property Name="IsMax" Value="True" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[varchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[AppMessageLog].[Description]">
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Property Name="IsMax" Value="True" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[varchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[AppMessageLog].[Creation]">
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[datetime]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
						<Annotation Type="SqlInlineConstraintAnnotation" Disambiguator="53" />
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[AppMessageLog].[StatusCode]">
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Property Name="Length" Value="50" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[varchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[AppMessageLog].[Body]">
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Property Name="IsMax" Value="True" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[varchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[AppMessageLog].[Token]">
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[uniqueidentifier]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="Schema">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<Annotation Type="SqlInlineConstraintAnnotation" Disambiguator="54" />
		</Element>
		<Element Type="SqlTable" Name="[dbo].[AppParameters]">
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Relationship Name="Columns">
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[AppParameters].[ParameterId]">
						<Property Name="IsNullable" Value="False" />
						<Property Name="IsIdentity" Value="True" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[AppParameters].[CodeParameter]">
						<Property Name="IsNullable" Value="False" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Property Name="Length" Value="100" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[varchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[AppParameters].[ValueId]">
						<Property Name="IsNullable" Value="False" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Property Name="IsMax" Value="True" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[varchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[AppParameters].[Parameter]">
						<Property Name="IsNullable" Value="False" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[text]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[AppParameters].[IsBlocked]">
						<Property Name="IsNullable" Value="False" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[bit]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[AppParameters].[Updated]">
						<Property Name="IsNullable" Value="False" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[datetime]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
						<Annotation Type="SqlInlineConstraintAnnotation" Disambiguator="55" />
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[AppParameters].[Creation]">
						<Property Name="IsNullable" Value="False" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[datetime]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
						<Annotation Type="SqlInlineConstraintAnnotation" Disambiguator="56" />
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[AppParameters].[UpdatedId]">
						<Property Name="IsNullable" Value="False" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
						<Annotation Type="SqlInlineConstraintAnnotation" Disambiguator="57" />
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[AppParameters].[Control]">
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Property Name="Length" Value="50" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[varchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[AppParameters].[Observation]">
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Property Name="IsMax" Value="True" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[varchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[AppParameters].[Type]">
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Property Name="IsMax" Value="True" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[varchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[AppParameters].[Title]">
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Property Name="IsMax" Value="True" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[varchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[AppParameters].[IsWidth]">
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[AppParameters].[Token]">
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[uniqueidentifier]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="Schema">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<Annotation Type="SqlInlineConstraintAnnotation" Disambiguator="58" />
		</Element>
		<Element Type="SqlTable" Name="[dbo].[AppProfiles]">
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Relationship Name="Columns">
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[AppProfiles].[ProfileId]">
						<Property Name="IsNullable" Value="False" />
						<Property Name="IsIdentity" Value="True" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[AppProfiles].[Profile]">
						<Property Name="IsNullable" Value="False" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Property Name="Length" Value="45" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[varchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[AppProfiles].[Section]">
						<Property Name="IsNullable" Value="False" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Property Name="Length" Value="25" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[varchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[AppProfiles].[IsActive]">
						<Property Name="IsNullable" Value="False" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[bit]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[AppProfiles].[Creation]">
						<Property Name="IsNullable" Value="False" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[datetime]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
						<Annotation Type="SqlInlineConstraintAnnotation" Disambiguator="59" />
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[AppProfiles].[Updated]">
						<Property Name="IsNullable" Value="False" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[datetime]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
						<Annotation Type="SqlInlineConstraintAnnotation" Disambiguator="60" />
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[AppProfiles].[UpdatedId]">
						<Property Name="IsNullable" Value="False" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
						<Annotation Type="SqlInlineConstraintAnnotation" Disambiguator="61" />
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[AppProfiles].[IsBlock]">
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[bit]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[AppProfiles].[Token]">
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[uniqueidentifier]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
						<Annotation Type="SqlInlineConstraintAnnotation" Disambiguator="62" />
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="Schema">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<Annotation Type="SqlInlineConstraintAnnotation" Disambiguator="63" />
		</Element>
		<Element Type="SqlTable" Name="[dbo].[AppProfilesMenus]">
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Relationship Name="Columns">
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[AppProfilesMenus].[ProfileMenuId]">
						<Property Name="IsNullable" Value="False" />
						<Property Name="IsIdentity" Value="True" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[AppProfilesMenus].[UpdatedId]">
						<Property Name="IsNullable" Value="False" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
						<Annotation Type="SqlInlineConstraintAnnotation" Disambiguator="64" />
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[AppProfilesMenus].[Creation]">
						<Property Name="IsNullable" Value="False" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[datetime]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
						<Annotation Type="SqlInlineConstraintAnnotation" Disambiguator="65" />
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[AppProfilesMenus].[Updated]">
						<Property Name="IsNullable" Value="False" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[datetime]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
						<Annotation Type="SqlInlineConstraintAnnotation" Disambiguator="66" />
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[AppProfilesMenus].[ParentId]">
						<Property Name="IsNullable" Value="False" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[AppProfilesMenus].[IsVertical]">
						<Property Name="IsNullable" Value="False" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[AppProfilesMenus].[IsHorizontal]">
						<Property Name="IsNullable" Value="False" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[AppProfilesMenus].[IsActive]">
						<Property Name="IsNullable" Value="False" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[bit]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[AppProfilesMenus].[ProfileId]">
						<Property Name="IsNullable" Value="False" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[AppProfilesMenus].[MenuId]">
						<Property Name="IsNullable" Value="False" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[AppProfilesMenus].[IsView]">
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[bit]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[AppProfilesMenus].[IsNew]">
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[bit]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[AppProfilesMenus].[IsEdit]">
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[bit]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[AppProfilesMenus].[IsAutorization]">
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[bit]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[AppProfilesMenus].[IsStatus]">
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[bit]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[AppProfilesMenus].[IsModify]">
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[bit]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[AppProfilesMenus].[IsSpecial]">
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[bit]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[AppProfilesMenus].[IsDelete]">
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[bit]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="Schema">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<Annotation Type="SqlInlineConstraintAnnotation" Disambiguator="67" />
			<Annotation Type="SqlInlineConstraintAnnotation" Disambiguator="68" />
			<Annotation Type="SqlInlineConstraintAnnotation" Disambiguator="69" />
		</Element>
		<Element Type="SqlTable" Name="[dbo].[AppSendEmail]">
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Relationship Name="Columns">
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[AppSendEmail].[EntityId]">
						<Property Name="IsNullable" Value="False" />
						<Property Name="IsIdentity" Value="True" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[AppSendEmail].[ToEmail]">
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Property Name="IsMax" Value="True" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[varchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[AppSendEmail].[Subject]">
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Property Name="Length" Value="250" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[varchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[AppSendEmail].[Body]">
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Property Name="IsMax" Value="True" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[varchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[AppSendEmail].[Updated]">
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[datetime]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
						<Annotation Type="SqlInlineConstraintAnnotation" Disambiguator="70" />
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[AppSendEmail].[Creation]">
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[datetime]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
						<Annotation Type="SqlInlineConstraintAnnotation" Disambiguator="71" />
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[AppSendEmail].[UpdatedId]">
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[AppSendEmail].[StatusSend]">
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Property Name="Length" Value="50" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[varchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[AppSendEmail].[Message]">
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Property Name="IsMax" Value="True" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[varchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[AppSendEmail].[EmailAdmin]">
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Property Name="IsMax" Value="True" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[varchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[AppSendEmail].[EmailTo]">
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Property Name="IsMax" Value="True" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[varchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[AppSendEmail].[Token]">
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[uniqueidentifier]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
						<Annotation Type="SqlInlineConstraintAnnotation" Disambiguator="72" />
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="Schema">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<Annotation Type="SqlInlineConstraintAnnotation" Disambiguator="73" />
		</Element>
		<Element Type="SqlTable" Name="[dbo].[AppSessions]">
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Relationship Name="Columns">
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[AppSessions].[Session]">
						<Property Name="IsNullable" Value="False" />
						<Property Name="IsIdentity" Value="True" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[AppSessions].[SessionId]">
						<Property Name="IsNullable" Value="False" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Property Name="Length" Value="200" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[varchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[AppSessions].[Creation]">
						<Property Name="IsNullable" Value="False" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[datetime]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
						<Annotation Type="SqlInlineConstraintAnnotation" Disambiguator="74" />
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[AppSessions].[Updated]">
						<Property Name="IsNullable" Value="False" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[datetime]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
						<Annotation Type="SqlInlineConstraintAnnotation" Disambiguator="75" />
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[AppSessions].[ExpirateTrace]">
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[datetime]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[AppSessions].[UpdatedId]">
						<Property Name="IsNullable" Value="False" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
						<Annotation Type="SqlInlineConstraintAnnotation" Disambiguator="76" />
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[AppSessions].[IsTrace]">
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[bit]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[AppSessions].[UserId]">
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[AppSessions].[Token]">
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[uniqueidentifier]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
						<Annotation Type="SqlInlineConstraintAnnotation" Disambiguator="77" />
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="Schema">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<Annotation Type="SqlInlineConstraintAnnotation" Disambiguator="78" />
		</Element>
		<Element Type="SqlTable" Name="[dbo].[AppUploads]">
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Relationship Name="Columns">
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[AppUploads].[UploadId]">
						<Property Name="IsNullable" Value="False" />
						<Property Name="IsIdentity" Value="True" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[AppUploads].[Upload]">
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Property Name="Length" Value="50" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[varchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[AppUploads].[Body]">
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Property Name="IsMax" Value="True" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[varbinary]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[AppUploads].[UpdatedId]">
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[AppUploads].[Creation]">
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[datetime]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
						<Annotation Type="SqlInlineConstraintAnnotation" Disambiguator="79" />
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[AppUploads].[Updated]">
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[datetime]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
						<Annotation Type="SqlInlineConstraintAnnotation" Disambiguator="80" />
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[AppUploads].[Filename]">
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Property Name="Length" Value="250" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[varchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[AppUploads].[Token]">
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[uniqueidentifier]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
						<Annotation Type="SqlInlineConstraintAnnotation" Disambiguator="81" />
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="Schema">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<Annotation Type="SqlInlineConstraintAnnotation" Disambiguator="82" />
		</Element>
		<Element Type="SqlTable" Name="[dbo].[AppUsers]">
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Relationship Name="Columns">
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[AppUsers].[UserId]">
						<Property Name="IsNullable" Value="False" />
						<Property Name="IsIdentity" Value="True" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[AppUsers].[Name]">
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Property Name="Length" Value="200" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[varchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[AppUsers].[Login]">
						<Property Name="IsNullable" Value="False" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Property Name="Length" Value="50" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[varchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[AppUsers].[Password]">
						<Property Name="IsNullable" Value="False" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Property Name="Length" Value="100" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[varchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[AppUsers].[Creation]">
						<Property Name="IsNullable" Value="False" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[datetime]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
						<Annotation Type="SqlInlineConstraintAnnotation" Disambiguator="83" />
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[AppUsers].[Updated]">
						<Property Name="IsNullable" Value="False" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[datetime]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
						<Annotation Type="SqlInlineConstraintAnnotation" Disambiguator="84" />
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[AppUsers].[UpdatedId]">
						<Property Name="IsNullable" Value="False" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
						<Annotation Type="SqlInlineConstraintAnnotation" Disambiguator="85" />
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[AppUsers].[RoleId]">
						<Property Name="IsNullable" Value="False" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[AppUsers].[Email]">
						<Property Name="IsNullable" Value="False" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Property Name="Length" Value="200" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[varchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[AppUsers].[IsActive]">
						<Property Name="IsNullable" Value="False" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[bit]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
						<Annotation Type="SqlInlineConstraintAnnotation" Disambiguator="86" />
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[AppUsers].[ParentId]">
						<Property Name="IsNullable" Value="False" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[AppUsers].[ProfileId]">
						<Property Name="IsNullable" Value="False" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[AppUsers].[Expiration]">
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[smalldatetime]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[AppUsers].[Password2]">
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Property Name="Length" Value="100" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[varchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[AppUsers].[IsSysadmin]">
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[bit]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[AppUsers].[IsBlock]">
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[bit]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
						<Annotation Type="SqlInlineConstraintAnnotation" Disambiguator="87" />
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[AppUsers].[Reset]">
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Property Name="Length" Value="250" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[varchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[AppUsers].[Token]">
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[uniqueidentifier]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
						<Annotation Type="SqlInlineConstraintAnnotation" Disambiguator="88" />
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="Schema">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<Annotation Type="SqlInlineConstraintAnnotation" Disambiguator="89" />
			<Annotation Type="SqlInlineConstraintAnnotation" Disambiguator="90" />
		</Element>
		<Element Type="SqlTable" Name="[dbo].[AvailableOpenVessels]">
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Relationship Name="Columns">
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[AvailableOpenVessels].[Id]">
						<Property Name="IsNullable" Value="False" />
						<Property Name="IsIdentity" Value="True" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[AvailableOpenVessels].[Token]">
						<Property Name="IsNullable" Value="False" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[uniqueidentifier]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
						<Annotation Type="SqlInlineConstraintAnnotation" Disambiguator="91" />
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[AvailableOpenVessels].[NextOpeningOn]">
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[date]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[AvailableOpenVessels].[NextOpeningPort]">
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[date]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[AvailableOpenVessels].[VesselId]">
						<Property Name="IsNullable" Value="False" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[AvailableOpenVessels].[Capacity]">
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[AvailableOpenVessels].[CurrentPortId]">
						<Property Name="IsNullable" Value="False" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[AvailableOpenVessels].[IsAvailable]">
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[bit]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[AvailableOpenVessels].[Creation]">
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[datetime]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
						<Annotation Type="SqlInlineConstraintAnnotation" Disambiguator="92" />
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[AvailableOpenVessels].[Updated]">
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[datetime]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
						<Annotation Type="SqlInlineConstraintAnnotation" Disambiguator="93" />
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[AvailableOpenVessels].[IsActive]">
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[bit]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
						<Annotation Type="SqlInlineConstraintAnnotation" Disambiguator="94" />
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[AvailableOpenVessels].[UpdatedId]">
						<Property Name="IsNullable" Value="False" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
						<Annotation Type="SqlInlineConstraintAnnotation" Disambiguator="95" />
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[AvailableOpenVessels].[CurrentTerminalId]">
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="Schema">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<Annotation Type="SqlInlineConstraintAnnotation" Disambiguator="96" />
		</Element>
		<Element Type="SqlProcedure" Name="[dbo].[BG_EmailQueue_Save]">
			<Property Name="BodyScript">
				<Value><![CDATA[
BEGIN
		/*------------------------------------------------------------------------------
		-- getting xml main list only range: records_[begin,end], setting record status.
		------------------------------------------------------------------------------*/
	Declare  @sError Varchar(Max) ,@IsErrorTecnichal int,@Email_paremters varchar(250),@Uri_paremters varchar(250)
	Execute C_Parameter_Get @CodeParameter= 'ERROR_TECNICHAL', @Value= @IsErrorTecnichal OUTPUT
	Execute C_Parameter_Get @CodeParameter= 'EMAIL_ADMIN', @Value= @Email_paremters OUTPUT
	
	Begin Try
	Begin Transaction
	Select @Email_admin=Case When @Email_admin='' then @Email_paremters else @Email_admin end
	Select @Subject=(Case When Isnull(@Subject,'')='' then AppEmailBody.Name else @Subject end),
		   @Body=Case When Isnull(@Body,'')='' then Body else @Body end
	From AppEmailBody
	Where EmailTo=@EmailTo

				INSERT INTO [dbo].[AppSendEmail]
						   ([ToEmail]
						   ,[Subject]
						   ,[Body]
						   ,[Updated]
						   ,[Creation]
						   ,[UpdatedId]
						   ,[StatusSend]
						   ,[Message]
						   ,[EmailAdmin]
						   ,[EmailTo])
					 VALUES
						   (@ToEmail 
						   ,@Subject 
						   ,@Body 
						   ,getdate()
						   ,getdate()
						   ,@UpdatedId 
						   ,'PROCESS'
						   ,null
						   ,@Email_admin 
						   ,@EmailTo )
	Commit Transaction
	------------------------------------------------------------------------------
	-- send back answer
	------------------------------------------------------------------------------
	-- - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -
	End Try
	Begin Catch
		-- there was an error
		If XACT_STATE() =-1
		Begin
    			Rollback WORK
		End
		If @@trancount >0
		Begin
    			Rollback WORK
		End
		If XACT_STATE() = 1
		Begin
    			Commit WORK
		End
		Set @sError  =   ERROR_MESSAGE()
		if @IsErrorTecnichal=1
		Begin
			Set @sError   =  ERROR_PROCEDURE() + 
					';  ' + convert(varchar,ERROR_LINE()) + 
					'; ' + ERROR_MESSAGE()
		End 
		--Getting the error description
		RaisError (@sError,16,1)
		Return
	End Catch
END]]></Value>
			</Property>
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Relationship Name="BodyDependencies">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[varchar]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[int]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[varchar]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[varchar]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[C_Parameter_Get]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[C_Parameter_Get].[@CodeParameter]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[C_Parameter_Get].[@Value]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[BG_EmailQueue_Save].[@Email_admin]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[AppEmailBody]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[BG_EmailQueue_Save].[@Subject]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[AppEmailBody].[Name]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[BG_EmailQueue_Save].[@Body]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[AppEmailBody].[Body]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[AppEmailBody].[EmailTo]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[BG_EmailQueue_Save].[@EmailTo]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[AppSendEmail]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[AppSendEmail].[ToEmail]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[AppSendEmail].[Subject]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[AppSendEmail].[Body]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[AppSendEmail].[Updated]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[AppSendEmail].[Creation]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[AppSendEmail].[UpdatedId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[AppSendEmail].[StatusSend]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[AppSendEmail].[Message]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[AppSendEmail].[EmailAdmin]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[AppSendEmail].[EmailTo]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[BG_EmailQueue_Save].[@ToEmail]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[BG_EmailQueue_Save].[@UpdatedId]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[varchar]" />
				</Entry>
			</Relationship>
			<Relationship Name="Parameters">
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[BG_EmailQueue_Save].[@ToEmail]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Property Name="IsMax" Value="True" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[varchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[BG_EmailQueue_Save].[@Subject]">
						<Property Name="DefaultExpressionScript">
							<Value><![CDATA['']]></Value>
						</Property>
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Property Name="Length" Value="250" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[varchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[BG_EmailQueue_Save].[@Body]">
						<Property Name="DefaultExpressionScript">
							<Value><![CDATA['']]></Value>
						</Property>
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Property Name="IsMax" Value="True" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[varchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[BG_EmailQueue_Save].[@Email_admin]">
						<Property Name="DefaultExpressionScript">
							<Value><![CDATA['']]></Value>
						</Property>
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Property Name="IsMax" Value="True" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[varchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[BG_EmailQueue_Save].[@EmailTo]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Property Name="Length" Value="50" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[varchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[BG_EmailQueue_Save].[@UpdatedId]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="Schema">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<Annotation Type="SysCommentsObjectAnnotation">
				<Property Name="Length" Value="2392" />
				<Property Name="StartLine" Value="1" />
				<Property Name="StartColumn" Value="1" />
				<Property Name="HeaderContents" Value="CREATE PROCEDURE [dbo].[BG_EmailQueue_Save]&#xD;&#xA;&#x9; @ToEmail varchar(max)&#xD;&#xA;&#x9;,@Subject varchar(250) =''&#xD;&#xA;&#x9;,@Body varchar(max) =''&#xD;&#xA;&#x9;,@Email_admin varchar(max) =''&#xD;&#xA;&#x9;,@EmailTo varchar(50)&#xD;&#xA;&#x9;,@UpdatedId int &#xD;&#xA;--WITH ENCRYPTION&#xD;&#xA;AS" />
			</Annotation>
		</Element>
		<Element Type="SqlProcedure" Name="[dbo].[C_Parameter_Get]">
			<Property Name="BodyScript">
				<Value><![CDATA[
BEGIN
	Declare  @sError Varchar(Max) 
	BEGIN TRY
	
		set @Value=(select ValueId
						from appparameters 
						where CodeParameter=@CodeParameter)
	END TRY
	Begin Catch
    	    -- there was an error
    	    If XACT_STATE() =-1
    	    Begin
    	    	    Rollback WORK
    	    End
    	    If @@trancount >0
    	    Begin
    	    	    Rollback WORK
    	    End
    	    If XACT_STATE() = 1
    	    Begin
    	    	    Commit WORK
    	    End
    	    --Getting the error description
    	    Select @sError   =  ERROR_PROCEDURE() + 
					';  ' + convert(varchar,ERROR_LINE()) + 
					'; ' + ERROR_MESSAGE()
    	    -- save the error in a Log file
    	    RaisError(@sError,16,1)
    	    Return  
    End Catch

END]]></Value>
			</Property>
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Relationship Name="BodyDependencies">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[varchar]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[C_Parameter_Get].[@Value]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[AppParameters]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[AppParameters].[ValueId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[AppParameters].[CodeParameter]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[C_Parameter_Get].[@CodeParameter]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[varchar]" />
				</Entry>
			</Relationship>
			<Relationship Name="Parameters">
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[C_Parameter_Get].[@CodeParameter]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Property Name="Length" Value="200" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[varchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[C_Parameter_Get].[@Value]">
						<Property Name="IsOutput" Value="True" />
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Property Name="IsMax" Value="True" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[varchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="Schema">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<Annotation Type="SysCommentsObjectAnnotation">
				<Property Name="Length" Value="887" />
				<Property Name="StartLine" Value="1" />
				<Property Name="StartColumn" Value="1" />
				<Property Name="HeaderContents" Value="CREATE PROCEDURE [dbo].[C_Parameter_Get]&#xD;&#xA;&#x9;@CodeParameter [varchar](200),&#xD;&#xA;&#x9;@Value [varchar](max) OUTPUT&#xD;&#xA;--WITH ENCRYPTION&#xD;&#xA;AS" />
			</Annotation>
		</Element>
		<Element Type="SqlTable" Name="[dbo].[Cities]">
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Relationship Name="Columns">
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[Cities].[CityId]">
						<Property Name="IsNullable" Value="False" />
						<Property Name="IsIdentity" Value="True" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[Cities].[CountryId]">
						<Property Name="IsNullable" Value="False" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[Cities].[DepartmentId]">
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[Cities].[City]">
						<Property Name="IsNullable" Value="False" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Property Name="Length" Value="50" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[varchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[Cities].[UpdatedId]">
						<Property Name="IsNullable" Value="False" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[Cities].[Updated]">
						<Property Name="IsNullable" Value="False" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[datetime]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
						<Annotation Type="SqlInlineConstraintAnnotation" Disambiguator="97" />
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[Cities].[Created]">
						<Property Name="IsNullable" Value="False" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[datetime]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
						<Annotation Type="SqlInlineConstraintAnnotation" Disambiguator="98" />
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[Cities].[IsActive]">
						<Property Name="IsNullable" Value="False" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[bit]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
						<Annotation Type="SqlInlineConstraintAnnotation" Disambiguator="99" />
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[Cities].[Token]">
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[uniqueidentifier]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
						<Annotation Type="SqlInlineConstraintAnnotation" Disambiguator="100" />
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="Schema">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<Annotation Type="SqlInlineConstraintAnnotation" Disambiguator="101" />
			<Annotation Type="SqlInlineConstraintAnnotation" Disambiguator="102" />
		</Element>
		<Element Type="SqlIndex" Name="[dbo].[Cities].[IX_Cities]">
			<Property Name="IsUnique" Value="True" />
			<Relationship Name="ColumnSpecifications">
				<Entry>
					<Element Type="SqlIndexedColumnSpecification">
						<Relationship Name="Column">
							<Entry>
								<References Name="[dbo].[Cities].[City]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="IndexedObject">
				<Entry>
					<References Name="[dbo].[Cities]" />
				</Entry>
			</Relationship>
		</Element>
		<Element Type="SqlTable" Name="[dbo].[Clauses]">
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Relationship Name="Columns">
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[Clauses].[Id]">
						<Property Name="IsNullable" Value="False" />
						<Property Name="IsIdentity" Value="True" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[Clauses].[Token]">
						<Property Name="IsNullable" Value="False" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[uniqueidentifier]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
						<Annotation Type="SqlInlineConstraintAnnotation" Disambiguator="103" />
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[Clauses].[Code]">
						<Property Name="IsNullable" Value="False" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Property Name="Length" Value="50" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[varchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[Clauses].[Name]">
						<Property Name="IsNullable" Value="False" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Property Name="IsMax" Value="True" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[varchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[Clauses].[IsModify]">
						<Property Name="IsNullable" Value="False" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[bit]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[Clauses].[Creation]">
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[datetime]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
						<Annotation Type="SqlInlineConstraintAnnotation" Disambiguator="104" />
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[Clauses].[IsActive]">
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[bit]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[Clauses].[Updated]">
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[datetime]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[Clauses].[UpdatedId]">
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="Schema">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<Annotation Type="SqlInlineConstraintAnnotation" Disambiguator="105" />
		</Element>
		<Element Type="SqlTable" Name="[dbo].[ConditionByPorts]">
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Relationship Name="Columns">
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[ConditionByPorts].[Id]">
						<Property Name="IsNullable" Value="False" />
						<Property Name="IsIdentity" Value="True" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[ConditionByPorts].[Token]">
						<Property Name="IsNullable" Value="False" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[uniqueidentifier]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
						<Annotation Type="SqlInlineConstraintAnnotation" Disambiguator="106" />
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[ConditionByPorts].[PortId]">
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[ConditionByPorts].[ConditionId]">
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[ConditionByPorts].[Creation]">
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[datetime]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
						<Annotation Type="SqlInlineConstraintAnnotation" Disambiguator="107" />
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[ConditionByPorts].[Updated]">
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[datetime]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
						<Annotation Type="SqlInlineConstraintAnnotation" Disambiguator="108" />
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[ConditionByPorts].[IsActive]">
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Property Name="Length" Value="1" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[binary]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
						<Annotation Type="SqlInlineConstraintAnnotation" Disambiguator="109" />
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[ConditionByPorts].[UpdatedId]">
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
						<Annotation Type="SqlInlineConstraintAnnotation" Disambiguator="110" />
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="Schema">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<Annotation Type="SqlInlineConstraintAnnotation" Disambiguator="111" />
		</Element>
		<Element Type="SqlTable" Name="[dbo].[Conditions]">
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Relationship Name="Columns">
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[Conditions].[Id]">
						<Property Name="IsNullable" Value="False" />
						<Property Name="IsIdentity" Value="True" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[Conditions].[Token]">
						<Property Name="IsNullable" Value="False" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[uniqueidentifier]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
						<Annotation Type="SqlInlineConstraintAnnotation" Disambiguator="112" />
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[Conditions].[Name]">
						<Property Name="IsNullable" Value="False" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Property Name="Length" Value="25" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[varchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
						<Annotation Type="SqlInlineConstraintAnnotation" Disambiguator="113" />
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[Conditions].[Value]">
						<Property Name="IsNullable" Value="False" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Property Name="Precision" Value="53" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[float]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[Conditions].[Description]">
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Property Name="Length" Value="250" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[varchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
						<Annotation Type="SqlInlineConstraintAnnotation" Disambiguator="114" />
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[Conditions].[Creation]">
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[datetime]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
						<Annotation Type="SqlInlineConstraintAnnotation" Disambiguator="115" />
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[Conditions].[Updated]">
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[datetime]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
						<Annotation Type="SqlInlineConstraintAnnotation" Disambiguator="116" />
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[Conditions].[IsActive]">
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[bit]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
						<Annotation Type="SqlInlineConstraintAnnotation" Disambiguator="117" />
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[Conditions].[UpdatedId]">
						<Property Name="IsNullable" Value="False" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
						<Annotation Type="SqlInlineConstraintAnnotation" Disambiguator="118" />
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="Schema">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<Annotation Type="SqlInlineConstraintAnnotation" Disambiguator="119" />
		</Element>
		<Element Type="SqlIndex" Name="[dbo].[Conditions].[IX_Conditions]">
			<Property Name="IsUnique" Value="True" />
			<Relationship Name="ColumnSpecifications">
				<Entry>
					<Element Type="SqlIndexedColumnSpecification">
						<Relationship Name="Column">
							<Entry>
								<References Name="[dbo].[Conditions].[Name]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="IndexedObject">
				<Entry>
					<References Name="[dbo].[Conditions]" />
				</Entry>
			</Relationship>
		</Element>
		<Element Type="SqlTable" Name="[dbo].[Contract]">
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Relationship Name="Columns">
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[Contract].[Id]">
						<Property Name="IsNullable" Value="False" />
						<Property Name="IsIdentity" Value="True" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[Contract].[Code]">
						<Property Name="IsNullable" Value="False" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Property Name="Length" Value="50" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[varchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[Contract].[Name]">
						<Property Name="IsNullable" Value="False" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Property Name="IsMax" Value="True" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[varchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[Contract].[Observation]">
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Property Name="IsMax" Value="True" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[varchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[Contract].[AvailableFrom]">
						<Property Name="IsNullable" Value="False" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[date]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[Contract].[Token]">
						<Property Name="IsNullable" Value="False" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[uniqueidentifier]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
						<Annotation Type="SqlInlineConstraintAnnotation" Disambiguator="120" />
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[Contract].[Creation]">
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[datetime]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
						<Annotation Type="SqlInlineConstraintAnnotation" Disambiguator="121" />
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[Contract].[IsActive]">
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[bit]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[Contract].[Updated]">
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[datetime]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[Contract].[UpdatedId]">
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="Schema">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<Annotation Type="SqlInlineConstraintAnnotation" Disambiguator="122" />
		</Element>
		<Element Type="SqlTable" Name="[dbo].[ContractClauses]">
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Relationship Name="Columns">
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[ContractClauses].[Id]">
						<Property Name="IsNullable" Value="False" />
						<Property Name="IsIdentity" Value="True" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[ContractClauses].[ClauseId]">
						<Property Name="IsNullable" Value="False" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[ContractClauses].[ContractId]">
						<Property Name="IsNullable" Value="False" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[ContractClauses].[Token]">
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[uniqueidentifier]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
						<Annotation Type="SqlInlineConstraintAnnotation" Disambiguator="123" />
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[ContractClauses].[Creation]">
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[datetime]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
						<Annotation Type="SqlInlineConstraintAnnotation" Disambiguator="124" />
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[ContractClauses].[UpdatedId]">
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="Schema">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<Annotation Type="SqlInlineConstraintAnnotation" Disambiguator="125" />
		</Element>
		<Element Type="SqlTable" Name="[dbo].[Countries]">
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Relationship Name="Columns">
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[Countries].[CountryId]">
						<Property Name="IsNullable" Value="False" />
						<Property Name="IsIdentity" Value="True" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[Countries].[Country]">
						<Property Name="IsNullable" Value="False" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Property Name="Length" Value="50" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[varchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[Countries].[CodeInternational]">
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Property Name="Length" Value="50" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[varchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[Countries].[Code]">
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Property Name="Length" Value="50" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[varchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[Countries].[UpdatedId]">
						<Property Name="IsNullable" Value="False" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[Countries].[Updated]">
						<Property Name="IsNullable" Value="False" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[datetime]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
						<Annotation Type="SqlInlineConstraintAnnotation" Disambiguator="126" />
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[Countries].[Created]">
						<Property Name="IsNullable" Value="False" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[datetime]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
						<Annotation Type="SqlInlineConstraintAnnotation" Disambiguator="127" />
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[Countries].[IsActive]">
						<Property Name="IsNullable" Value="False" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[bit]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
						<Annotation Type="SqlInlineConstraintAnnotation" Disambiguator="128" />
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[Countries].[Token]">
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[uniqueidentifier]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
						<Annotation Type="SqlInlineConstraintAnnotation" Disambiguator="129" />
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="Schema">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<Annotation Type="SqlInlineConstraintAnnotation" Disambiguator="130" />
		</Element>
		<Element Type="SqlIndex" Name="[dbo].[Countries].[IX_Countries]">
			<Property Name="IsUnique" Value="True" />
			<Relationship Name="ColumnSpecifications">
				<Entry>
					<Element Type="SqlIndexedColumnSpecification">
						<Relationship Name="Column">
							<Entry>
								<References Name="[dbo].[Countries].[Country]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="IndexedObject">
				<Entry>
					<References Name="[dbo].[Countries]" />
				</Entry>
			</Relationship>
		</Element>
		<Element Type="SqlProcedure" Name="[dbo].[DB_AvailableOpenVessels_Delete]">
			<Property Name="BodyScript">
				<Value><![CDATA[
Begin

	--------------------------------------------------------------------------------
	Declare  @sError Varchar(Max) ,@IsErrorTecnichal int
	Execute C_Parameter_Get @CodeParameter= 'ERROR_TECNICHAL', @Value= @IsErrorTecnichal OUTPUT
	--------------------------------------------------------------------------------
	-- Validating parameters
	--------------------------------------------------------------------------------
	--------------------------------------------------------------------------------
	-- Activate/Inactivate Record
	--------------------------------------------------------------------------------
	Begin Try
	--Start The Transaction
	Begin Transaction
			
			Delete From dbo.AvailableOpenVessels
			Where Token= @Token

			-- check for errors
			If @@rowcount= 0 
			Begin 
    			RaisError('SQLDELETE_FAILD',16,1)
			End 

	-- if we reach here, success!
	Commit Transaction
	End Try
	Begin Catch
			-- there was an error
			If XACT_STATE() =-1
			Begin
    				Rollback WORK
			End
			If @@trancount >0
			Begin
    				Rollback WORK
			End
			If XACT_STATE() = 1
			Begin
    				Commit WORK
			End
			--Getting the error description
			Set @sError  =   ERROR_MESSAGE()
			if @IsErrorTecnichal=1
			Begin
				Set @sError  =  ERROR_PROCEDURE() + 
					';  ' + convert(varchar,ERROR_LINE()) + 
					'; ' + ERROR_MESSAGE()
			End 
			--Getting the error description
			RaisError (@sError,16,1) 
			Return  
	End Catch
	--------------------------------------------------------------------------------
	-- Returning a Value
	--------------------------------------------------------------------------------
	Select  1
	-- - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -
End]]></Value>
			</Property>
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Relationship Name="BodyDependencies">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[varchar]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[int]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[C_Parameter_Get]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[C_Parameter_Get].[@CodeParameter]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[C_Parameter_Get].[@Value]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[AvailableOpenVessels]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[AvailableOpenVessels].[Token]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[DB_AvailableOpenVessels_Delete].[@Token]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[varchar]" />
				</Entry>
			</Relationship>
			<Relationship Name="Parameters">
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[DB_AvailableOpenVessels_Delete].[@Token]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[uniqueidentifier]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="Schema">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<Annotation Type="SysCommentsObjectAnnotation">
				<Property Name="Length" Value="1887" />
				<Property Name="StartLine" Value="1" />
				<Property Name="StartColumn" Value="1" />
				<Property Name="HeaderContents" Value="Create PROCEDURE [dbo].[DB_AvailableOpenVessels_Delete]&#xD;&#xA;&#x9;@Token uniqueidentifier&#xD;&#xA;--WITH ENCRYPTION&#xD;&#xA;AS" />
			</Annotation>
		</Element>
		<Element Type="SqlProcedure" Name="[dbo].[DB_AvailableOpenVessels_Get]">
			<Property Name="BodyScript">
				<Value><![CDATA[
BEGIN
	------------------------------------------------------------------------------
	-- Declaring tables
	------------------------------------------------------------------------------
		SELECT AvailableOpenVessels.*
		FROM AvailableOpenVessels
		Inner Join Vessel On AvailableOpenVessels.VesselId=Vessel.Id and AvailableOpenVessels.IsAvailable=1
		Where Vessel.Token= @Token
	-- - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -
END]]></Value>
			</Property>
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Relationship Name="BodyDependencies">
				<Entry>
					<References Name="[dbo].[AvailableOpenVessels]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Vessel]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[AvailableOpenVessels].[VesselId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Vessel].[Id]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[AvailableOpenVessels].[IsAvailable]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Vessel].[Token]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[DB_AvailableOpenVessels_Get].[@Token]" />
				</Entry>
			</Relationship>
			<Relationship Name="Parameters">
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[DB_AvailableOpenVessels_Get].[@Token]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[uniqueidentifier]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="Schema">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<Annotation Type="SysCommentsObjectAnnotation">
				<Property Name="Length" Value="573" />
				<Property Name="StartLine" Value="1" />
				<Property Name="StartColumn" Value="1" />
				<Property Name="HeaderContents" Value="CREATE PROCEDURE [dbo].[DB_AvailableOpenVessels_Get]&#xD;&#xA;&#x9;@Token uniqueidentifier&#xD;&#xA;--WITH ENCRYPTION&#xD;&#xA;AS" />
			</Annotation>
		</Element>
		<Element Type="SqlProcedure" Name="[dbo].[DB_AvailableOpenVessels_Save]">
			<Property Name="BodyScript">
				<Value><![CDATA[
Begin
	--------------------------------------------------------------------------------
	-- IMPORTANT: Set this option ON: if do you wants stop and rollback transaction.
	--------------------------------------------------------------------------------
	SET XACT_ABORT ON
	--------------------------------------------------------------------------------
	-- Declaration of Variables
	--------------------------------------------------------------------------------
	Declare  @sError Varchar(Max) ,@IsErrorTecnichal int,@VesselId int
	Execute C_Parameter_Get @CodeParameter= 'ERROR_TECNICHAL', @Value= @IsErrorTecnichal OUTPUT
	-- - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -
	Begin Try
	--------------------------------------------------------------------------------
	-- Insert or Update Record
	--------------------------------------------------------------------------------
	Select @VesselId=Id
	From Vessel
	Where Vessel.Token=@Token
	Begin Transaction
		Update dbo.AvailableOpenVessels 
		Set IsActive=0,
		    Updated=getdate(),
			IsAvailable=0,
			UpdatedId=@UpdatedId
		Where VesselId=@VesselId

		INSERT INTO [dbo].[AvailableOpenVessels]
				   ([NextOpeningOn]
				   ,[NextOpeningPort]
				   ,[VesselId]
				   ,[CurrentPortId]
				   ,CurrentTerminalId
				   ,[IsAvailable]
				   ,[Creation]
				   ,[UpdatedId])
			 VALUES
				   (@NextOpeningOn
				   ,@NextOpeningPort
				   ,@VesselId
				   ,@CurrentPortId
				   ,@CurrentTerminalId
				   ,1
				   ,Getdate()
				   ,@UpdatedId)
	Commit Transaction
	End Try
	Begin Catch
		-- there was an error
		If XACT_STATE() =-1
		Begin
			Rollback WORK
		End
		If @@trancount >0
		Begin
			Rollback WORK
		End
		If XACT_STATE() = 1
		Begin
			Commit WORK
		End
		--Getting the error description
		Set @sError  =  ERROR_MESSAGE()
		if @IsErrorTecnichal=1
		Begin
			Set @sError  =  ERROR_PROCEDURE() + 
					';  ' + convert(varchar,ERROR_LINE()) + 
					'; ' + ERROR_MESSAGE()
		End 
		RaisError(@sError,16,1)  
		Return  
	End Catch
	--------------------------------------------------------------------------------
	-- Returning a Primary Key Value
	--------------------------------------------------------------------------------
	-- - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -
End]]></Value>
			</Property>
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Relationship Name="BodyDependencies">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[varchar]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[int]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[int]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[C_Parameter_Get]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[C_Parameter_Get].[@CodeParameter]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[C_Parameter_Get].[@Value]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Vessel]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Vessel].[Id]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Vessel].[Token]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[DB_AvailableOpenVessels_Save].[@Token]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[AvailableOpenVessels]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[AvailableOpenVessels].[IsActive]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[AvailableOpenVessels].[Updated]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[AvailableOpenVessels].[IsAvailable]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[AvailableOpenVessels].[UpdatedId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[DB_AvailableOpenVessels_Save].[@UpdatedId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[AvailableOpenVessels].[VesselId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[AvailableOpenVessels].[NextOpeningOn]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[AvailableOpenVessels].[NextOpeningPort]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[AvailableOpenVessels].[CurrentPortId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[AvailableOpenVessels].[CurrentTerminalId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[AvailableOpenVessels].[Creation]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[DB_AvailableOpenVessels_Save].[@NextOpeningOn]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[DB_AvailableOpenVessels_Save].[@NextOpeningPort]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[DB_AvailableOpenVessels_Save].[@CurrentPortId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[DB_AvailableOpenVessels_Save].[@CurrentTerminalId]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[varchar]" />
				</Entry>
			</Relationship>
			<Relationship Name="Parameters">
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[DB_AvailableOpenVessels_Save].[@Token]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[uniqueidentifier]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[DB_AvailableOpenVessels_Save].[@NextOpeningOn]">
						<Property Name="DefaultExpressionScript">
							<Value><![CDATA[null]]></Value>
						</Property>
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[date]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[DB_AvailableOpenVessels_Save].[@NextOpeningPort]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[date]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[DB_AvailableOpenVessels_Save].[@CurrentPortId]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[DB_AvailableOpenVessels_Save].[@CurrentTerminalId]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[DB_AvailableOpenVessels_Save].[@UpdatedId]">
						<Property Name="DefaultExpressionScript">
							<Value><![CDATA[Null]]></Value>
						</Property>
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="Schema">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<Annotation Type="SysCommentsObjectAnnotation">
				<Property Name="Length" Value="2622" />
				<Property Name="StartLine" Value="1" />
				<Property Name="StartColumn" Value="1" />
				<Property Name="HeaderContents" Value="CREATE PROCEDURE [dbo].[DB_AvailableOpenVessels_Save]&#xD;&#xA;&#x9;@Token uniqueidentifier,&#xD;&#xA;&#x9;@NextOpeningOn Date=null,&#xD;&#xA;&#x9;@NextOpeningPort Date,&#xD;&#xA;&#x9;@CurrentPortId [int],&#xD;&#xA;&#x9;@CurrentTerminalId int,&#xD;&#xA;&#x9;@UpdatedId [int] = Null&#xD;&#xA;--WITH ENCRYPTION&#xD;&#xA;AS" />
			</Annotation>
		</Element>
		<Element Type="SqlProcedure" Name="[dbo].[DB_ChangeStatusRequest_Save]">
			<Property Name="BodyScript">
				<Value><![CDATA[
BEGIN
	-- SET NOCOUNT ON added to prevent extra result sets from
	-- interfering with SELECT statements.
	--------------------------------------------------------------------------------
	-- IMPORTANT: Set this option ON: if do you wants stop and rollback transaction.
	--------------------------------------------------------------------------------
	SET XACT_ABORT ON
	SET NOCOUNT ON;
	Declare @sError varchar(max) ,@IsErrorTecnichal int
	Execute C_Parameter_Get @CodeParameter= 'ERROR_TECNICHAL', @Value= @IsErrorTecnichal OUTPUT
	Begin Try
	Begin Transaction
		 Update ServiceLiquidations
		 Set Status=@status,
			 Updated=getdate()
		 From ServiceLiquidations
		 Inner join RequestForServices On RequestForServices.Id=ServiceLiquidations.RequestForServiceId
					and ServiceLiquidations.Status in ('INPROGRESS','PENDING')
		 Where RequestForServices.Token=@token
	Commit Transaction
	------------------------------------------------------------------------------
	-- send back answer
	------------------------------------------------------------------------------
	-- - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -
	End Try
	Begin Catch
		-- there was an error
		If XACT_STATE() =-1
		Begin
    			Rollback WORK
		End
		If @@trancount >0
		Begin
    			Rollback WORK
		End
		If XACT_STATE() = 1
		Begin
    			Commit WORK
		End
		--Getting the error description
		Set @sError  =   ERROR_MESSAGE()
		if @IsErrorTecnichal=1
		Begin
			Set @sError   =  ERROR_PROCEDURE() + 
					';  ' + convert(varchar,ERROR_LINE()) + 
					'; ' + ERROR_MESSAGE()
		End 
		RaisError (@sError,16,1) 
		Return
	End Catch

	 Select Distinct Vessel.Owner,RequestForServices.Id
			,Products.Name as ProductName
			,LoadTerminal.Name as LoadTerminalName
			,DischargeTerminal.Name as DischargeTerminalName
			,QuantityMT.Name as QuantityMTName,
			RequestForServices.StartLaycan,RequestForServices.EndLaycan,dbo.GetStatusRequest(RequestForServices.Id)  as NewStatus
	 From ServiceLiquidations
		 Inner join RequestForServices On RequestForServices.Id=ServiceLiquidations.RequestForServiceId --and ServiceLiquidations.Status='INPROGRESS'
		 Inner join ItemsLiquidation On ItemsLiquidation.ServiceLiquidationId=ServiceLiquidations.Id
		 Inner join Vessel On Vessel.Id=ItemsLiquidation.VesselId
		 Inner join Products On Products.Id=RequestForServices.ProductId
		 Left join QuantityMT On QuantityMT.Id=RequestForServices.QuantityId
		Left join QuantityMTByProducts On QuantityMTByProducts.ProductId=RequestForServices.ProductId and QuantityMTByProducts.QuantityMTId= QuantityMT.Id
		Inner join Ports as LoadPort On LoadPort.Id=RequestForServices.LoadPortId
		Inner join Ports as DischargePort On DischargePort.Id=RequestForServices.DischargePortId
		Inner Join TerminalByProducts as TerminalByProductLoad On TerminalByProductLoad.ProductId=RequestForServices.ProductId
		Inner join Terminals as LoadTerminal On LoadTerminal.Id=RequestForServices.LoadTerminalId and TerminalByProductLoad.TerminalId=LoadTerminal.Id
		Inner Join TerminalByProducts as TerminalByProductDischarge On TerminalByProductDischarge.ProductId=RequestForServices.ProductId
		Inner join Terminals as DischargeTerminal On DischargeTerminal.Id=RequestForServices.DischargeTerminalId and TerminalByProductDischarge.TerminalId=DischargeTerminal.Id
		Where RequestForServices.Token=@token 
END]]></Value>
			</Property>
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Relationship Name="BodyDependencies">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[varchar]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[int]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[C_Parameter_Get]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[C_Parameter_Get].[@CodeParameter]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[C_Parameter_Get].[@Value]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[ServiceLiquidations]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[RequestForServices]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[RequestForServices].[Id]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[ServiceLiquidations].[RequestForServiceId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[ServiceLiquidations].[Status]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[ServiceLiquidations].[Status]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[DB_ChangeStatusRequest_Save].[@status]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[ServiceLiquidations].[Updated]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[RequestForServices].[Token]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[DB_ChangeStatusRequest_Save].[@token]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[varchar]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[ItemsLiquidation]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[ItemsLiquidation].[ServiceLiquidationId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[ServiceLiquidations].[Id]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Vessel]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Vessel].[Id]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[ItemsLiquidation].[VesselId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Products]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Products].[Id]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[RequestForServices].[ProductId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[QuantityMT]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[QuantityMT].[Id]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[RequestForServices].[QuantityId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[QuantityMTByProducts]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[QuantityMTByProducts].[ProductId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[RequestForServices].[ProductId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[QuantityMTByProducts].[QuantityMTId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[QuantityMT].[Id]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Ports]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Ports].[Id]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[RequestForServices].[LoadPortId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Ports].[Id]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[RequestForServices].[DischargePortId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[TerminalByProducts]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[TerminalByProducts].[ProductId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[RequestForServices].[ProductId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Terminals]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Terminals].[Id]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[RequestForServices].[LoadTerminalId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[TerminalByProducts].[TerminalId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[TerminalByProducts].[ProductId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[RequestForServices].[ProductId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Terminals].[Id]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[RequestForServices].[DischargeTerminalId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[TerminalByProducts].[TerminalId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Vessel].[Owner]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[RequestForServices].[Id]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Products].[Name]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Terminals].[Name]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Terminals].[Name]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[QuantityMT].[Name]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[RequestForServices].[StartLaycan]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[RequestForServices].[EndLaycan]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[GetStatusRequest]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[RequestForServices].[Token]" />
				</Entry>
			</Relationship>
			<Relationship Name="Parameters">
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[DB_ChangeStatusRequest_Save].[@token]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Property Name="IsMax" Value="True" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[varchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[DB_ChangeStatusRequest_Save].[@status]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Property Name="Length" Value="25" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[varchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[DB_ChangeStatusRequest_Save].[@UpdatedId]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="Schema">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<Annotation Type="SysCommentsObjectAnnotation">
				<Property Name="CreateOffset" Value="277" />
				<Property Name="Length" Value="3897" />
				<Property Name="StartLine" Value="1" />
				<Property Name="StartColumn" Value="1" />
				<Property Name="HeaderContents" Value="-- =============================================&#xD;&#xA;-- Author:&#x9;&#x9;&lt;Author,,Name&gt;&#xD;&#xA;-- Create date: &lt;Create Date,,&gt;&#xD;&#xA;-- Description:&#x9;&lt;Description,,&gt;&#xD;&#xA;--DB_ChangeStatusRequest_Save 'a1414bbd-154c-4163-8425-66da87d373b3','REQUEST',51&#xD;&#xA;-- =============================================&#xD;&#xA;CREATE PROCEDURE [dbo].[DB_ChangeStatusRequest_Save]&#xD;&#xA;&#x9;-- Add the parameters for the stored procedure here&#xD;&#xA;&#x9;  @token varchar(max)&#xD;&#xA;&#x9; ,@status varchar(25)&#xD;&#xA;     ,@UpdatedId int&#xD;&#xA;AS" />
			</Annotation>
		</Element>
		<Element Type="SqlProcedure" Name="[dbo].[DB_ChangeStatusRequestVessel_Save]">
			<Property Name="BodyScript">
				<Value><![CDATA[
BEGIN
	-- SET NOCOUNT ON added to prevent extra result sets from
	-- interfering with SELECT statements.
	--------------------------------------------------------------------------------
	-- IMPORTANT: Set this option ON: if do you wants stop and rollback transaction.
	--------------------------------------------------------------------------------
	SET XACT_ABORT ON
	SET NOCOUNT ON;
	Declare @sError varchar(max) ,@IsErrorTecnichal int,@Quantity int, @Price money
	Execute C_Parameter_Get @CodeParameter= 'ERROR_TECNICHAL', @Value= @IsErrorTecnichal OUTPUT
	Begin Try
	Begin Transaction


		Select Top 1  @Quantity=Quantity 
		From ServiceLiquidations
				 Inner Join RequestForServices On RequestForServices.Id=ServiceLiquidations.RequestForServiceId
		Where ServiceLiquidations.Token=@Token

		Select @Price=dbo.GetTotalVessel(ServiceLiquidations.VesselId,ServiceLiquidations.Id)/@Quantity
		From ServiceLiquidations 
		Where Token=@Token



		 Update ServiceLiquidations
		 Set Status=Upper(@Status),
			 Updated=getdate(),
			 PriceMT=@Price,
			 PriceMTNew=(Case When @PriceMT=0 Then @Price else @PriceMT  end)
		From ServiceLiquidations
		Where Token=@Token
	Commit Transaction
	------------------------------------------------------------------------------
	-- send back answer
	------------------------------------------------------------------------------
	-- - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -
	End Try
	Begin Catch
		-- there was an error
		If XACT_STATE() =-1
		Begin
    			Rollback WORK
		End
		If @@trancount >0
		Begin
    			Rollback WORK
		End
		If XACT_STATE() = 1
		Begin
    			Commit WORK
		End
		--Getting the error description
		Set @sError  =   ERROR_MESSAGE()
		if @IsErrorTecnichal=1
		Begin
			Set @sError   =  ERROR_PROCEDURE() + 
					';  ' + convert(varchar,ERROR_LINE()) + 
					'; ' + ERROR_MESSAGE()
		End 
		RaisError (@sError,16,1) 
		Return
	End Catch
END]]></Value>
			</Property>
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Relationship Name="BodyDependencies">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[varchar]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[int]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[int]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[money]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[C_Parameter_Get]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[C_Parameter_Get].[@CodeParameter]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[C_Parameter_Get].[@Value]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[ServiceLiquidations]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[RequestForServices]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[RequestForServices].[Id]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[ServiceLiquidations].[RequestForServiceId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[RequestForServices].[Quantity]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[ServiceLiquidations].[Token]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[DB_ChangeStatusRequestVessel_Save].[@Token]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[GetTotalVessel]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[ServiceLiquidations].[VesselId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[ServiceLiquidations].[Id]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[ServiceLiquidations].[Token]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[ServiceLiquidations].[Status]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[DB_ChangeStatusRequestVessel_Save].[@Status]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[ServiceLiquidations].[Updated]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[ServiceLiquidations].[PriceMT]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[ServiceLiquidations].[PriceMTNew]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[DB_ChangeStatusRequestVessel_Save].[@PriceMT]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[varchar]" />
				</Entry>
			</Relationship>
			<Relationship Name="Parameters">
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[DB_ChangeStatusRequestVessel_Save].[@Token]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Property Name="IsMax" Value="True" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[varchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[DB_ChangeStatusRequestVessel_Save].[@Status]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Property Name="Length" Value="25" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[varchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[DB_ChangeStatusRequestVessel_Save].[@PriceMT]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[money]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[DB_ChangeStatusRequestVessel_Save].[@UpdatedId]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="Schema">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<Annotation Type="SysCommentsObjectAnnotation">
				<Property Name="CreateOffset" Value="197" />
				<Property Name="Length" Value="2404" />
				<Property Name="StartLine" Value="1" />
				<Property Name="StartColumn" Value="1" />
				<Property Name="HeaderContents" Value="-- =============================================&#xD;&#xA;-- Author:&#x9;&#x9;&lt;Author,,Name&gt;&#xD;&#xA;-- Create date: &lt;Create Date,,&gt;&#xD;&#xA;-- Description:&#x9;&lt;Description,,&gt;&#xD;&#xA;-- =============================================&#xD;&#xA; &#xD;&#xA;CREATE PROCEDURE [dbo].[DB_ChangeStatusRequestVessel_Save]&#xD;&#xA;&#x9;-- Add the parameters for the stored procedure here&#xD;&#xA;&#x9;  @Token varchar(max)&#xD;&#xA;&#x9; ,@Status varchar(25)&#xD;&#xA;&#x9; ,@PriceMT money&#xD;&#xA;     ,@UpdatedId int&#xD;&#xA;AS" />
			</Annotation>
		</Element>
		<Element Type="SqlProcedure" Name="[dbo].[DB_Cities_Delete]">
			<Property Name="BodyScript">
				<Value><![CDATA[
Begin

	--------------------------------------------------------------------------------
	Declare  @sError Varchar(Max) ,@IsErrorTecnichal int
	Execute C_Parameter_Get @CodeParameter= 'ERROR_TECNICHAL', @Value= @IsErrorTecnichal OUTPUT
	--------------------------------------------------------------------------------
	-- Activate/Inactivate Record
	--------------------------------------------------------------------------------
	Begin Try
	--------------------------------------------------------------------------------
	-- Validating parameters
	--------------------------------------------------------------------------------
	If Exists (Select top 1 * 
			   From dbo.Terminals
					Inner Join Cities On Cities.CityId=dbo.Terminals.CityId
			   Where dbo.Terminals.Token= @Token)
	Begin
		RaisError('Relationship of row with other table',16,1)
		Return
	End
	--Start The Transaction
	Begin Transaction
			
			Delete From dbo.Cities 
			Where Token= @Token

			-- check for errors
			If @@rowcount= 0 
			Begin 
    			RaisError('SQLDELETE_FAILD',16,1)
			End 

	-- if we reach here, success!
	Commit Transaction
	End Try
	Begin Catch
			-- there was an error
			If XACT_STATE() =-1
			Begin
    				Rollback WORK
			End
			If @@trancount >0
			Begin
    				Rollback WORK
			End
			If XACT_STATE() = 1
			Begin
    				Commit WORK
			End
			--Getting the error description
			Set @sError  =   ERROR_MESSAGE()
			if @IsErrorTecnichal=1
			Begin
				Set @sError  =  ERROR_PROCEDURE() + 
					';  ' + convert(varchar,ERROR_LINE()) + 
					'; ' + ERROR_MESSAGE()
			End 
			--Getting the error description
			RaisError (@sError,16,1) 
			Return  
	End Catch
	--------------------------------------------------------------------------------
	-- Returning a Value
	--------------------------------------------------------------------------------
	Select  1
	-- - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -
End]]></Value>
			</Property>
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Relationship Name="BodyDependencies">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[varchar]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[int]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[C_Parameter_Get]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[C_Parameter_Get].[@CodeParameter]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[C_Parameter_Get].[@Value]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Terminals]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Cities]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Cities].[CityId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Terminals].[CityId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Terminals].[Token]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[DB_Cities_Delete].[@Token]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Cities].[Token]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[varchar]" />
				</Entry>
			</Relationship>
			<Relationship Name="Parameters">
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[DB_Cities_Delete].[@Token]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[uniqueidentifier]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="Schema">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<Annotation Type="SysCommentsObjectAnnotation">
				<Property Name="Length" Value="2101" />
				<Property Name="StartLine" Value="1" />
				<Property Name="StartColumn" Value="1" />
				<Property Name="HeaderContents" Value="CREATE PROCEDURE [dbo].[DB_Cities_Delete]&#xD;&#xA;&#x9;@Token uniqueidentifier&#xD;&#xA;--WITH ENCRYPTION&#xD;&#xA;AS" />
			</Annotation>
		</Element>
		<Element Type="SqlProcedure" Name="[dbo].[DB_Cities_Get]">
			<Property Name="BodyScript">
				<Value><![CDATA[
BEGIN
		------------------------------------------------------------------------------
		-- Declaring tables
		------------------------------------------------------------------------------
		SELECT [Cities].CityId,[Cities].City,[Cities].Token,[Cities].UpdatedId, Cities.Created as Creation,Cities.Updated,Cities.IsActive,
				Countries.CountryId,Countries.Country,Countries.Code,Countries.CodeInternational,Countries.Token,Countries.UpdatedId,Countries.Created as Creation,Countries.Updated
		FROM [dbo].[Cities] 
		Inner Join Countries On Countries.CountryId=cities.CountryId
		Where Cities.Token= @Token
		-- - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -
END]]></Value>
			</Property>
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Relationship Name="BodyDependencies">
				<Entry>
					<References Name="[dbo].[Cities]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Countries]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Countries].[CountryId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Cities].[CountryId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Cities].[CityId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Cities].[City]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Cities].[Token]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Cities].[UpdatedId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Cities].[Created]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Cities].[Updated]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Cities].[IsActive]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Countries].[Country]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Countries].[Code]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Countries].[CodeInternational]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Countries].[Token]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Countries].[UpdatedId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Countries].[Created]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Countries].[Updated]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[DB_Cities_Get].[@Token]" />
				</Entry>
			</Relationship>
			<Relationship Name="Parameters">
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[DB_Cities_Get].[@Token]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[uniqueidentifier]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="Schema">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<Annotation Type="SysCommentsObjectAnnotation">
				<Property Name="Length" Value="790" />
				<Property Name="StartLine" Value="1" />
				<Property Name="StartColumn" Value="1" />
				<Property Name="HeaderContents" Value="CREATE PROCEDURE [dbo].[DB_Cities_Get]&#xD;&#xA;&#x9;@Token uniqueidentifier&#xD;&#xA;--WITH ENCRYPTION&#xD;&#xA;AS" />
			</Annotation>
		</Element>
		<Element Type="SqlProcedure" Name="[dbo].[DB_Cities_List]">
			<Property Name="BodyScript">
				<Value><![CDATA[
Begin
		Select @TotalRecords=count(*) From [Cities]
		;With CTECities as (
				SELECT [Cities].CityId,[Cities].City,[Cities].Token,[Cities].UpdatedId, Cities.Created as Creation,Cities.Updated,Cities.IsActive,
						Countries.CountryId,Countries.Country,Countries.Code,Countries.CodeInternational,Countries.Token as TokenCountry,Countries.UpdatedId as UpdatedIdCountry,
						Countries.Created  as CreationCountry,Countries.Updated as UpdatedCountry
				FROM [dbo].[Cities] 
				Inner Join Countries On Countries.CountryId=[Cities].CountryId
				Where (@Id=0 or Countries.CountryId=@Id)
				ORDER BY CURRENT_TIMESTAMP OFFSET (@PageIndex-1)*@PageSize ROWS FETCH FIRST @PageSize ROWS ONLY
		)
		Select *
		From CTECities
		Order By City asc
End]]></Value>
			</Property>
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Relationship Name="BodyDependencies">
				<Entry>
					<References Name="[dbo].[Cities]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[DB_Cities_List].[@TotalRecords]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Countries]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Countries].[CountryId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Cities].[CountryId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Cities].[CityId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Cities].[City]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Cities].[Token]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Cities].[UpdatedId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Cities].[Created]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Cities].[Updated]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Cities].[IsActive]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Countries].[Country]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Countries].[Code]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Countries].[CodeInternational]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Countries].[Token]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Countries].[UpdatedId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Countries].[Created]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Countries].[Updated]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[DB_Cities_List].[@Id]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[DB_Cities_List].[@PageIndex]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[DB_Cities_List].[@PageSize]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Cities].[City]" />
				</Entry>
			</Relationship>
			<Relationship Name="DynamicObjects">
				<Entry>
					<Element Type="SqlDynamicColumnSource" Name="[dbo].[DB_Cities_List].[CTE1].[CTECities]">
						<Relationship Name="Columns">
							<Entry>
								<Element Type="SqlComputedColumn" Name="[dbo].[DB_Cities_List].[CTE1].[CTECities].[CityId]">
									<Relationship Name="ExpressionDependencies">
										<Entry>
											<References Name="[dbo].[Cities].[CityId]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
							<Entry>
								<Element Type="SqlComputedColumn" Name="[dbo].[DB_Cities_List].[CTE1].[CTECities].[City]">
									<Relationship Name="ExpressionDependencies">
										<Entry>
											<References Name="[dbo].[Cities].[City]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
							<Entry>
								<Element Type="SqlComputedColumn" Name="[dbo].[DB_Cities_List].[CTE1].[CTECities].[Token]">
									<Relationship Name="ExpressionDependencies">
										<Entry>
											<References Name="[dbo].[Cities].[Token]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
							<Entry>
								<Element Type="SqlComputedColumn" Name="[dbo].[DB_Cities_List].[CTE1].[CTECities].[UpdatedId]">
									<Relationship Name="ExpressionDependencies">
										<Entry>
											<References Name="[dbo].[Cities].[UpdatedId]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
							<Entry>
								<Element Type="SqlComputedColumn" Name="[dbo].[DB_Cities_List].[CTE1].[CTECities].[Creation]">
									<Relationship Name="ExpressionDependencies">
										<Entry>
											<References Name="[dbo].[Cities].[Created]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
							<Entry>
								<Element Type="SqlComputedColumn" Name="[dbo].[DB_Cities_List].[CTE1].[CTECities].[Updated]">
									<Relationship Name="ExpressionDependencies">
										<Entry>
											<References Name="[dbo].[Cities].[Updated]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
							<Entry>
								<Element Type="SqlComputedColumn" Name="[dbo].[DB_Cities_List].[CTE1].[CTECities].[IsActive]">
									<Relationship Name="ExpressionDependencies">
										<Entry>
											<References Name="[dbo].[Cities].[IsActive]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
							<Entry>
								<Element Type="SqlComputedColumn" Name="[dbo].[DB_Cities_List].[CTE1].[CTECities].[CountryId]">
									<Relationship Name="ExpressionDependencies">
										<Entry>
											<References Name="[dbo].[Countries].[CountryId]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
							<Entry>
								<Element Type="SqlComputedColumn" Name="[dbo].[DB_Cities_List].[CTE1].[CTECities].[Country]">
									<Relationship Name="ExpressionDependencies">
										<Entry>
											<References Name="[dbo].[Countries].[Country]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
							<Entry>
								<Element Type="SqlComputedColumn" Name="[dbo].[DB_Cities_List].[CTE1].[CTECities].[Code]">
									<Relationship Name="ExpressionDependencies">
										<Entry>
											<References Name="[dbo].[Countries].[Code]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
							<Entry>
								<Element Type="SqlComputedColumn" Name="[dbo].[DB_Cities_List].[CTE1].[CTECities].[CodeInternational]">
									<Relationship Name="ExpressionDependencies">
										<Entry>
											<References Name="[dbo].[Countries].[CodeInternational]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
							<Entry>
								<Element Type="SqlComputedColumn" Name="[dbo].[DB_Cities_List].[CTE1].[CTECities].[TokenCountry]">
									<Relationship Name="ExpressionDependencies">
										<Entry>
											<References Name="[dbo].[Countries].[Token]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
							<Entry>
								<Element Type="SqlComputedColumn" Name="[dbo].[DB_Cities_List].[CTE1].[CTECities].[UpdatedIdCountry]">
									<Relationship Name="ExpressionDependencies">
										<Entry>
											<References Name="[dbo].[Countries].[UpdatedId]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
							<Entry>
								<Element Type="SqlComputedColumn" Name="[dbo].[DB_Cities_List].[CTE1].[CTECities].[CreationCountry]">
									<Relationship Name="ExpressionDependencies">
										<Entry>
											<References Name="[dbo].[Countries].[Created]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
							<Entry>
								<Element Type="SqlComputedColumn" Name="[dbo].[DB_Cities_List].[CTE1].[CTECities].[UpdatedCountry]">
									<Relationship Name="ExpressionDependencies">
										<Entry>
											<References Name="[dbo].[Countries].[Updated]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="Parameters">
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[DB_Cities_List].[@PageIndex]">
						<Property Name="DefaultExpressionScript">
							<Value><![CDATA[1]]></Value>
						</Property>
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[DB_Cities_List].[@PageSize]">
						<Property Name="DefaultExpressionScript">
							<Value><![CDATA[10]]></Value>
						</Property>
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[DB_Cities_List].[@TotalRecords]">
						<Property Name="IsOutput" Value="True" />
						<Property Name="DefaultExpressionScript">
							<Value><![CDATA[0]]></Value>
						</Property>
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[DB_Cities_List].[@Id]">
						<Property Name="DefaultExpressionScript">
							<Value><![CDATA[0]]></Value>
						</Property>
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="Schema">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<Annotation Type="SysCommentsObjectAnnotation">
				<Property Name="Length" Value="914" />
				<Property Name="StartLine" Value="1" />
				<Property Name="StartColumn" Value="1" />
				<Property Name="HeaderContents" Value="CREATE PROCEDURE [dbo].[DB_Cities_List]&#xD;&#xA;&#x9;@PageIndex [int] = 1,&#xD;&#xA;&#x9;@PageSize [int] = 10,&#xD;&#xA;&#x9;@TotalRecords [int] = 0 OUTPUT,&#xD;&#xA;&#x9;@Id int=0&#xD;&#xA;--WITH ENCRYPTION&#xD;&#xA;AS" />
			</Annotation>
		</Element>
		<Element Type="SqlProcedure" Name="[dbo].[DB_Cities_Save]">
			<Property Name="BodyScript">
				<Value><![CDATA[
Begin
	--------------------------------------------------------------------------------
	-- IMPORTANT: Set this option ON: if do you wants stop and rollback transaction.
	--------------------------------------------------------------------------------
	SET XACT_ABORT ON
	--------------------------------------------------------------------------------
	-- Declaration of Variables
	--------------------------------------------------------------------------------
	Declare  @sError Varchar(Max) ,@IsErrorTecnichal int
	Execute C_Parameter_Get @CodeParameter= 'ERROR_TECNICHAL', @Value= @IsErrorTecnichal OUTPUT
	-- - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -
	Begin Try
	IF Exists(Select Top 1 * From dbo.Cities Where Token<>@Token and City=@City)
	Begin
		RaisError('The duplicate key value is %s.',16,1,@City)  
		return
	End
	--------------------------------------------------------------------------------
	-- Insert or Update Record
	--------------------------------------------------------------------------------
	Begin Transaction
	IF Not Exists(Select Top 1 * From dbo.Cities Where Token=@Token)
	Begin
		Insert Into dbo.Cities(City,CountryId,Created,IsActive,UpdatedId,Updated)
		Values (@City,@CountryId,  GETDATE(),@IsActive	,@UpdatedId,GetDate())
	End
	Else
	Begin
	
		Update dbo.Cities
		Set	City = @City,
			CountryId = @CountryId,
			IsActive = @IsActive,
			UpdatedId= @UpdatedId,
			Updated = GetDate()
		Where Token =  @Token
		If @@rowcount= 0
		Begin
			RaisError('SQLUPDATE_FAILD',16,1)  
		End
	End
	Commit Transaction
	End Try
	Begin Catch
		-- there was an error
		If XACT_STATE() =-1
		Begin
			Rollback WORK
		End
		If @@trancount >0
		Begin
			Rollback WORK
		End
		If XACT_STATE() = 1
		Begin
			Commit WORK
		End
		--Getting the error description
		Set @sError  =  ERROR_MESSAGE()
		if @IsErrorTecnichal=1
		Begin
			Set @sError  =  ERROR_PROCEDURE() + 
					';  ' + convert(varchar,ERROR_LINE()) + 
					'; ' + ERROR_MESSAGE()
		End 
		RaisError(@sError,16,1)  
		Return  
	End Catch
	--------------------------------------------------------------------------------
	-- Returning a Primary Key Value
	--------------------------------------------------------------------------------
	-- - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -
End]]></Value>
			</Property>
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Relationship Name="BodyDependencies">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[varchar]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[int]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[C_Parameter_Get]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[C_Parameter_Get].[@CodeParameter]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[C_Parameter_Get].[@Value]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Cities]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Cities].[Token]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[DB_Cities_Save].[@Token]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Cities].[City]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[DB_Cities_Save].[@City]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Cities].[City]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Cities].[CountryId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Cities].[Created]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Cities].[IsActive]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Cities].[UpdatedId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Cities].[Updated]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[DB_Cities_Save].[@CountryId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[DB_Cities_Save].[@IsActive]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[DB_Cities_Save].[@UpdatedId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Cities].[Token]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[varchar]" />
				</Entry>
			</Relationship>
			<Relationship Name="Parameters">
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[DB_Cities_Save].[@Token]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[uniqueidentifier]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[DB_Cities_Save].[@CountryId]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[DB_Cities_Save].[@IsActive]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[DB_Cities_Save].[@City]">
						<Property Name="DefaultExpressionScript">
							<Value><![CDATA[Null]]></Value>
						</Property>
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Property Name="Length" Value="255" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[varchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[DB_Cities_Save].[@UpdatedId]">
						<Property Name="DefaultExpressionScript">
							<Value><![CDATA[Null]]></Value>
						</Property>
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="Schema">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<Annotation Type="SysCommentsObjectAnnotation">
				<Property Name="Length" Value="2591" />
				<Property Name="StartLine" Value="1" />
				<Property Name="StartColumn" Value="1" />
				<Property Name="HeaderContents" Value="CREATE PROCEDURE [dbo].[DB_Cities_Save]&#xD;&#xA;&#x9;@Token uniqueidentifier,&#xD;&#xA;&#x9;@CountryId [int],&#xD;&#xA;&#x9;@IsActive [int],&#xD;&#xA;&#x9;@City [varchar](255) = Null,&#xD;&#xA;&#x9;@UpdatedId [int] = Null&#xD;&#xA;--WITH ENCRYPTION&#xD;&#xA;AS" />
			</Annotation>
		</Element>
		<Element Type="SqlProcedure" Name="[dbo].[DB_Cities_StatusUpdate]">
			<Property Name="BodyScript">
				<Value><![CDATA[
BEGIN
		/*------------------------------------------------------------------------------
		-- getting xml main list only range: records_[begin,end], setting record status.
		------------------------------------------------------------------------------*/
		Declare @sError Varchar(Max) ,@IsErrorTecnichal int
		Execute C_Parameter_Get @CodeParameter= 'ERROR_TECNICHAL', @Value= @IsErrorTecnichal OUTPUT
		Begin Try
		Begin Transaction
			Update Cities 
				SET Updated=getdate(),
					IsActive=@IsActive
			where Token=@Token
		Commit Transaction
	------------------------------------------------------------------------------
	-- send back answer
	------------------------------------------------------------------------------
	-- - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -
	End Try
	Begin Catch
		-- there was an error
		If XACT_STATE() =-1
		Begin
    			Rollback WORK
		End
		If @@trancount >0
		Begin
    			Rollback WORK
		End
		If XACT_STATE() = 1
		Begin
    			Commit WORK
		End
		--Getting the error description
		Set @sError  =   ERROR_MESSAGE()
		if @IsErrorTecnichal=1
		Begin
			Set @sError  =  ERROR_PROCEDURE() + 
					';  ' + convert(varchar,ERROR_LINE()) + 
					'; ' + ERROR_MESSAGE()
		End 
		RaisError (@sError,16,1)   
		Return
	End Catch
END]]></Value>
			</Property>
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Relationship Name="BodyDependencies">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[varchar]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[int]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[C_Parameter_Get]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[C_Parameter_Get].[@CodeParameter]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[C_Parameter_Get].[@Value]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Cities]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Cities].[Updated]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Cities].[IsActive]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[DB_Cities_StatusUpdate].[@IsActive]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Cities].[Token]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[DB_Cities_StatusUpdate].[@Token]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[varchar]" />
				</Entry>
			</Relationship>
			<Relationship Name="Parameters">
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[DB_Cities_StatusUpdate].[@UpdatedId]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[DB_Cities_StatusUpdate].[@Token]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[uniqueidentifier]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[DB_Cities_StatusUpdate].[@IsActive]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="Schema">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<Annotation Type="SysCommentsObjectAnnotation">
				<Property Name="Length" Value="1475" />
				<Property Name="StartLine" Value="1" />
				<Property Name="StartColumn" Value="1" />
				<Property Name="HeaderContents" Value="CREATE PROCEDURE [dbo].[DB_Cities_StatusUpdate]&#xD;&#xA;&#x9;@UpdatedId [int],&#xD;&#xA;&#x9;@Token uniqueidentifier,&#xD;&#xA;&#x9;@IsActive int&#xD;&#xA;--WITH ENCRYPTION&#xD;&#xA;AS" />
			</Annotation>
		</Element>
		<Element Type="SqlProcedure" Name="[dbo].[DB_Clauses_Delete]">
			<Property Name="BodyScript">
				<Value><![CDATA[
Begin

	--------------------------------------------------------------------------------
	Declare  @sError Varchar(Max) ,@IsErrorTecnichal int
	Execute C_Parameter_Get @CodeParameter= 'ERROR_TECNICHAL', @Value= @IsErrorTecnichal OUTPUT
	--------------------------------------------------------------------------------
	-- Validating parameters
	--------------------------------------------------------------------------------
	--------------------------------------------------------------------------------
	-- Activate/Inactivate Record
	--------------------------------------------------------------------------------
	Begin Try
	If Exists (Select top 1 * 
			   From dbo.ContractClauses
					Inner Join Clauses On Clauses.Id=dbo.ContractClauses.ClauseId
			   Where dbo.Clauses.Token= @Token)
	Begin
		RaisError('Relationship of row with other table',16,1)
		Return
	End
	Begin Transaction
			
			Delete From dbo.Clauses 
			Where Token= @Token

			-- check for errors
			If @@rowcount= 0 
			Begin 
    			RaisError('SQLDELETE_FAILD',16,1)
			End 

	-- if we reach here, success!
	Commit Transaction
	End Try
	Begin Catch
			-- there was an error
			If XACT_STATE() =-1
			Begin
    				Rollback WORK
			End
			If @@trancount >0
			Begin
    				Rollback WORK
			End
			If XACT_STATE() = 1
			Begin
    				Commit WORK
			End
			--Getting the error description
			Set @sError  =   ERROR_MESSAGE()
			if @IsErrorTecnichal=1
			Begin
				Set @sError  =  ERROR_PROCEDURE() + 
					';  ' + convert(varchar,ERROR_LINE()) + 
					'; ' + ERROR_MESSAGE()
			End 
			--Getting the error description
			RaisError (@sError,16,1) 
			Return  
	End Catch
	--------------------------------------------------------------------------------
	-- Returning a Value
	--------------------------------------------------------------------------------
	Select  1
	-- - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -
End]]></Value>
			</Property>
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Relationship Name="BodyDependencies">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[varchar]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[int]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[C_Parameter_Get]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[C_Parameter_Get].[@CodeParameter]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[C_Parameter_Get].[@Value]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[ContractClauses]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Clauses]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Clauses].[Id]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[ContractClauses].[ClauseId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Clauses].[Token]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[DB_Clauses_Delete].[@Token]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Clauses].[Token]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[varchar]" />
				</Entry>
			</Relationship>
			<Relationship Name="Parameters">
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[DB_Clauses_Delete].[@Token]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[uniqueidentifier]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="Schema">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<Annotation Type="SysCommentsObjectAnnotation">
				<Property Name="Length" Value="2087" />
				<Property Name="StartLine" Value="1" />
				<Property Name="StartColumn" Value="1" />
				<Property Name="HeaderContents" Value="CREATE PROCEDURE [dbo].[DB_Clauses_Delete]&#xD;&#xA;&#x9;@Token uniqueidentifier&#xD;&#xA;--WITH ENCRYPTION&#xD;&#xA;AS" />
			</Annotation>
		</Element>
		<Element Type="SqlProcedure" Name="[dbo].[DB_Clauses_Get]">
			<Property Name="BodyScript">
				<Value><![CDATA[
BEGIN
		------------------------------------------------------------------------------
		-- Declaring tables
		------------------------------------------------------------------------------
		SELECT Clauses.*
		FROM Clauses
		Where Clauses.Token= @Token
		-- - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -
END]]></Value>
			</Property>
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Relationship Name="BodyDependencies">
				<Entry>
					<References Name="[dbo].[Clauses]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Clauses].[Token]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[DB_Clauses_Get].[@Token]" />
				</Entry>
			</Relationship>
			<Relationship Name="Parameters">
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[DB_Clauses_Get].[@Token]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[uniqueidentifier]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="Schema">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<Annotation Type="SysCommentsObjectAnnotation">
				<Property Name="Length" Value="436" />
				<Property Name="StartLine" Value="1" />
				<Property Name="StartColumn" Value="1" />
				<Property Name="HeaderContents" Value="Create PROCEDURE [dbo].[DB_Clauses_Get]&#xD;&#xA;&#x9;@Token uniqueidentifier&#xD;&#xA;--WITH ENCRYPTION&#xD;&#xA;AS" />
			</Annotation>
		</Element>
		<Element Type="SqlProcedure" Name="[dbo].[DB_Clauses_List]">
			<Property Name="BodyScript">
				<Value><![CDATA[
		/*------------------------------------------------------------------------------
		-- getting xml main list only range: records_[begin,end], setting record status.
		--------------------------------------------------------------------------------*/
		Select @TotalRecords=count(*) From Clauses
		------------------------------------------------------------------------------
		-- getting user list
		------------------------------------------------------------------------------		
		if(@isActive=1)
		Begin			
			;With CteByContract as (
					Select ClauseId, ContractId, 1 as IsSelected
					From ContractClauses
						 Inner Join Contract On Contract.Token=@ContractToken and ContractClauses.ContractId=Contract.Id
			)
			SELECT Clauses.*,IsNull(CteByContract.IsSelected,0)  as IsSelected
			FROM dbo.Clauses
			Left Join CteByContract on CteByContract.ClauseId=Clauses.Id
			ORDER BY Name asc
		End
		Else
		Begin
			SELECT *
			FROM dbo.Clauses
			ORDER BY Name asc, CURRENT_TIMESTAMP OFFSET (@PageIndex-1)*@PageSize ROWS FETCH FIRST @PageSize ROWS ONLY
		End
		/*-- - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -*/]]></Value>
			</Property>
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Relationship Name="BodyDependencies">
				<Entry>
					<References Name="[dbo].[Clauses]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[DB_Clauses_List].[@TotalRecords]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[DB_Clauses_List].[@isActive]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[ContractClauses]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Contract]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Contract].[Token]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[DB_Clauses_List].[@ContractToken]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[ContractClauses].[ContractId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Contract].[Id]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[ContractClauses].[ClauseId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[ContractClauses].[ContractId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[ContractClauses].[ClauseId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Clauses].[Id]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Clauses].[Name]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[DB_Clauses_List].[@PageIndex]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[DB_Clauses_List].[@PageSize]" />
				</Entry>
			</Relationship>
			<Relationship Name="DynamicObjects">
				<Entry>
					<Element Type="SqlDynamicColumnSource" Name="[dbo].[DB_Clauses_List].[CTE1].[CteByContract]">
						<Relationship Name="Columns">
							<Entry>
								<Element Type="SqlComputedColumn" Name="[dbo].[DB_Clauses_List].[CTE1].[CteByContract].[ClauseId]">
									<Relationship Name="ExpressionDependencies">
										<Entry>
											<References Name="[dbo].[ContractClauses].[ClauseId]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
							<Entry>
								<Element Type="SqlComputedColumn" Name="[dbo].[DB_Clauses_List].[CTE1].[CteByContract].[ContractId]">
									<Relationship Name="ExpressionDependencies">
										<Entry>
											<References Name="[dbo].[ContractClauses].[ContractId]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
							<Entry>
								<Element Type="SqlComputedColumn" Name="[dbo].[DB_Clauses_List].[CTE1].[CteByContract].[IsSelected]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="Parameters">
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[DB_Clauses_List].[@PageIndex]">
						<Property Name="DefaultExpressionScript">
							<Value><![CDATA[1]]></Value>
						</Property>
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[DB_Clauses_List].[@PageSize]">
						<Property Name="DefaultExpressionScript">
							<Value><![CDATA[10]]></Value>
						</Property>
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[DB_Clauses_List].[@TotalRecords]">
						<Property Name="IsOutput" Value="True" />
						<Property Name="DefaultExpressionScript">
							<Value><![CDATA[0]]></Value>
						</Property>
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[DB_Clauses_List].[@isActive]">
						<Property Name="DefaultExpressionScript">
							<Value><![CDATA[-1]]></Value>
						</Property>
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[DB_Clauses_List].[@ContractToken]">
						<Property Name="DefaultExpressionScript">
							<Value><![CDATA[null]]></Value>
						</Property>
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[uniqueidentifier]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="Schema">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<Annotation Type="SysCommentsObjectAnnotation">
				<Property Name="Length" Value="1364" />
				<Property Name="StartLine" Value="1" />
				<Property Name="StartColumn" Value="1" />
				<Property Name="HeaderContents" Value="CREATE PROCEDURE [dbo].[DB_Clauses_List]&#xD;&#xA;&#x9;@PageIndex [int] = 1,&#xD;&#xA;&#x9;@PageSize [int] = 10,&#xD;&#xA;&#x9;@TotalRecords [int] = 0 OUTPUT,&#xD;&#xA;&#x9;@isActive int=-1,&#xD;&#xA;&#x9;@ContractToken uniqueidentifier= null&#xD;&#xA;AS" />
			</Annotation>
		</Element>
		<Element Type="SqlProcedure" Name="[dbo].[DB_Clauses_Save]">
			<Property Name="BodyScript">
				<Value><![CDATA[
Begin
	--------------------------------------------------------------------------------
	-- IMPORTANT: Set this option ON: if do you wants stop and rollback transaction.
	--------------------------------------------------------------------------------
	SET XACT_ABORT ON
	--------------------------------------------------------------------------------
	-- Declaration of Variables
	--------------------------------------------------------------------------------
	Declare  @sError Varchar(Max) ,@IsErrorTecnichal int, @Id int
	Execute C_Parameter_Get @CodeParameter= 'ERROR_TECNICHAL', @Value= @IsErrorTecnichal OUTPUT
	-- - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -
	Begin Try
	--------------------------------------------------------------------------------
	-- Insert or Update Record
	--------------------------------------------------------------------------------
	Begin Transaction
	IF Not Exists(Select Top 1 * From dbo.Clauses Where Token=@Token)
	Begin
		INSERT INTO [dbo].[Clauses]
					([Code]
					,[Name]
					,[IsModify]
					,[IsActive]
					,[UpdatedId])
				VALUES
					(@Code
					,@Name
					,@IsModify
					,@IsActive
					,@UpdatedId)

		Set @Id=SCOPE_IDENTITY()
	End
	Else
	Begin
		UPDATE [dbo].[Clauses]
		   SET [Code] = @Code
			  ,[Name] =  @Name
			  ,[IsModify] =  @IsModify
			  ,[IsActive] =  @IsActive
			  ,[Updated] =  getdate()
			  ,[UpdatedId] =  @UpdatedId
		 WHERE Token=@Token
		If @@rowcount= 0
		Begin
			RaisError('SQLUPDATE_FAILD',16,1)  
		End
	End
	Commit Transaction
	End Try
	Begin Catch
		-- there was an error
		If XACT_STATE() =-1
		Begin
			Rollback WORK
		End
		If @@trancount >0
		Begin
			Rollback WORK
		End
		If XACT_STATE() = 1
		Begin
			Commit WORK
		End
		--Getting the error description
		Set @sError  =  ERROR_MESSAGE()
		if @IsErrorTecnichal=1
		Begin
			Set @sError  =  ERROR_PROCEDURE() + 
					';  ' + convert(varchar,ERROR_LINE()) + 
					'; ' + ERROR_MESSAGE()
		End 
		RaisError(@sError,16,1)  
		Return  
	End Catch
	--------------------------------------------------------------------------------
	-- Returning a Primary Key Value
	--------------------------------------------------------------------------------
	-- - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -
End]]></Value>
			</Property>
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Relationship Name="BodyDependencies">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[varchar]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[int]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[int]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[C_Parameter_Get]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[C_Parameter_Get].[@CodeParameter]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[C_Parameter_Get].[@Value]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Clauses]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Clauses].[Token]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[DB_Clauses_Save].[@Token]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Clauses].[Code]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Clauses].[Name]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Clauses].[IsModify]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Clauses].[IsActive]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Clauses].[UpdatedId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[DB_Clauses_Save].[@Code]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[DB_Clauses_Save].[@Name]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[DB_Clauses_Save].[@IsModify]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[DB_Clauses_Save].[@IsActive]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[DB_Clauses_Save].[@UpdatedId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Clauses].[Updated]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Clauses].[Token]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[varchar]" />
				</Entry>
			</Relationship>
			<Relationship Name="Parameters">
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[DB_Clauses_Save].[@Token]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[uniqueidentifier]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[DB_Clauses_Save].[@Name]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Property Name="IsMax" Value="True" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[varchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[DB_Clauses_Save].[@Code]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Property Name="Length" Value="50" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[varchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[DB_Clauses_Save].[@IsModify]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[bit]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[DB_Clauses_Save].[@IsActive]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[bit]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[DB_Clauses_Save].[@UpdatedId]">
						<Property Name="DefaultExpressionScript">
							<Value><![CDATA[Null]]></Value>
						</Property>
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="Schema">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<Annotation Type="SysCommentsObjectAnnotation">
				<Property Name="Length" Value="2564" />
				<Property Name="StartLine" Value="1" />
				<Property Name="StartColumn" Value="1" />
				<Property Name="HeaderContents" Value="Create PROCEDURE [dbo].[DB_Clauses_Save]&#xD;&#xA;&#x9; @Token uniqueidentifier&#xD;&#xA;&#x9;,@Name varchar(max)&#xD;&#xA;&#x9;,@Code varchar(50) &#xD;&#xA;&#x9;,@IsModify bit &#xD;&#xA;&#x9;,@IsActive bit &#xD;&#xA;&#x9;,@UpdatedId [int] = Null&#xD;&#xA;AS" />
			</Annotation>
		</Element>
		<Element Type="SqlProcedure" Name="[dbo].[DB_Clauses_StatusUpdate]">
			<Property Name="BodyScript">
				<Value><![CDATA[
BEGIN
		/*------------------------------------------------------------------------------
		-- getting xml main list only range: records_[begin,end], setting record status.
		------------------------------------------------------------------------------*/
		Declare @sError Varchar(Max) ,@IsErrorTecnichal int
		Execute C_Parameter_Get @CodeParameter= 'ERROR_TECNICHAL', @Value= @IsErrorTecnichal OUTPUT
		Begin Try
		Begin Transaction
			Update Clauses 
			SET Updated=getdate(),
				IsActive=@IsActive
			where Token=@Token
		Commit Transaction
	------------------------------------------------------------------------------
	-- send back answer
	------------------------------------------------------------------------------
	-- - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -
	End Try
	Begin Catch
		-- there was an error
		If XACT_STATE() =-1
		Begin
    			Rollback WORK
		End
		If @@trancount >0
		Begin
    			Rollback WORK
		End
		If XACT_STATE() = 1
		Begin
    			Commit WORK
		End
		--Getting the error description
		Set @sError  =   ERROR_MESSAGE()
		if @IsErrorTecnichal=1
		Begin
			Set @sError  =  ERROR_PROCEDURE() + 
					';  ' + convert(varchar,ERROR_LINE()) + 
					'; ' + ERROR_MESSAGE()
		End 
		RaisError (@sError,16,1)   
		Return
	End Catch
END]]></Value>
			</Property>
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Relationship Name="BodyDependencies">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[varchar]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[int]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[C_Parameter_Get]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[C_Parameter_Get].[@CodeParameter]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[C_Parameter_Get].[@Value]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Clauses]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Clauses].[Updated]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Clauses].[IsActive]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[DB_Clauses_StatusUpdate].[@IsActive]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Clauses].[Token]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[DB_Clauses_StatusUpdate].[@Token]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[varchar]" />
				</Entry>
			</Relationship>
			<Relationship Name="Parameters">
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[DB_Clauses_StatusUpdate].[@UpdatedId]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[DB_Clauses_StatusUpdate].[@Token]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[uniqueidentifier]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[DB_Clauses_StatusUpdate].[@IsActive]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="Schema">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<Annotation Type="SysCommentsObjectAnnotation">
				<Property Name="CreateOffset" Value="3" />
				<Property Name="Length" Value="1478" />
				<Property Name="StartLine" Value="1" />
				<Property Name="StartColumn" Value="1" />
				<Property Name="HeaderContents" Value=" &#xD;&#xA;Create PROCEDURE [dbo].[DB_Clauses_StatusUpdate]&#xD;&#xA;&#x9;@UpdatedId [int],&#xD;&#xA;&#x9;@Token uniqueidentifier,&#xD;&#xA;&#x9;@IsActive int&#xD;&#xA;--WITH ENCRYPTION&#xD;&#xA;AS" />
			</Annotation>
		</Element>
		<Element Type="SqlProcedure" Name="[dbo].[DB_Condition_Delete]">
			<Property Name="BodyScript">
				<Value><![CDATA[
Begin

	--------------------------------------------------------------------------------
	Declare  @sError Varchar(Max) ,@IsErrorTecnichal int
	Execute C_Parameter_Get @CodeParameter= 'ERROR_TECNICHAL', @Value= @IsErrorTecnichal OUTPUT
	--------------------------------------------------------------------------------
	-- Validating parameters
	--------------------------------------------------------------------------------
	--------------------------------------------------------------------------------
	-- Activate/Inactivate Record
	--------------------------------------------------------------------------------
	Begin Try
	If Exists (Select top 1 * 
			   From dbo.Terminals
					Inner Join Conditions On Conditions.Id=dbo.Terminals.ConditionId
			   Where dbo.Conditions.Token= @Token)
	Begin
		RaisError('Relationship of row with other table',16,1)
		Return
	End
	Begin Transaction
			
			Delete From dbo.Conditions 
			Where Token= @Token

			-- check for errors
			If @@rowcount= 0 
			Begin 
    			RaisError('SQLDELETE_FAILD',16,1)
			End 

	-- if we reach here, success!
	Commit Transaction
	End Try
	Begin Catch
			-- there was an error
			If XACT_STATE() =-1
			Begin
    				Rollback WORK
			End
			If @@trancount >0
			Begin
    				Rollback WORK
			End
			If XACT_STATE() = 1
			Begin
    				Commit WORK
			End
			--Getting the error description
			Set @sError  =   ERROR_MESSAGE()
			if @IsErrorTecnichal=1
			Begin
				Set @sError  =  ERROR_PROCEDURE() + 
					';  ' + convert(varchar,ERROR_LINE()) + 
					'; ' + ERROR_MESSAGE()
			End 
			--Getting the error description
			RaisError (@sError,16,1) 
			Return  
	End Catch
	--------------------------------------------------------------------------------
	-- Returning a Value
	--------------------------------------------------------------------------------
	Select  1
	-- - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -
End]]></Value>
			</Property>
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Relationship Name="BodyDependencies">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[varchar]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[int]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[C_Parameter_Get]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[C_Parameter_Get].[@CodeParameter]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[C_Parameter_Get].[@Value]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Terminals]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Conditions]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Conditions].[Id]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Terminals].[ConditionId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Conditions].[Token]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[DB_Condition_Delete].[@Token]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Conditions].[Token]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[varchar]" />
				</Entry>
			</Relationship>
			<Relationship Name="Parameters">
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[DB_Condition_Delete].[@Token]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[uniqueidentifier]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="Schema">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<Annotation Type="SysCommentsObjectAnnotation">
				<Property Name="Length" Value="2092" />
				<Property Name="StartLine" Value="1" />
				<Property Name="StartColumn" Value="1" />
				<Property Name="HeaderContents" Value="CREATE PROCEDURE [dbo].[DB_Condition_Delete]&#xD;&#xA;&#x9;@Token uniqueidentifier&#xD;&#xA;--WITH ENCRYPTION&#xD;&#xA;AS" />
			</Annotation>
		</Element>
		<Element Type="SqlProcedure" Name="[dbo].[DB_Condition_Get]">
			<Property Name="BodyScript">
				<Value><![CDATA[
BEGIN
		------------------------------------------------------------------------------
		-- Declaring tables
		------------------------------------------------------------------------------
		SELECT *
		FROM Conditions
		Where Token= @Token
		-- - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -
END]]></Value>
			</Property>
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Relationship Name="BodyDependencies">
				<Entry>
					<References Name="[dbo].[Conditions]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Conditions].[Token]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[DB_Condition_Get].[@Token]" />
				</Entry>
			</Relationship>
			<Relationship Name="Parameters">
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[DB_Condition_Get].[@Token]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[uniqueidentifier]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="Schema">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<Annotation Type="SysCommentsObjectAnnotation">
				<Property Name="Length" Value="417" />
				<Property Name="StartLine" Value="1" />
				<Property Name="StartColumn" Value="1" />
				<Property Name="HeaderContents" Value="Create PROCEDURE DB_Condition_Get&#xD;&#xA;&#x9;@Token uniqueidentifier&#xD;&#xA;--WITH ENCRYPTION&#xD;&#xA;AS" />
			</Annotation>
		</Element>
		<Element Type="SqlProcedure" Name="[dbo].[DB_Condition_List]">
			<Property Name="BodyScript">
				<Value><![CDATA[

	/*------------------------------------------------------------------------------
		-- getting xml main list only range: records_[begin,end], setting record status.
		--------------------------------------------------------------------------------*/
		Select @TotalRecords=count(*) From Conditions
		------------------------------------------------------------------------------
		-- getting user list
		------------------------------------------------------------------------------						   
		Select *
		From Conditions
		Where  (Conditions.Name like '%'+ @Filter  +'%' or Isnull(@Filter,'')='') 
		ORDER BY CURRENT_TIMESTAMP OFFSET (@PageIndex-1)*@PageSize ROWS FETCH FIRST @PageSize ROWS ONLY
		/*-- - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -*/]]></Value>
			</Property>
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Relationship Name="BodyDependencies">
				<Entry>
					<References Name="[dbo].[Conditions]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[DB_Condition_List].[@TotalRecords]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Conditions].[Name]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[DB_Condition_List].[@Filter]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[DB_Condition_List].[@PageIndex]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[DB_Condition_List].[@PageSize]" />
				</Entry>
			</Relationship>
			<Relationship Name="Parameters">
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[DB_Condition_List].[@PageIndex]">
						<Property Name="DefaultExpressionScript">
							<Value><![CDATA[1]]></Value>
						</Property>
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[DB_Condition_List].[@PageSize]">
						<Property Name="DefaultExpressionScript">
							<Value><![CDATA[10]]></Value>
						</Property>
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[DB_Condition_List].[@TotalRecords]">
						<Property Name="IsOutput" Value="True" />
						<Property Name="DefaultExpressionScript">
							<Value><![CDATA[0]]></Value>
						</Property>
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[DB_Condition_List].[@Filter]">
						<Property Name="DefaultExpressionScript">
							<Value><![CDATA['']]></Value>
						</Property>
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Property Name="Length" Value="200" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[varchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="Schema">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<Annotation Type="SysCommentsObjectAnnotation">
				<Property Name="Length" Value="969" />
				<Property Name="StartLine" Value="1" />
				<Property Name="StartColumn" Value="1" />
				<Property Name="HeaderContents" Value="Create PROCEDURE [dbo].[DB_Condition_List]&#xD;&#xA;&#x9;@PageIndex [int] = 1,&#xD;&#xA;&#x9;@PageSize [int] = 10,&#xD;&#xA;&#x9;@TotalRecords [int] = 0 OUTPUT,&#xD;&#xA;&#x9;@Filter varchar(200) =''&#xD;&#xA;--WITH ENCRYPTION&#xD;&#xA;AS" />
			</Annotation>
		</Element>
		<Element Type="SqlProcedure" Name="[dbo].[DB_Condition_Save]">
			<Property Name="BodyScript">
				<Value><![CDATA[
Begin
	--------------------------------------------------------------------------------
	-- IMPORTANT: Set this option ON: if do you wants stop and rollback transaction.
	--------------------------------------------------------------------------------
	SET XACT_ABORT ON
	--------------------------------------------------------------------------------
	-- Declaration of Variables
	--------------------------------------------------------------------------------
	Declare  @sError Varchar(Max) ,@IsErrorTecnichal int
	Execute C_Parameter_Get @CodeParameter= 'ERROR_TECNICHAL', @Value= @IsErrorTecnichal OUTPUT
	-- - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -
	Begin Try
	IF Exists(Select Top 1 * From dbo.Conditions Where Token<>@Token and Name=@Name)
	Begin
		RaisError('The duplicate key value is %s.',16,1,@Name)  
		return
	End
	--------------------------------------------------------------------------------
	-- Insert or Update Record
	--------------------------------------------------------------------------------
	Begin Transaction
	IF Not Exists(Select Top 1 * From dbo.Conditions Where Token=@Token)
	Begin
		INSERT INTO [dbo].[Conditions]
				   ([Token]
				   ,[Name]
				   ,[Value]
				   ,[Description]
				   ,[Creation]
				   ,[Updated]
				   ,[IsActive]
				   ,[UpdatedId])
			 VALUES
				   (NewId()
				   ,@Name
				   ,@Value
				   ,@Description
				   ,getdate()
				   ,getdate()
				   ,@IsActive
				   ,@UpdatedId)
	End
	Else
	Begin
		UPDATE [dbo].[Conditions]
		   SET [Token] = @Token
			  ,[Name] = @Name
			  ,[Value] = @Value
			  ,[Description] = @Description
			  ,[Updated] = getdate()
			  ,[IsActive] = @IsActive
			  ,[UpdatedId] = @UpdatedId
		Where Token =  @Token
		If @@rowcount= 0
		Begin
			RaisError('SQLUPDATE_FAILD',16,1)  
		End
	End
	Commit Transaction
	End Try
	Begin Catch
		-- there was an error
		If XACT_STATE() =-1
		Begin
			Rollback WORK
		End
		If @@trancount >0
		Begin
			Rollback WORK
		End
		If XACT_STATE() = 1
		Begin
			Commit WORK
		End
		--Getting the error description
		Set @sError  =  ERROR_MESSAGE()
		if @IsErrorTecnichal=1
		Begin
			Set @sError  =  ERROR_PROCEDURE() + 
					';  ' + convert(varchar,ERROR_LINE()) + 
					'; ' + ERROR_MESSAGE()
		End 
		RaisError(@sError,16,1)  
		Return  
	End Catch
	--------------------------------------------------------------------------------
	-- Returning a Primary Key Value
	--------------------------------------------------------------------------------
	-- - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -
End]]></Value>
			</Property>
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Relationship Name="BodyDependencies">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[varchar]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[int]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[C_Parameter_Get]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[C_Parameter_Get].[@CodeParameter]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[C_Parameter_Get].[@Value]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Conditions]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Conditions].[Token]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[DB_Condition_Save].[@Token]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Conditions].[Name]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[DB_Condition_Save].[@Name]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Conditions].[Token]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Conditions].[Name]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Conditions].[Value]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Conditions].[Description]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Conditions].[Creation]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Conditions].[Updated]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Conditions].[IsActive]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Conditions].[UpdatedId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[DB_Condition_Save].[@Value]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[DB_Condition_Save].[@Description]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[DB_Condition_Save].[@IsActive]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[DB_Condition_Save].[@UpdatedId]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[varchar]" />
				</Entry>
			</Relationship>
			<Relationship Name="Parameters">
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[DB_Condition_Save].[@Token]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[uniqueidentifier]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[DB_Condition_Save].[@Name]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Property Name="Length" Value="50" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[varchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[DB_Condition_Save].[@Value]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Property Name="Precision" Value="53" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[float]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[DB_Condition_Save].[@Description]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Property Name="Length" Value="450" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[varchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[DB_Condition_Save].[@IsActive]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[bit]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[DB_Condition_Save].[@UpdatedId]">
						<Property Name="DefaultExpressionScript">
							<Value><![CDATA[Null]]></Value>
						</Property>
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="Schema">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<Annotation Type="SysCommentsObjectAnnotation">
				<Property Name="Length" Value="2895" />
				<Property Name="StartLine" Value="1" />
				<Property Name="StartColumn" Value="1" />
				<Property Name="HeaderContents" Value="CREATE PROCEDURE [dbo].[DB_Condition_Save]&#xD;&#xA;&#x9; @Token uniqueidentifier&#xD;&#xA;&#x9;,@Name varchar(50)&#xD;&#xA;&#x9;,@Value float&#xD;&#xA;&#x9;,@Description varchar(450) &#xD;&#xA;&#x9;,@IsActive bit &#xD;&#xA;&#x9;,@UpdatedId [int] = Null&#xD;&#xA;--WITH ENCRYPTION&#xD;&#xA;AS" />
			</Annotation>
		</Element>
		<Element Type="SqlProcedure" Name="[dbo].[DB_Condition_StatusUpdate]">
			<Property Name="BodyScript">
				<Value><![CDATA[
BEGIN
		/*------------------------------------------------------------------------------
		-- getting xml main list only range: records_[begin,end], setting record status.
		------------------------------------------------------------------------------*/
		Declare @sError Varchar(Max) ,@IsErrorTecnichal int
		Execute C_Parameter_Get @CodeParameter= 'ERROR_TECNICHAL', @Value= @IsErrorTecnichal OUTPUT
		Begin Try
		Begin Transaction
			Update Conditions 
			SET Updated=getdate(),
				IsActive=@IsActive
			where Token=@Token
		Commit Transaction
	------------------------------------------------------------------------------
	-- send back answer
	------------------------------------------------------------------------------
	-- - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -
	End Try
	Begin Catch
		-- there was an error
		If XACT_STATE() =-1
		Begin
    			Rollback WORK
		End
		If @@trancount >0
		Begin
    			Rollback WORK
		End
		If XACT_STATE() = 1
		Begin
    			Commit WORK
		End
		--Getting the error description
		Set @sError  =   ERROR_MESSAGE()
		if @IsErrorTecnichal=1
		Begin
			Set @sError  =  ERROR_PROCEDURE() + 
					';  ' + convert(varchar,ERROR_LINE()) + 
					'; ' + ERROR_MESSAGE()
		End 
		RaisError (@sError,16,1)   
		Return
	End Catch
END]]></Value>
			</Property>
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Relationship Name="BodyDependencies">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[varchar]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[int]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[C_Parameter_Get]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[C_Parameter_Get].[@CodeParameter]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[C_Parameter_Get].[@Value]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Conditions]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Conditions].[Updated]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Conditions].[IsActive]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[DB_Condition_StatusUpdate].[@IsActive]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Conditions].[Token]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[DB_Condition_StatusUpdate].[@Token]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[varchar]" />
				</Entry>
			</Relationship>
			<Relationship Name="Parameters">
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[DB_Condition_StatusUpdate].[@UpdatedId]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[DB_Condition_StatusUpdate].[@Token]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[uniqueidentifier]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[DB_Condition_StatusUpdate].[@IsActive]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="Schema">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<Annotation Type="SysCommentsObjectAnnotation">
				<Property Name="CreateOffset" Value="3" />
				<Property Name="Length" Value="1475" />
				<Property Name="StartLine" Value="1" />
				<Property Name="StartColumn" Value="1" />
				<Property Name="HeaderContents" Value=" &#xD;&#xA;Create PROCEDURE DB_Condition_StatusUpdate&#xD;&#xA;&#x9;@UpdatedId [int],&#xD;&#xA;&#x9;@Token uniqueidentifier,&#xD;&#xA;&#x9;@IsActive int&#xD;&#xA;--WITH ENCRYPTION&#xD;&#xA;AS" />
			</Annotation>
		</Element>
		<Element Type="SqlProcedure" Name="[dbo].[DB_ConditionPort_Assigned]">
			<Property Name="BodyScript">
				<Value><![CDATA[
BEGIN
		------------------------------------------------------------------------------
		-- Declaring tables
		------------------------------------------------------------------------------
		Declare @Id int

		Select @Id=Id
		From Conditions
		Where Token=@Token


		Select Ports.Name ,Ports.Id
		from Ports 
		Where Id Not in (Select Ports.Id
						from ConditionByPorts 
							Inner Join  Ports On Ports.Id=ConditionByPorts.PortId
						Where ConditionId=@Id)

		Select Ports.Name ,Ports.Id
		from ConditionByPorts 
			Inner Join  Ports On Ports.Id=ConditionByPorts.PortId
		Where ConditionId=@Id

		-- - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -
END]]></Value>
			</Property>
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Relationship Name="BodyDependencies">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[int]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Conditions]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Conditions].[Id]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Conditions].[Token]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[DB_ConditionPort_Assigned].[@Token]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Ports]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Ports].[Name]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Ports].[Id]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Ports].[Id]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[ConditionByPorts]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Ports]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Ports].[Id]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[ConditionByPorts].[PortId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[ConditionByPorts].[ConditionId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[ConditionByPorts]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Ports].[Id]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[ConditionByPorts].[PortId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Ports].[Name]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[ConditionByPorts].[ConditionId]" />
				</Entry>
			</Relationship>
			<Relationship Name="Parameters">
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[DB_ConditionPort_Assigned].[@Token]">
						<Property Name="DefaultExpressionScript">
							<Value><![CDATA[null]]></Value>
						</Property>
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[uniqueidentifier]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="Schema">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<Annotation Type="SysCommentsObjectAnnotation">
				<Property Name="Length" Value="816" />
				<Property Name="StartLine" Value="1" />
				<Property Name="StartColumn" Value="1" />
				<Property Name="HeaderContents" Value="CREATE PROCEDURE [dbo].[DB_ConditionPort_Assigned]&#xD;&#xA;&#x9;@Token uniqueidentifier=null&#xD;&#xA;--WITH ENCRYPTION&#xD;&#xA;AS" />
			</Annotation>
		</Element>
		<Element Type="SqlProcedure" Name="[dbo].[DB_Contract_Delete]">
			<Property Name="BodyScript">
				<Value><![CDATA[
Begin

	--------------------------------------------------------------------------------
	Declare  @sError Varchar(Max) ,@IsErrorTecnichal int
	Execute C_Parameter_Get @CodeParameter= 'ERROR_TECNICHAL', @Value= @IsErrorTecnichal OUTPUT
	--------------------------------------------------------------------------------
	-- Validating parameters
	--------------------------------------------------------------------------------
	--------------------------------------------------------------------------------
	-- Activate/Inactivate Record
	--------------------------------------------------------------------------------
	Begin Try
	If Exists (Select top 1 * 
			   From dbo.ContractClauses
					Inner Join Contract On Contract.Id=dbo.ContractClauses.ContractId
			   Where dbo.Contract.Token= @Token)
	Begin
		RaisError('Relationship of row with other table',16,1)
		Return
	End
	Begin Transaction
			
			Delete From dbo.Contract 
			Where Token= @Token

			-- check for errors
			If @@rowcount= 0 
			Begin 
    			RaisError('SQLDELETE_FAILD',16,1)
			End 

	-- if we reach here, success!
	Commit Transaction
	End Try
	Begin Catch
			-- there was an error
			If XACT_STATE() =-1
			Begin
    				Rollback WORK
			End
			If @@trancount >0
			Begin
    				Rollback WORK
			End
			If XACT_STATE() = 1
			Begin
    				Commit WORK
			End
			--Getting the error description
			Set @sError  =   ERROR_MESSAGE()
			if @IsErrorTecnichal=1
			Begin
				Set @sError  =  ERROR_PROCEDURE() + 
					';  ' + convert(varchar,ERROR_LINE()) + 
					'; ' + ERROR_MESSAGE()
			End 
			--Getting the error description
			RaisError (@sError,16,1) 
			Return  
	End Catch
	--------------------------------------------------------------------------------
	-- Returning a Value
	--------------------------------------------------------------------------------
	Select  1
	-- - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -
End]]></Value>
			</Property>
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Relationship Name="BodyDependencies">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[varchar]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[int]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[C_Parameter_Get]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[C_Parameter_Get].[@CodeParameter]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[C_Parameter_Get].[@Value]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[ContractClauses]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Contract]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Contract].[Id]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[ContractClauses].[ContractId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Contract].[Token]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[DB_Contract_Delete].[@Token]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Contract].[Token]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[varchar]" />
				</Entry>
			</Relationship>
			<Relationship Name="Parameters">
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[DB_Contract_Delete].[@Token]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[uniqueidentifier]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="Schema">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<Annotation Type="SysCommentsObjectAnnotation">
				<Property Name="Length" Value="2094" />
				<Property Name="StartLine" Value="1" />
				<Property Name="StartColumn" Value="1" />
				<Property Name="HeaderContents" Value="CREATE PROCEDURE [dbo].[DB_Contract_Delete]&#xD;&#xA;&#x9;@Token uniqueidentifier&#xD;&#xA;--WITH ENCRYPTION&#xD;&#xA;AS" />
			</Annotation>
		</Element>
		<Element Type="SqlProcedure" Name="[dbo].[DB_Contract_Get]">
			<Property Name="BodyScript">
				<Value><![CDATA[
BEGIN
		------------------------------------------------------------------------------
		-- Declaring tables
		------------------------------------------------------------------------------
		SELECT Contract.*
		FROM Contract
		Where Contract.Token= @Token
		-- - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -
END]]></Value>
			</Property>
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Relationship Name="BodyDependencies">
				<Entry>
					<References Name="[dbo].[Contract]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Contract].[Token]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[DB_Contract_Get].[@Token]" />
				</Entry>
			</Relationship>
			<Relationship Name="Parameters">
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[DB_Contract_Get].[@Token]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[uniqueidentifier]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="Schema">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<Annotation Type="SysCommentsObjectAnnotation">
				<Property Name="Length" Value="440" />
				<Property Name="StartLine" Value="1" />
				<Property Name="StartColumn" Value="1" />
				<Property Name="HeaderContents" Value="Create PROCEDURE [dbo].[DB_Contract_Get]&#xD;&#xA;&#x9;@Token uniqueidentifier&#xD;&#xA;--WITH ENCRYPTION&#xD;&#xA;AS" />
			</Annotation>
		</Element>
		<Element Type="SqlProcedure" Name="[dbo].[DB_Contract_List]">
			<Property Name="BodyScript">
				<Value><![CDATA[
		/*------------------------------------------------------------------------------
		-- getting xml main list only range: records_[begin,end], setting record status.
		--------------------------------------------------------------------------------*/
		Select @TotalRecords=count(*) From Contract
		------------------------------------------------------------------------------
		-- getting user list
		------------------------------------------------------------------------------		
		if(@isActive=1)
		Begin				   
			SELECT *
			FROM dbo.Contract
			Where dbo.Contract.IsActive=1
		End
		Else
		Begin
			SELECT *
			FROM dbo.Contract
			ORDER BY Name asc, CURRENT_TIMESTAMP OFFSET (@PageIndex-1)*@PageSize ROWS FETCH FIRST @PageSize ROWS ONLY
		End
		/*-- - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -*/]]></Value>
			</Property>
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Relationship Name="BodyDependencies">
				<Entry>
					<References Name="[dbo].[Contract]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[DB_Contract_List].[@TotalRecords]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[DB_Contract_List].[@isActive]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Contract].[IsActive]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Contract].[Name]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[DB_Contract_List].[@PageIndex]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[DB_Contract_List].[@PageSize]" />
				</Entry>
			</Relationship>
			<Relationship Name="Parameters">
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[DB_Contract_List].[@PageIndex]">
						<Property Name="DefaultExpressionScript">
							<Value><![CDATA[1]]></Value>
						</Property>
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[DB_Contract_List].[@PageSize]">
						<Property Name="DefaultExpressionScript">
							<Value><![CDATA[10]]></Value>
						</Property>
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[DB_Contract_List].[@TotalRecords]">
						<Property Name="IsOutput" Value="True" />
						<Property Name="DefaultExpressionScript">
							<Value><![CDATA[0]]></Value>
						</Property>
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[DB_Contract_List].[@isActive]">
						<Property Name="DefaultExpressionScript">
							<Value><![CDATA[-1]]></Value>
						</Property>
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="Schema">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<Annotation Type="SysCommentsObjectAnnotation">
				<Property Name="Length" Value="1003" />
				<Property Name="StartLine" Value="1" />
				<Property Name="StartColumn" Value="1" />
				<Property Name="HeaderContents" Value="CREATE PROCEDURE [dbo].[DB_Contract_List]&#xD;&#xA;&#x9;@PageIndex [int] = 1,&#xD;&#xA;&#x9;@PageSize [int] = 10,&#xD;&#xA;&#x9;@TotalRecords [int] = 0 OUTPUT,&#xD;&#xA;&#x9;@isActive int=-1&#xD;&#xA;AS" />
			</Annotation>
		</Element>
		<Element Type="SqlProcedure" Name="[dbo].[DB_Contract_Save]">
			<Property Name="BodyScript">
				<Value><![CDATA[
Begin
	--------------------------------------------------------------------------------
	-- IMPORTANT: Set this option ON: if do you wants stop and rollback transaction.
	--------------------------------------------------------------------------------
	SET XACT_ABORT ON
	--------------------------------------------------------------------------------
	-- Declaration of Variables
	--------------------------------------------------------------------------------
	Declare  @sError Varchar(Max) ,@IsErrorTecnichal int, @Id int
	Execute C_Parameter_Get @CodeParameter= 'ERROR_TECNICHAL', @Value= @IsErrorTecnichal OUTPUT
	-- - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -
	Begin Try
	--------------------------------------------------------------------------------
	-- Insert or Update Record
	--------------------------------------------------------------------------------
	Select @Id=Id From dbo.[Contract] Where Token=@Token
	Begin Transaction
	IF Not Exists(Select Top 1 * From dbo.Contract Where Token=@Token)
	Begin
		INSERT INTO [dbo].[Contract]
				   ([Code]
				   ,[Name]
				   ,[Observation]
				   ,[AvailableFrom]
				   ,[IsActive]
				   ,[UpdatedId])
			 VALUES
				   (@Code
				   ,@Name
				   ,@Observation
				   ,@AvailableFrom
				   ,@IsActive
				   ,@UpdatedId)
		Set @Id=SCOPE_IDENTITY()
	End
	Else
	Begin
		UPDATE [dbo].[Contract]
		   SET [Code] = @Code
			  ,[Name] = @Name
			  ,[Observation] = @Observation
			  ,[AvailableFrom] = @AvailableFrom
			  ,[IsActive] = @IsActive
			  ,[Updated] = getdate()
			  ,[UpdatedId] = @UpdatedId
		 WHERE Token=@Token
		If @@rowcount= 0
		Begin
			RaisError('SQLUPDATE_FAILD',16,1)  
		End
	End

	Delete QP From ContractClauses  as QP
			Inner Join dbo.Contract On dbo.Contract.Id=QP.ContractId
	Where dbo.Contract.Id=@Id 

	INSERT INTO [dbo].[ContractClauses]
			   ([ClauseId]
			   ,[ContractId]
			   ,[Token]
			   ,[Creation]
			   ,[UpdatedId])
	Select item,@Id,NewId(),  getdate(),@UpdatedId  
	From [dbo].[TableSplit](@Clauses,'|')

	Commit Transaction
	End Try
	Begin Catch
		-- there was an error
		If XACT_STATE() =-1
		Begin
			Rollback WORK
		End
		If @@trancount >0
		Begin
			Rollback WORK
		End
		If XACT_STATE() = 1
		Begin
			Commit WORK
		End
		--Getting the error description
		Set @sError  =  ERROR_MESSAGE()
		if @IsErrorTecnichal=1
		Begin
			Set @sError  =  ERROR_PROCEDURE() + 
					';  ' + convert(varchar,ERROR_LINE()) + 
					'; ' + ERROR_MESSAGE()
		End 
		RaisError(@sError,16,1)  
		Return  
	End Catch
	--------------------------------------------------------------------------------
	-- Returning a Primary Key Value
	--------------------------------------------------------------------------------
	-- - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -
End]]></Value>
			</Property>
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Relationship Name="BodyDependencies">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[varchar]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[int]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[int]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[C_Parameter_Get]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[C_Parameter_Get].[@CodeParameter]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[C_Parameter_Get].[@Value]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Contract]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Contract].[Id]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Contract].[Token]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[DB_Contract_Save].[@Token]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Contract].[Token]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Contract].[Code]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Contract].[Name]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Contract].[Observation]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Contract].[AvailableFrom]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Contract].[IsActive]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Contract].[UpdatedId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[DB_Contract_Save].[@Code]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[DB_Contract_Save].[@Name]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[DB_Contract_Save].[@Observation]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[DB_Contract_Save].[@AvailableFrom]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[DB_Contract_Save].[@IsActive]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[DB_Contract_Save].[@UpdatedId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Contract].[Updated]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[ContractClauses]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Contract].[Id]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[ContractClauses].[ContractId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[ContractClauses].[ClauseId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[ContractClauses].[ContractId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[ContractClauses].[Token]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[ContractClauses].[Creation]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[ContractClauses].[UpdatedId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[DB_Contract_Save].[@Clauses]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[TableSplit]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[TableSplit].[item]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[varchar]" />
				</Entry>
			</Relationship>
			<Relationship Name="Parameters">
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[DB_Contract_Save].[@Token]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[uniqueidentifier]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[DB_Contract_Save].[@Name]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Property Name="IsMax" Value="True" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[varchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[DB_Contract_Save].[@Code]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Property Name="Length" Value="50" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[varchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[DB_Contract_Save].[@Observation]">
						<Property Name="DefaultExpressionScript">
							<Value><![CDATA['']]></Value>
						</Property>
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Property Name="IsMax" Value="True" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[varchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[DB_Contract_Save].[@AvailableFrom]">
						<Property Name="DefaultExpressionScript">
							<Value><![CDATA[null]]></Value>
						</Property>
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[date]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[DB_Contract_Save].[@IsActive]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[bit]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[DB_Contract_Save].[@UpdatedId]">
						<Property Name="DefaultExpressionScript">
							<Value><![CDATA[Null]]></Value>
						</Property>
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[DB_Contract_Save].[@Clauses]">
						<Property Name="DefaultExpressionScript">
							<Value><![CDATA['']]></Value>
						</Property>
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Property Name="IsMax" Value="True" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[varchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="Schema">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<Annotation Type="SysCommentsObjectAnnotation">
				<Property Name="Length" Value="3168" />
				<Property Name="StartLine" Value="1" />
				<Property Name="StartColumn" Value="1" />
				<Property Name="HeaderContents" Value="CREATE PROCEDURE [dbo].[DB_Contract_Save]&#xD;&#xA;&#x9; @Token uniqueidentifier&#xD;&#xA;&#x9;,@Name varchar(max)&#xD;&#xA;&#x9;,@Code varchar(50) &#xD;&#xA;&#x9;,@Observation varchar(max)=''&#xD;&#xA;&#x9;,@AvailableFrom date=null&#xD;&#xA;&#x9;,@IsActive bit &#xD;&#xA;&#x9;,@UpdatedId [int] = Null&#xD;&#xA;&#x9;,@Clauses varchar(max)=''&#xD;&#xA;AS" />
			</Annotation>
		</Element>
		<Element Type="SqlProcedure" Name="[dbo].[DB_Contract_StatusUpdate]">
			<Property Name="BodyScript">
				<Value><![CDATA[
BEGIN
		/*------------------------------------------------------------------------------
		-- getting xml main list only range: records_[begin,end], setting record status.
		------------------------------------------------------------------------------*/
		Declare @sError Varchar(Max) ,@IsErrorTecnichal int
		Execute C_Parameter_Get @CodeParameter= 'ERROR_TECNICHAL', @Value= @IsErrorTecnichal OUTPUT
		Begin Try
		Begin Transaction
			Update Contract 
			SET Updated=getdate(),
				IsActive=@IsActive
			where Token=@Token
		Commit Transaction
	------------------------------------------------------------------------------
	-- send back answer
	------------------------------------------------------------------------------
	-- - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -
	End Try
	Begin Catch
		-- there was an error
		If XACT_STATE() =-1
		Begin
    			Rollback WORK
		End
		If @@trancount >0
		Begin
    			Rollback WORK
		End
		If XACT_STATE() = 1
		Begin
    			Commit WORK
		End
		--Getting the error description
		Set @sError  =   ERROR_MESSAGE()
		if @IsErrorTecnichal=1
		Begin
			Set @sError  =  ERROR_PROCEDURE() + 
					';  ' + convert(varchar,ERROR_LINE()) + 
					'; ' + ERROR_MESSAGE()
		End 
		RaisError (@sError,16,1)   
		Return
	End Catch
END]]></Value>
			</Property>
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Relationship Name="BodyDependencies">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[varchar]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[int]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[C_Parameter_Get]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[C_Parameter_Get].[@CodeParameter]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[C_Parameter_Get].[@Value]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Contract]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Contract].[Updated]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Contract].[IsActive]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[DB_Contract_StatusUpdate].[@IsActive]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Contract].[Token]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[DB_Contract_StatusUpdate].[@Token]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[varchar]" />
				</Entry>
			</Relationship>
			<Relationship Name="Parameters">
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[DB_Contract_StatusUpdate].[@UpdatedId]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[DB_Contract_StatusUpdate].[@Token]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[uniqueidentifier]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[DB_Contract_StatusUpdate].[@IsActive]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="Schema">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<Annotation Type="SysCommentsObjectAnnotation">
				<Property Name="CreateOffset" Value="3" />
				<Property Name="Length" Value="1480" />
				<Property Name="StartLine" Value="1" />
				<Property Name="StartColumn" Value="1" />
				<Property Name="HeaderContents" Value=" &#xD;&#xA;Create PROCEDURE [dbo].[DB_Contract_StatusUpdate]&#xD;&#xA;&#x9;@UpdatedId [int],&#xD;&#xA;&#x9;@Token uniqueidentifier,&#xD;&#xA;&#x9;@IsActive int&#xD;&#xA;--WITH ENCRYPTION&#xD;&#xA;AS" />
			</Annotation>
		</Element>
		<Element Type="SqlProcedure" Name="[dbo].[DB_Countries_Delete]">
			<Property Name="BodyScript">
				<Value><![CDATA[
Begin

	--------------------------------------------------------------------------------
	Declare  @sError Varchar(Max) ,@IsErrorTecnichal int
	Execute C_Parameter_Get @CodeParameter= 'ERROR_TECNICHAL', @Value= @IsErrorTecnichal OUTPUT
	--------------------------------------------------------------------------------
	-- Validating parameters
	--------------------------------------------------------------------------------
	--------------------------------------------------------------------------------
	-- Activate/Inactivate Record
	--------------------------------------------------------------------------------
	Begin Try
	If Exists (Select top 1 * 
			   From dbo.Countries 
					Inner Join Cities On Cities.CountryId=dbo.Countries.CountryId
			   Where dbo.Countries.Token= @Token)
	Begin
		RaisError('Relationship of row with other table',16,1)
		Return
	End
		--Start The Transaction
	Begin Transaction
			
			Delete From dbo.Countries 
			Where Token= @Token

			-- check for errors
			If @@rowcount= 0 
			Begin 
    			RaisError('SQLDELETE_FAILD',16,1)
			End 

	-- if we reach here, success!
	Commit Transaction
	End Try
	Begin Catch
			-- there was an error
			If XACT_STATE() =-1
			Begin
    				Rollback WORK
			End
			If @@trancount >0
			Begin
    				Rollback WORK
			End
			If XACT_STATE() = 1
			Begin
    				Commit WORK
			End
			--Getting the error description
			Set @sError  =   ERROR_MESSAGE()
			if @IsErrorTecnichal=1
			Begin
				Set @sError  =  ERROR_PROCEDURE() + 
					';  ' + convert(varchar,ERROR_LINE()) + 
					'; ' + ERROR_MESSAGE()
			End 
			--Getting the error description
			RaisError (@sError,16,1) 
			Return  
	End Catch
	--------------------------------------------------------------------------------
	-- Returning a Value
	--------------------------------------------------------------------------------
	Select  1
	-- - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -
End]]></Value>
			</Property>
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Relationship Name="BodyDependencies">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[varchar]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[int]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[C_Parameter_Get]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[C_Parameter_Get].[@CodeParameter]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[C_Parameter_Get].[@Value]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Countries]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Cities]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Cities].[CountryId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Countries].[CountryId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Countries].[Token]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[DB_Countries_Delete].[@Token]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Countries].[Token]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[varchar]" />
				</Entry>
			</Relationship>
			<Relationship Name="Parameters">
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[DB_Countries_Delete].[@Token]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[uniqueidentifier]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="Schema">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<Annotation Type="SysCommentsObjectAnnotation">
				<Property Name="Length" Value="2115" />
				<Property Name="StartLine" Value="1" />
				<Property Name="StartColumn" Value="1" />
				<Property Name="HeaderContents" Value="CREATE PROCEDURE [dbo].[DB_Countries_Delete]&#xD;&#xA;&#x9;@Token uniqueidentifier&#xD;&#xA;--WITH ENCRYPTION&#xD;&#xA;AS" />
			</Annotation>
		</Element>
		<Element Type="SqlProcedure" Name="[dbo].[DB_Countries_Get]">
			<Property Name="BodyScript">
				<Value><![CDATA[
BEGIN
		------------------------------------------------------------------------------
		-- Declaring tables
		------------------------------------------------------------------------------
			SELECT [CountryId]
			  ,[Country]
			  ,[CodeInternational]
			  ,[Code]
			  ,[UpdatedId]
			  ,[Updated]
			  ,Created
			  ,[IsActive]
			  ,Token
		  FROM [dbo].[Countries]
		Where Countries.Token= @Token
		-- - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -
END]]></Value>
			</Property>
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Relationship Name="BodyDependencies">
				<Entry>
					<References Name="[dbo].[Countries]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Countries].[CountryId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Countries].[Country]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Countries].[CodeInternational]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Countries].[Code]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Countries].[UpdatedId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Countries].[Updated]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Countries].[Created]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Countries].[IsActive]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Countries].[Token]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Countries].[Token]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[DB_Countries_Get].[@Token]" />
				</Entry>
			</Relationship>
			<Relationship Name="Parameters">
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[DB_Countries_Get].[@Token]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[uniqueidentifier]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="Schema">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<Annotation Type="SysCommentsObjectAnnotation">
				<Property Name="Length" Value="595" />
				<Property Name="StartLine" Value="1" />
				<Property Name="StartColumn" Value="1" />
				<Property Name="HeaderContents" Value="CREATE PROCEDURE [dbo].[DB_Countries_Get]&#xD;&#xA;&#x9;@Token uniqueidentifier&#xD;&#xA;--WITH ENCRYPTION&#xD;&#xA;AS" />
			</Annotation>
		</Element>
		<Element Type="SqlProcedure" Name="[dbo].[DB_Countries_List]">
			<Property Name="BodyScript">
				<Value><![CDATA[
Begin
		Select @TotalRecords=count(*) From [Countries]
		;With CTECountries as (
			SELECT Countries.[CountryId]
				  ,[Country]
				  ,Countries.[UpdatedId]
				  ,Countries.[Updated]
				  ,Countries.[Created]
				  ,Countries.[IsActive]
				  ,Token
				  ,Countries.Code
				  ,Countries.CodeInternational
			  FROM [dbo].[Countries]
			 ORDER BY CURRENT_TIMESTAMP OFFSET (@PageIndex-1)*@PageSize ROWS FETCH FIRST @PageSize ROWS ONLY
		 )
		 Select CountryId,Country,UpdatedId,Updated,Created,IsActive,Token,Code,CodeInternational
		 From CTECountries
		 Order By Country asc
End]]></Value>
			</Property>
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Relationship Name="BodyDependencies">
				<Entry>
					<References Name="[dbo].[Countries]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[DB_Countries_List].[@TotalRecords]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Countries].[CountryId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Countries].[Country]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Countries].[UpdatedId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Countries].[Updated]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Countries].[Created]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Countries].[IsActive]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Countries].[Token]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Countries].[Code]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Countries].[CodeInternational]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[DB_Countries_List].[@PageIndex]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[DB_Countries_List].[@PageSize]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Countries].[CountryId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Countries].[UpdatedId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Countries].[Updated]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Countries].[Created]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Countries].[IsActive]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Countries].[Code]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Countries].[CodeInternational]" />
				</Entry>
			</Relationship>
			<Relationship Name="DynamicObjects">
				<Entry>
					<Element Type="SqlDynamicColumnSource" Name="[dbo].[DB_Countries_List].[CTE1].[CTECountries]">
						<Relationship Name="Columns">
							<Entry>
								<Element Type="SqlComputedColumn" Name="[dbo].[DB_Countries_List].[CTE1].[CTECountries].[CountryId]">
									<Relationship Name="ExpressionDependencies">
										<Entry>
											<References Name="[dbo].[Countries].[CountryId]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
							<Entry>
								<Element Type="SqlComputedColumn" Name="[dbo].[DB_Countries_List].[CTE1].[CTECountries].[Country]">
									<Relationship Name="ExpressionDependencies">
										<Entry>
											<References Name="[dbo].[Countries].[Country]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
							<Entry>
								<Element Type="SqlComputedColumn" Name="[dbo].[DB_Countries_List].[CTE1].[CTECountries].[UpdatedId]">
									<Relationship Name="ExpressionDependencies">
										<Entry>
											<References Name="[dbo].[Countries].[UpdatedId]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
							<Entry>
								<Element Type="SqlComputedColumn" Name="[dbo].[DB_Countries_List].[CTE1].[CTECountries].[Updated]">
									<Relationship Name="ExpressionDependencies">
										<Entry>
											<References Name="[dbo].[Countries].[Updated]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
							<Entry>
								<Element Type="SqlComputedColumn" Name="[dbo].[DB_Countries_List].[CTE1].[CTECountries].[Created]">
									<Relationship Name="ExpressionDependencies">
										<Entry>
											<References Name="[dbo].[Countries].[Created]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
							<Entry>
								<Element Type="SqlComputedColumn" Name="[dbo].[DB_Countries_List].[CTE1].[CTECountries].[IsActive]">
									<Relationship Name="ExpressionDependencies">
										<Entry>
											<References Name="[dbo].[Countries].[IsActive]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
							<Entry>
								<Element Type="SqlComputedColumn" Name="[dbo].[DB_Countries_List].[CTE1].[CTECountries].[Token]">
									<Relationship Name="ExpressionDependencies">
										<Entry>
											<References Name="[dbo].[Countries].[Token]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
							<Entry>
								<Element Type="SqlComputedColumn" Name="[dbo].[DB_Countries_List].[CTE1].[CTECountries].[Code]">
									<Relationship Name="ExpressionDependencies">
										<Entry>
											<References Name="[dbo].[Countries].[Code]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
							<Entry>
								<Element Type="SqlComputedColumn" Name="[dbo].[DB_Countries_List].[CTE1].[CTECountries].[CodeInternational]">
									<Relationship Name="ExpressionDependencies">
										<Entry>
											<References Name="[dbo].[Countries].[CodeInternational]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="Parameters">
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[DB_Countries_List].[@PageIndex]">
						<Property Name="DefaultExpressionScript">
							<Value><![CDATA[1]]></Value>
						</Property>
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[DB_Countries_List].[@PageSize]">
						<Property Name="DefaultExpressionScript">
							<Value><![CDATA[10]]></Value>
						</Property>
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[DB_Countries_List].[@TotalRecords]">
						<Property Name="IsOutput" Value="True" />
						<Property Name="DefaultExpressionScript">
							<Value><![CDATA[0]]></Value>
						</Property>
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="Schema">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<Annotation Type="SysCommentsObjectAnnotation">
				<Property Name="Length" Value="750" />
				<Property Name="StartLine" Value="1" />
				<Property Name="StartColumn" Value="1" />
				<Property Name="HeaderContents" Value="CREATE PROCEDURE [dbo].[DB_Countries_List]&#xD;&#xA;&#x9;@PageIndex [int] = 1,&#xD;&#xA;&#x9;@PageSize [int] = 10,&#xD;&#xA;&#x9;@TotalRecords [int] = 0 OUTPUT&#xD;&#xA;--WITH ENCRYPTION&#xD;&#xA;AS" />
			</Annotation>
		</Element>
		<Element Type="SqlProcedure" Name="[dbo].[DB_Countries_Save]">
			<Property Name="BodyScript">
				<Value><![CDATA[
Begin
	--------------------------------------------------------------------------------
	-- IMPORTANT: Set this option ON: if do you wants stop and rollback transaction.
	--------------------------------------------------------------------------------
	SET XACT_ABORT ON
	--------------------------------------------------------------------------------
	-- Declaration of Variables
	--------------------------------------------------------------------------------
	Declare @sError Varchar(Max) ,@IsErrorTecnichal int
	Execute C_Parameter_Get @CodeParameter= 'ERROR_TECNICHAL', @Value= @IsErrorTecnichal OUTPUT
	-- - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -
	Begin Try
	IF Exists(Select Top 1 * From dbo.Countries Where Token<>@Token and Country=@Country)
	Begin
		RaisError('The duplicate key value is %s.',16,1,@Country)  
		return
	End
	--------------------------------------------------------------------------------
	-- Insert or Update Record
	--------------------------------------------------------------------------------
	Begin Transaction
	IF Not Exists (Select Top 1 * From dbo.Countries Where Token=@Token)
	Begin
		
		Insert Into dbo.Countries(Country, Created,IsActive,UpdatedId,Updated,Code)
		Values (@Country, GETDATE(),@IsActive	,@UpdatedId,GetDate(),@Code)
	End
	Else
	Begin
	
		Update dbo.Countries
		Set	Country = @Country,
			IsActive = @IsActive,
			UpdatedId= @UpdatedId,
			Updated = GetDate(),
			Code=@Code
		Where Token =  @Token
		If @@rowcount= 0
		Begin
			RaisError('SQLUPDATE_FAILD',16,1)  
		End
	End
	Commit Transaction
	End Try
	Begin Catch
		-- there was an error
		If XACT_STATE() =-1
		Begin
			Rollback WORK
		End
		If @@trancount >0
		Begin
			Rollback WORK
		End
		If XACT_STATE() = 1
		Begin
			Commit WORK
		End
		--Getting the error description
		Set @sError  =  ERROR_MESSAGE()
		if @IsErrorTecnichal=1
		Begin
			Set @sError  =  ERROR_PROCEDURE() + 
					';  ' + convert(varchar,ERROR_LINE()) + 
					'; ' + ERROR_MESSAGE()
		End 
		RaisError(@sError,16,1)  
		Return  
	End Catch
	--------------------------------------------------------------------------------
	-- Returning a Primary Key Value
	--------------------------------------------------------------------------------
	-- - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -
End]]></Value>
			</Property>
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Relationship Name="BodyDependencies">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[varchar]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[int]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[C_Parameter_Get]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[C_Parameter_Get].[@CodeParameter]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[C_Parameter_Get].[@Value]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Countries]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Countries].[Token]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[DB_Countries_Save].[@Token]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Countries].[Country]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[DB_Countries_Save].[@Country]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Countries].[Country]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Countries].[Created]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Countries].[IsActive]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Countries].[UpdatedId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Countries].[Updated]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Countries].[Code]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[DB_Countries_Save].[@IsActive]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[DB_Countries_Save].[@UpdatedId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[DB_Countries_Save].[@Code]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Countries].[Token]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[varchar]" />
				</Entry>
			</Relationship>
			<Relationship Name="Parameters">
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[DB_Countries_Save].[@Token]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[uniqueidentifier]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[DB_Countries_Save].[@IsActive]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[DB_Countries_Save].[@Country]">
						<Property Name="DefaultExpressionScript">
							<Value><![CDATA[Null]]></Value>
						</Property>
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Property Name="Length" Value="255" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[varchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[DB_Countries_Save].[@Code]">
						<Property Name="DefaultExpressionScript">
							<Value><![CDATA[Null]]></Value>
						</Property>
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Property Name="Length" Value="50" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[varchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[DB_Countries_Save].[@UpdatedId]">
						<Property Name="DefaultExpressionScript">
							<Value><![CDATA[Null]]></Value>
						</Property>
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="Schema">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<Annotation Type="SysCommentsObjectAnnotation">
				<Property Name="Length" Value="2622" />
				<Property Name="StartLine" Value="1" />
				<Property Name="StartColumn" Value="1" />
				<Property Name="HeaderContents" Value="CREATE PROCEDURE [dbo].[DB_Countries_Save]&#xD;&#xA;&#x9;@Token uniqueidentifier,&#xD;&#xA;&#x9;@IsActive [int],&#xD;&#xA;&#x9;@Country [varchar](255) = Null,&#xD;&#xA;&#x9;@Code [varchar](50) = Null,&#xD;&#xA;&#x9;@UpdatedId [int] = Null&#xD;&#xA;--WITH ENCRYPTION&#xD;&#xA;AS" />
			</Annotation>
		</Element>
		<Element Type="SqlProcedure" Name="[dbo].[DB_Countries_StatusUpdate]">
			<Property Name="BodyScript">
				<Value><![CDATA[
BEGIN
		/*------------------------------------------------------------------------------
		-- getting xml main list only range: records_[begin,end], setting record status.
		------------------------------------------------------------------------------*/
		Declare @sError Varchar(Max) ,@IsErrorTecnichal int
		Execute C_Parameter_Get @CodeParameter= 'ERROR_TECNICHAL', @Value= @IsErrorTecnichal OUTPUT
		Begin Try
		Begin Transaction
			Update Countries 
				SET Updated=getdate(),
					IsActive=@IsActive
			where Token=@Token
		Commit Transaction
	------------------------------------------------------------------------------
	-- send back answer
	------------------------------------------------------------------------------
	-- - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -
	End Try
	Begin Catch
		-- there was an error
		If XACT_STATE() =-1
		Begin
    			Rollback WORK
		End
		If @@trancount >0
		Begin
    			Rollback WORK
		End
		If XACT_STATE() = 1
		Begin
    			Commit WORK
		End
		--Getting the error description
		Set @sError  =   ERROR_MESSAGE()
		if @IsErrorTecnichal=1
		Begin
			Set @sError  =  ERROR_PROCEDURE() + 
					';  ' + convert(varchar,ERROR_LINE()) + 
					'; ' + ERROR_MESSAGE()
		End 
		RaisError (@sError,16,1)   
		Return
	End Catch
END]]></Value>
			</Property>
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Relationship Name="BodyDependencies">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[varchar]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[int]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[C_Parameter_Get]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[C_Parameter_Get].[@CodeParameter]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[C_Parameter_Get].[@Value]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Countries]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Countries].[Updated]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Countries].[IsActive]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[DB_Countries_StatusUpdate].[@IsActive]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Countries].[Token]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[DB_Countries_StatusUpdate].[@Token]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[varchar]" />
				</Entry>
			</Relationship>
			<Relationship Name="Parameters">
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[DB_Countries_StatusUpdate].[@UpdatedId]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[DB_Countries_StatusUpdate].[@Token]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[uniqueidentifier]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[DB_Countries_StatusUpdate].[@IsActive]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="Schema">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<Annotation Type="SysCommentsObjectAnnotation">
				<Property Name="Length" Value="1481" />
				<Property Name="StartLine" Value="1" />
				<Property Name="StartColumn" Value="1" />
				<Property Name="HeaderContents" Value="CREATE PROCEDURE [dbo].[DB_Countries_StatusUpdate]&#xD;&#xA;&#x9;@UpdatedId [int],&#xD;&#xA;&#x9;@Token uniqueidentifier,&#xD;&#xA;&#x9;@IsActive int&#xD;&#xA;--WITH ENCRYPTION&#xD;&#xA;AS" />
			</Annotation>
		</Element>
		<Element Type="SqlProcedure" Name="[dbo].[DB_DetailNegotiation_Save]">
			<Property Name="BodyScript">
				<Value><![CDATA[
BEGIN
    -- SET NOCOUNT ON added to prevent extra result sets from
    -- interfering with SELECT statements.
    SET NOCOUNT ON
	Declare  @sError  Varchar(Max)  ,@IsErrorTecnichal int,@ServiceLiquidationId int,@Id int
	Execute C_Parameter_Get @CodeParameter= 'ERROR_TECNICHAL', @Value= @IsErrorTecnichal OUTPUT
	Begin Try
	Begin Transaction
	  INSERT INTO [dbo].[DetailNegotiationsOfRequests]
				   ([NegotiationsOfRequestId]
				   ,[Observation]
				   ,[IsModify]
				   ,[IsActive])
			 VALUES
				   (@NegotiationsOfRequestId
				   ,@Observation
				   ,@IsModify
				   ,@IsActive)
	Commit Transaction
	End Try
	Begin Catch
		-- there was an error
		If XACT_STATE() =-1
		Begin
    			Rollback WORK
		End
		If @@trancount >0
		Begin
    			Rollback WORK
		End
		If XACT_STATE() = 1
		Begin
    			Commit WORK
		End
		--Getting the error description
		Set @sError  =   ERROR_MESSAGE()
		if @IsErrorTecnichal=1
		Begin
			Set @sError  =   ERROR_PROCEDURE() + 
					';  ' + convert(varchar,ERROR_LINE()) + 
					'; ' + ERROR_MESSAGE()
		End 
		RaisError (@sError,16,1) 
		Return
	End Catch
END]]></Value>
			</Property>
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Relationship Name="BodyDependencies">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[varchar]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[int]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[int]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[int]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[C_Parameter_Get]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[C_Parameter_Get].[@CodeParameter]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[C_Parameter_Get].[@Value]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[DetailNegotiationsOfRequests]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[DetailNegotiationsOfRequests].[NegotiationsOfRequestId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[DetailNegotiationsOfRequests].[Observation]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[DetailNegotiationsOfRequests].[IsModify]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[DetailNegotiationsOfRequests].[IsActive]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[DB_DetailNegotiation_Save].[@NegotiationsOfRequestId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[DB_DetailNegotiation_Save].[@observation]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[DB_DetailNegotiation_Save].[@IsModify]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[DB_DetailNegotiation_Save].[@IsActive]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[varchar]" />
				</Entry>
			</Relationship>
			<Relationship Name="Parameters">
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[DB_DetailNegotiation_Save].[@NegotiationsOfRequestId]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[DB_DetailNegotiation_Save].[@observation]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Property Name="IsMax" Value="True" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[varchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[DB_DetailNegotiation_Save].[@IsModify]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[bit]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[DB_DetailNegotiation_Save].[@IsActive]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[bit]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[DB_DetailNegotiation_Save].[@UpdatedId]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="Schema">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<Annotation Type="SysCommentsObjectAnnotation">
				<Property Name="CreateOffset" Value="204" />
				<Property Name="Length" Value="1584" />
				<Property Name="StartLine" Value="1" />
				<Property Name="StartColumn" Value="1" />
				<Property Name="HeaderContents" Value="-- =============================================&#xD;&#xA;-- Author:      &lt;Author, , Name&gt;&#xD;&#xA;-- Create Date: &lt;Create Date, , &gt;&#xD;&#xA;-- Description: &lt;Description, , &gt;&#xD;&#xA;-- =============================================&#xD;&#xA;CREATE PROCEDURE DB_DetailNegotiation_Save&#xD;&#xA;(&#xD;&#xA;    -- Add the parameters for the stored procedure here&#xD;&#xA;    @NegotiationsOfRequestId int,&#xD;&#xA;    @observation varchar(max),&#xD;&#xA;    @IsModify bit,&#xD;&#xA;    @IsActive bit,&#xD;&#xA;&#x9;@UpdatedId int&#xD;&#xA;)&#xD;&#xA;AS" />
			</Annotation>
		</Element>
		<Element Type="SqlProcedure" Name="[dbo].[DB_DistanceBetweenPorts_List]">
			<Property Name="BodyScript">
				<Value><![CDATA[
Begin
	;with cteDistanceBetweenPorts as 
	(  Select Distinct DistanceBetweenPorts.InputPortId,DistanceBetweenPorts.OutPutPortId,
		InputPort.Name as InputName,OutPutPort.Name as OutPutName,DistanceBetweenPorts.Interval,
		DistanceBetweenPorts.HourCanalPanama,  DistanceBetweenPorts.InputPortId-DistanceBetweenPorts.OutPutPortId as Diff,
		DistanceBetweenPorts.IsActive
		from DistanceBetweenPorts
		Inner Join Ports as InputPort On InputPort.Id=DistanceBetweenPorts.InputPortId
		Inner Join Ports as OutPutPort On OutPutPort.Id=DistanceBetweenPorts.OutPutPortId
	 )
 Select * from cteDistanceBetweenPorts  where Diff>0
End]]></Value>
			</Property>
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Relationship Name="BodyDependencies">
				<Entry>
					<References Name="[dbo].[DistanceBetweenPorts]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Ports]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Ports].[Id]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[DistanceBetweenPorts].[InputPortId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Ports].[Id]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[DistanceBetweenPorts].[OutPutPortId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Ports].[Name]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Ports].[Name]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[DistanceBetweenPorts].[Interval]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[DistanceBetweenPorts].[HourCanalPanama]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[DistanceBetweenPorts].[IsActive]" />
				</Entry>
			</Relationship>
			<Relationship Name="DynamicObjects">
				<Entry>
					<Element Type="SqlDynamicColumnSource" Name="[dbo].[DB_DistanceBetweenPorts_List].[CTE1].[cteDistanceBetweenPorts]">
						<Relationship Name="Columns">
							<Entry>
								<Element Type="SqlComputedColumn" Name="[dbo].[DB_DistanceBetweenPorts_List].[CTE1].[cteDistanceBetweenPorts].[InputPortId]">
									<Relationship Name="ExpressionDependencies">
										<Entry>
											<References Name="[dbo].[DistanceBetweenPorts].[InputPortId]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
							<Entry>
								<Element Type="SqlComputedColumn" Name="[dbo].[DB_DistanceBetweenPorts_List].[CTE1].[cteDistanceBetweenPorts].[OutPutPortId]">
									<Relationship Name="ExpressionDependencies">
										<Entry>
											<References Name="[dbo].[DistanceBetweenPorts].[OutPutPortId]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
							<Entry>
								<Element Type="SqlComputedColumn" Name="[dbo].[DB_DistanceBetweenPorts_List].[CTE1].[cteDistanceBetweenPorts].[InputName]">
									<Relationship Name="ExpressionDependencies">
										<Entry>
											<References Name="[dbo].[Ports].[Name]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
							<Entry>
								<Element Type="SqlComputedColumn" Name="[dbo].[DB_DistanceBetweenPorts_List].[CTE1].[cteDistanceBetweenPorts].[OutPutName]">
									<Relationship Name="ExpressionDependencies">
										<Entry>
											<References Name="[dbo].[Ports].[Name]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
							<Entry>
								<Element Type="SqlComputedColumn" Name="[dbo].[DB_DistanceBetweenPorts_List].[CTE1].[cteDistanceBetweenPorts].[Interval]">
									<Relationship Name="ExpressionDependencies">
										<Entry>
											<References Name="[dbo].[DistanceBetweenPorts].[Interval]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
							<Entry>
								<Element Type="SqlComputedColumn" Name="[dbo].[DB_DistanceBetweenPorts_List].[CTE1].[cteDistanceBetweenPorts].[HourCanalPanama]">
									<Relationship Name="ExpressionDependencies">
										<Entry>
											<References Name="[dbo].[DistanceBetweenPorts].[HourCanalPanama]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
							<Entry>
								<Element Type="SqlComputedColumn" Name="[dbo].[DB_DistanceBetweenPorts_List].[CTE1].[cteDistanceBetweenPorts].[Diff]" />
							</Entry>
							<Entry>
								<Element Type="SqlComputedColumn" Name="[dbo].[DB_DistanceBetweenPorts_List].[CTE1].[cteDistanceBetweenPorts].[IsActive]">
									<Relationship Name="ExpressionDependencies">
										<Entry>
											<References Name="[dbo].[DistanceBetweenPorts].[IsActive]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="Schema">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<Annotation Type="SysCommentsObjectAnnotation">
				<Property Name="Length" Value="692" />
				<Property Name="StartLine" Value="1" />
				<Property Name="StartColumn" Value="1" />
				<Property Name="HeaderContents" Value="CREATE PROCEDURE [dbo].[DB_DistanceBetweenPorts_List]&#xD;&#xA;AS" />
			</Annotation>
		</Element>
		<Element Type="SqlProcedure" Name="[dbo].[DB_DistanceBetweenPorts_Save]">
			<Property Name="BodyScript">
				<Value><![CDATA[
Begin
	--------------------------------------------------------------------------------
	-- IMPORTANT: Set this option ON: if do you wants stop and rollback transaction.
	--------------------------------------------------------------------------------
	SET XACT_ABORT ON
	--------------------------------------------------------------------------------
	-- Declaration of Variables
	--------------------------------------------------------------------------------
	Declare  @sError Varchar(Max) ,@IsErrorTecnichal int, @Id int,@id_record int,@Count int, @item varchar(max)
	Declare  @InputPortId int, @OutPutPortId int
	Declare  @Interval float, @HourCanalPanama float, @IsActive bit
	Execute C_Parameter_Get @CodeParameter= 'ERROR_TECNICHAL', @Value= @IsErrorTecnichal OUTPUT
	-- - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -
	Begin Try
	--------------------------------------------------------------------------------
	-- Insert or Update Record
	--------------------------------------------------------------------------------
	Begin Transaction
	Select @Count=Count(1) From [dbo].[TableSplit](@Items,'x')
	Set @id_record=1
	While(@Count>=@id_record)
	Begin

		Select @item=item
		From [dbo].[TableSplit](@Items,'x')
		Where id_record=@id_record


			Select @InputPortId=Convert(int,item) From [dbo].[TableSplit](@item,'|') Where id_record=1
			Select @OutPutPortId=Convert(int,item) From [dbo].[TableSplit](@item,'|') Where id_record=2
			Select @Interval=Convert(float,item)  From [dbo].[TableSplit](@item,'|') Where id_record=3
			Select @HourCanalPanama=Convert(float,item)  From [dbo].[TableSplit](@item,'|') Where id_record=4
			Select @IsActive=Convert(bit,item)  From [dbo].[TableSplit](@item,'|') Where id_record=5

			UPDATE [dbo].[DistanceBetweenPorts]
			   SET [Interval] = @Interval
				  ,[Updated] = getdate()
				  ,[IsActive] = @IsActive
				  ,[UpdatedId] = @UpdatedId
				  ,[HourCanalPanama] = @HourCanalPanama
			 WHERE InputPortId=@InputPortId and OutPutPortId=@OutPutPortId

			 UPDATE [dbo].[DistanceBetweenPorts]
			   SET [Interval] = @Interval
				  ,[Updated] = getdate()
				  ,[IsActive] = @IsActive
				  ,[UpdatedId] = @UpdatedId
				  ,[HourCanalPanama] = @HourCanalPanama
			 WHERE InputPortId=@OutPutPortId and OutPutPortId=@InputPortId


		Set @id_record=@id_record+1
	End

	Commit Transaction
	End Try
	Begin Catch
		-- there was an error
		If XACT_STATE() =-1
		Begin
			Rollback WORK
		End
		If @@trancount >0
		Begin
			Rollback WORK
		End
		If XACT_STATE() = 1
		Begin
			Commit WORK
		End
		--Getting the error description
		Set @sError  =  ERROR_MESSAGE()
		if @IsErrorTecnichal=1
		Begin
			Set @sError  =  ERROR_PROCEDURE() + 
					';  ' + convert(varchar,ERROR_LINE()) + 
					'; ' + ERROR_MESSAGE()
		End 
		RaisError(@sError,16,1)  
		Return  
	End Catch
	--------------------------------------------------------------------------------
	-- Returning a Primary Key Value
	--------------------------------------------------------------------------------
	-- - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -
End]]></Value>
			</Property>
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Relationship Name="BodyDependencies">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[varchar]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[int]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[int]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[int]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[int]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[varchar]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[int]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[int]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[float]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[float]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[bit]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[C_Parameter_Get]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[C_Parameter_Get].[@CodeParameter]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[C_Parameter_Get].[@Value]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[DB_DistanceBetweenPorts_Save].[@Items]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[TableSplit]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[TableSplit].[item]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[TableSplit].[id_record]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[int]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[int]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[float]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[float]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[bit]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[DistanceBetweenPorts]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[DistanceBetweenPorts].[Interval]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[DistanceBetweenPorts].[Updated]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[DistanceBetweenPorts].[IsActive]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[DistanceBetweenPorts].[UpdatedId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[DB_DistanceBetweenPorts_Save].[@UpdatedId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[DistanceBetweenPorts].[HourCanalPanama]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[DistanceBetweenPorts].[InputPortId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[DistanceBetweenPorts].[OutPutPortId]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[varchar]" />
				</Entry>
			</Relationship>
			<Relationship Name="Parameters">
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[DB_DistanceBetweenPorts_Save].[@Items]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Property Name="IsMax" Value="True" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[varchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[DB_DistanceBetweenPorts_Save].[@UpdatedId]">
						<Property Name="DefaultExpressionScript">
							<Value><![CDATA[Null]]></Value>
						</Property>
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="Schema">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<Annotation Type="SysCommentsObjectAnnotation">
				<Property Name="Length" Value="3335" />
				<Property Name="StartLine" Value="1" />
				<Property Name="StartColumn" Value="1" />
				<Property Name="HeaderContents" Value="CREATE PROCEDURE [dbo].[DB_DistanceBetweenPorts_Save]&#xD;&#xA;&#x9; @Items varchar(max)&#xD;&#xA;&#x9;,@UpdatedId [int] = Null&#xD;&#xA;--WITH ENCRYPTION&#xD;&#xA;AS" />
			</Annotation>
		</Element>
		<Element Type="SqlProcedure" Name="[dbo].[DB_InboxCustomer_List]">
			<Property Name="BodyScript">
				<Value><![CDATA[
Begin


	/*------------------------------------------------------------------------------
		-- getting xml main list only range: records_[begin,end], setting record status.
		--------------------------------------------------------------------------------*/
		Select @TotalRecords=count(*) 
		From RequestForServices 
			Inner Join ServiceLiquidations On ServiceLiquidations.RequestForServiceId=RequestForServices.Id And ServiceLiquidations.Status!='PENDING'
		Where RequestForServices.Owner=@Owner And ServiceLiquidations.Status=@Status
		------------------------------------------------------------------------------
		-- getting user list
		------------------------------------------------------------------------------	
		Select RequestForServices.Token, Products.Name as Product,RequestForServices.Quantity,RequestForServices.StartLaycan,RequestForServices.EndLaycan,
		  LoadPort.Name+ ' ,'+ LoadCountry.CodeInternational as LoadPort, UnLoadPort.Name+' ,'+ DischargeCountry.CodeInternational as UnLoadPort, LoadTerminal.Name as LoadTerminal,
		  UnLoadTerminal.Name as UnLoadTerminal,RequestForServices.Status, RequestForServices.Creation, RequestForServices.Id,dbo.GetStatusRequest(ServiceLiquidations.RequestForServiceId) as NewStatus,
		  (Select Count(1) from ServiceLiquidations Where ServiceLiquidations.RequestForServiceId=RequestForServices.Id And ServiceLiquidations.Status!='PENDING' ) as CountVessel ,
		  (Select Count(1) from ServiceLiquidations Where ServiceLiquidations.RequestForServiceId=RequestForServices.Id And ServiceLiquidations.Status!='PENDING' And ServiceLiquidations.Status!='REQUEST' ) as CountReponseVessel ,Products.Measure,Products.MeasureQuantity
		From RequestForServices
			Inner Join ServiceLiquidations On ServiceLiquidations.RequestForServiceId=RequestForServices.Id And ServiceLiquidations.Status!='PENDING'
			--Inner Join Vessel On ServiceLiquidations.VesselId=Vessel.Id
			Inner Join Products On Products.Id=RequestForServices.ProductId
			Left Join StowageFactors On StowageFactors.Id=RequestForServices.StowageFactorId
			Left Join QuantityMT On QuantityMT.Id=RequestForServices.QuantityId
			--Inner Join Conditions On Conditions.Id=RequestForServices.ConditionId
			Inner Join Tolerance On Tolerance.Id=RequestForServices.ToleranceId
			Inner Join Ports as LoadPort On LoadPort.Id=RequestForServices.LoadPortId
			Inner Join Cities as LoadCitie On LoadPort.City=LoadCitie.CityId
			Inner Join Countries as LoadCountry On LoadCountry.CountryId=LoadCitie.CountryId
			Inner Join Ports as UnLoadPort On UnLoadPort.Id=RequestForServices.DischargePortId
			Inner Join Cities as DischargeCitie On UnLoadPort.City=DischargeCitie.CityId
			Inner Join Countries as DischargeCountry On DischargeCountry.CountryId=DischargeCitie.CountryId
			Inner Join Terminals as LoadTerminal On LoadTerminal.Id=RequestForServices.LoadTerminalId
			Inner Join Terminals as UnLoadTerminal On UnLoadTerminal.Id=RequestForServices.DischargeTerminalId
		Where 
			(Products.Id=@ProductId or @ProductId=0) 
			And (StowageFactors.Id=@StowageFactorId or @StowageFactorId=0) 
			And (QuantityMT.Id=@QuantityId or @QuantityId=0) 
			--And (Conditions.Id=@ConditionId or @ConditionId=0) 
			And (LoadPort.Id=@LoadPortId or @LoadPortId=0) 
			And (LoadTerminal.Id=@LoadTerminalId or @LoadTerminalId=0) 
			And (UnLoadPort.Id=@DischargePortId or @DischargePortId=0) 
			And (UnLoadTerminal.Id=@DischargeTerminalId or @DischargeTerminalId=0) 
			--And (RequestForServices.StartLaycan>=@StartLaycan or @StartLaycan=null) 
			--And (RequestForServices.EndLaycan<=@EndLaycan or @EndLaycan=null) 
			And RequestForServices.Owner=@Owner
			
			--And RequestForServices.Status=@Status
		Group by RequestForServices.Token, Products.Name,RequestForServices.Quantity,RequestForServices.StartLaycan,RequestForServices.EndLaycan,
		  LoadPort.Name, UnLoadPort.Name, LoadTerminal.Name,Products.Measure,Products.MeasureQuantity,
		  UnLoadTerminal.Name,RequestForServices.Status, RequestForServices.Creation, RequestForServices.Id,ServiceLiquidations.RequestForServiceId,
		  LoadCountry.CodeInternational, DischargeCountry.CodeInternational
		ORDER BY RequestForServices.Id desc OFFSET (@PageIndex-1)*@PageSize ROWS FETCH FIRST @PageSize ROWS ONLY
		/*-- - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -*/
End]]></Value>
			</Property>
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Relationship Name="BodyDependencies">
				<Entry>
					<References Name="[dbo].[RequestForServices]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[ServiceLiquidations]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[ServiceLiquidations].[RequestForServiceId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[RequestForServices].[Id]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[ServiceLiquidations].[Status]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[DB_InboxCustomer_List].[@TotalRecords]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[RequestForServices].[Owner]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[DB_InboxCustomer_List].[@Owner]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[DB_InboxCustomer_List].[@Status]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Products]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Products].[Id]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[RequestForServices].[ProductId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[StowageFactors]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[StowageFactors].[Id]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[RequestForServices].[StowageFactorId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[QuantityMT]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[QuantityMT].[Id]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[RequestForServices].[QuantityId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Tolerance]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Tolerance].[Id]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[RequestForServices].[ToleranceId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Ports]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Ports].[Id]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[RequestForServices].[LoadPortId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Cities]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Ports].[City]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Cities].[CityId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Countries]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Countries].[CountryId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Cities].[CountryId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Ports].[Id]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[RequestForServices].[DischargePortId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Ports].[City]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Cities].[CityId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Countries].[CountryId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Cities].[CountryId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Terminals]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Terminals].[Id]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[RequestForServices].[LoadTerminalId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Terminals].[Id]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[RequestForServices].[DischargeTerminalId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[RequestForServices].[Token]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Products].[Name]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[RequestForServices].[Quantity]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[RequestForServices].[StartLaycan]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[RequestForServices].[EndLaycan]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Ports].[Name]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Countries].[CodeInternational]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Ports].[Name]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Countries].[CodeInternational]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Terminals].[Name]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Terminals].[Name]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[RequestForServices].[Status]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[RequestForServices].[Creation]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[RequestForServices].[Id]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[ServiceLiquidations].[RequestForServiceId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[GetStatusRequest]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[ServiceLiquidations]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[ServiceLiquidations].[RequestForServiceId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[RequestForServices].[Id]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[ServiceLiquidations].[Status]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Products].[Measure]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Products].[MeasureQuantity]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Products].[Id]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[DB_InboxCustomer_List].[@ProductId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[StowageFactors].[Id]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[DB_InboxCustomer_List].[@StowageFactorId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[QuantityMT].[Id]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[DB_InboxCustomer_List].[@QuantityId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Ports].[Id]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[DB_InboxCustomer_List].[@LoadPortId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[DB_InboxCustomer_List].[@LoadTerminalId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Ports].[Id]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[DB_InboxCustomer_List].[@DischargePortId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[DB_InboxCustomer_List].[@DischargeTerminalId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[RequestForServices].[Owner]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Products].[Name]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Terminals].[Name]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Terminals].[Name]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[DB_InboxCustomer_List].[@PageIndex]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[DB_InboxCustomer_List].[@PageSize]" />
				</Entry>
			</Relationship>
			<Relationship Name="Parameters">
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[DB_InboxCustomer_List].[@PageIndex]">
						<Property Name="DefaultExpressionScript">
							<Value><![CDATA[1]]></Value>
						</Property>
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[DB_InboxCustomer_List].[@PageSize]">
						<Property Name="DefaultExpressionScript">
							<Value><![CDATA[10]]></Value>
						</Property>
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[DB_InboxCustomer_List].[@TotalRecords]">
						<Property Name="IsOutput" Value="True" />
						<Property Name="DefaultExpressionScript">
							<Value><![CDATA[0]]></Value>
						</Property>
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[DB_InboxCustomer_List].[@Owner]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[DB_InboxCustomer_List].[@UpdatedId]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[DB_InboxCustomer_List].[@ProductId]">
						<Property Name="DefaultExpressionScript">
							<Value><![CDATA[0]]></Value>
						</Property>
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[DB_InboxCustomer_List].[@StowageFactorId]">
						<Property Name="DefaultExpressionScript">
							<Value><![CDATA[0]]></Value>
						</Property>
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[DB_InboxCustomer_List].[@QuantityId]">
						<Property Name="DefaultExpressionScript">
							<Value><![CDATA[0]]></Value>
						</Property>
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[DB_InboxCustomer_List].[@LoadPortId]">
						<Property Name="DefaultExpressionScript">
							<Value><![CDATA[0]]></Value>
						</Property>
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[DB_InboxCustomer_List].[@LoadTerminalId]">
						<Property Name="DefaultExpressionScript">
							<Value><![CDATA[0]]></Value>
						</Property>
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[DB_InboxCustomer_List].[@DischargePortId]">
						<Property Name="DefaultExpressionScript">
							<Value><![CDATA[0]]></Value>
						</Property>
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[DB_InboxCustomer_List].[@DischargeTerminalId]">
						<Property Name="DefaultExpressionScript">
							<Value><![CDATA[0]]></Value>
						</Property>
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[DB_InboxCustomer_List].[@StartLaycan]">
						<Property Name="DefaultExpressionScript">
							<Value><![CDATA[null]]></Value>
						</Property>
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[date]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[DB_InboxCustomer_List].[@EndLaycan]">
						<Property Name="DefaultExpressionScript">
							<Value><![CDATA[null]]></Value>
						</Property>
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[date]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[DB_InboxCustomer_List].[@Status]">
						<Property Name="DefaultExpressionScript">
							<Value><![CDATA['REQUEST']]></Value>
						</Property>
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Property Name="Length" Value="25" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[varchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="Schema">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<Annotation Type="SysCommentsObjectAnnotation">
				<Property Name="Length" Value="4819" />
				<Property Name="StartLine" Value="1" />
				<Property Name="StartColumn" Value="1" />
				<Property Name="HeaderContents" Value="CREATE PROCEDURE [dbo].[DB_InboxCustomer_List]&#xD;&#xA;&#x9;@PageIndex [int] = 1,&#xD;&#xA;&#x9;@PageSize [int] = 10,&#xD;&#xA;&#x9;@TotalRecords [int] = 0 OUTPUT,&#xD;&#xA;&#x9;@Owner int,&#xD;&#xA;&#x9;@UpdatedId int,&#xD;&#xA;&#x9;@ProductId int=0, &#xD;&#xA;&#x9;@StowageFactorId int=0, &#xD;&#xA;    @QuantityId int=0, &#xD;&#xA;&#x9;@LoadPortId int=0,  &#xD;&#xA;&#x9;@LoadTerminalId int=0, &#xD;&#xA;&#x9;@DischargePortId int=0, &#xD;&#xA;&#x9;@DischargeTerminalId int=0, &#xD;&#xA;&#x9;@StartLaycan date=null,&#xD;&#xA;&#x9;@EndLaycan date=null,&#xD;&#xA;&#x9;@Status varchar(25)='REQUEST'&#xD;&#xA;AS" />
			</Annotation>
		</Element>
		<Element Type="SqlProcedure" Name="[dbo].[DB_InboxVessel_List]">
			<Property Name="BodyScript">
				<Value><![CDATA[
Begin


	/*------------------------------------------------------------------------------
		-- getting xml main list only range: records_[begin,end], setting record status.
		--------------------------------------------------------------------------------*/
		Select @TotalRecords=count(*) 
		From RequestForServices  
				Inner Join ServiceLiquidations On ServiceLiquidations.RequestForServiceId=RequestForServices.Id
				Inner Join Vessel On ServiceLiquidations.VesselId=Vessel.Id and Vessel.Owner=@Owner
		--Where ServiceLiquidations.Status=@Status
		------------------------------------------------------------------------------
		-- getting user list
		------------------------------------------------------------------------------						   
		Select ServiceLiquidations.Token, Products.Name as Product,RequestForServices.Quantity,RequestForServices.StartLaycan,RequestForServices.EndLaycan,
		  LoadPort.Name+ ' ,'+ LoadCountry.CodeInternational as LoadPort, UnLoadPort.Name+' ,'+ DischargeCountry.CodeInternational as UnLoadPort, LoadTerminal.Name as LoadTerminal,
		  UnLoadTerminal.Name as UnLoadTerminal,ServiceLiquidations.Status, ServiceLiquidations.Updated, RequestForServices.Id,
		  Vessel.Name as Vessel,dbo.GetStatusRequest(ServiceLiquidations.RequestForServiceId) as NewStatus,Vessel.Id as VesselId,
		  Products.Measure,Products.MeasureQuantity,dbo.GetNegotiationsOfRequestsForInbox(ServiceLiquidations.Id) as NegotiationsOfRequestToken,
		   Vessel.Token as VesselToken,(Select Count(1) from NegotiationsOfRequests where NegotiationsOfRequests.ServiceLiquidationId=ServiceLiquidations.Id) as hasNegotiationsOfRequests
		From RequestForServices
			Inner Join ServiceLiquidations On ServiceLiquidations.RequestForServiceId=RequestForServices.Id
			Inner Join Vessel On ServiceLiquidations.VesselId=Vessel.Id and Vessel.Owner=@Owner
			Inner Join Products On Products.Id=RequestForServices.ProductId
			Left Join StowageFactors On StowageFactors.Id=RequestForServices.StowageFactorId
			Left Join QuantityMT On QuantityMT.Id=RequestForServices.QuantityId
			--Inner Join Conditions On Conditions.Id=RequestForServices.ConditionId
			Inner Join Tolerance On Tolerance.Id=RequestForServices.ToleranceId
			Inner Join Ports as LoadPort On LoadPort.Id=RequestForServices.LoadPortId
			Inner Join Cities as LoadCitie On LoadPort.City=LoadCitie.CityId
			Inner Join Countries as LoadCountry On LoadCountry.CountryId=LoadCitie.CountryId
			Inner Join Ports as UnLoadPort On UnLoadPort.Id=RequestForServices.DischargePortId
			Inner Join Cities as DischargeCitie On UnLoadPort.City=DischargeCitie.CityId
			Inner Join Countries as DischargeCountry On DischargeCountry.CountryId=DischargeCitie.CountryId
			Inner Join Terminals as LoadTerminal On LoadTerminal.Id=RequestForServices.LoadTerminalId
			Inner Join Terminals as UnLoadTerminal On UnLoadTerminal.Id=RequestForServices.DischargeTerminalId
		Where 
			(Products.Id=@ProductId or @ProductId=0) 
			And (StowageFactors.Id=@StowageFactorId or @StowageFactorId=0) 
			And (QuantityMT.Id=@QuantityId or @QuantityId=0) 
			--And (Conditions.Id=@ConditionId or @ConditionId=0) 
			And (LoadPort.Id=@LoadPortId or @LoadPortId=0) 
			And (LoadTerminal.Id=@LoadTerminalId or @LoadTerminalId=0) 
			And (UnLoadPort.Id=@DischargePortId or @DischargePortId=0) 
			And (UnLoadTerminal.Id=@DischargeTerminalId or @DischargeTerminalId=0) 
			--And (RequestForServices.StartLaycan>=@StartLaycan or @StartLaycan=null) 
			--And (RequestForServices.EndLaycan<=@EndLaycan or @EndLaycan=null) 
			And ServiceLiquidations.Status!='PENDING'
		ORDER BY ServiceLiquidations.Id desc OFFSET (@PageIndex-1)*@PageSize ROWS FETCH FIRST @PageSize ROWS ONLY
		/*-- - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -*/
End]]></Value>
			</Property>
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Relationship Name="BodyDependencies">
				<Entry>
					<References Name="[dbo].[RequestForServices]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[ServiceLiquidations]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[ServiceLiquidations].[RequestForServiceId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[RequestForServices].[Id]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Vessel]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[ServiceLiquidations].[VesselId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Vessel].[Id]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Vessel].[Owner]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[DB_InboxVessel_List].[@Owner]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[DB_InboxVessel_List].[@TotalRecords]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Products]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Products].[Id]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[RequestForServices].[ProductId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[StowageFactors]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[StowageFactors].[Id]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[RequestForServices].[StowageFactorId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[QuantityMT]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[QuantityMT].[Id]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[RequestForServices].[QuantityId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Tolerance]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Tolerance].[Id]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[RequestForServices].[ToleranceId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Ports]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Ports].[Id]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[RequestForServices].[LoadPortId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Cities]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Ports].[City]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Cities].[CityId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Countries]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Countries].[CountryId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Cities].[CountryId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Ports].[Id]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[RequestForServices].[DischargePortId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Ports].[City]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Cities].[CityId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Countries].[CountryId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Cities].[CountryId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Terminals]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Terminals].[Id]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[RequestForServices].[LoadTerminalId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Terminals].[Id]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[RequestForServices].[DischargeTerminalId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[ServiceLiquidations].[Token]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Products].[Name]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[RequestForServices].[Quantity]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[RequestForServices].[StartLaycan]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[RequestForServices].[EndLaycan]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Ports].[Name]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Countries].[CodeInternational]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Ports].[Name]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Countries].[CodeInternational]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Terminals].[Name]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Terminals].[Name]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[ServiceLiquidations].[Status]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[ServiceLiquidations].[Updated]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[RequestForServices].[Id]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Vessel].[Name]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[ServiceLiquidations].[RequestForServiceId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[GetStatusRequest]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Vessel].[Id]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Products].[Measure]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Products].[MeasureQuantity]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[ServiceLiquidations].[Id]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[GetNegotiationsOfRequestsForInbox]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Vessel].[Token]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[NegotiationsOfRequests]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[NegotiationsOfRequests].[ServiceLiquidationId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[ServiceLiquidations].[Id]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Products].[Id]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[DB_InboxVessel_List].[@ProductId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[StowageFactors].[Id]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[DB_InboxVessel_List].[@StowageFactorId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[QuantityMT].[Id]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[DB_InboxVessel_List].[@QuantityId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Ports].[Id]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[DB_InboxVessel_List].[@LoadPortId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[DB_InboxVessel_List].[@LoadTerminalId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Ports].[Id]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[DB_InboxVessel_List].[@DischargePortId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[DB_InboxVessel_List].[@DischargeTerminalId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[DB_InboxVessel_List].[@PageIndex]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[DB_InboxVessel_List].[@PageSize]" />
				</Entry>
			</Relationship>
			<Relationship Name="Parameters">
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[DB_InboxVessel_List].[@PageIndex]">
						<Property Name="DefaultExpressionScript">
							<Value><![CDATA[1]]></Value>
						</Property>
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[DB_InboxVessel_List].[@PageSize]">
						<Property Name="DefaultExpressionScript">
							<Value><![CDATA[10]]></Value>
						</Property>
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[DB_InboxVessel_List].[@TotalRecords]">
						<Property Name="IsOutput" Value="True" />
						<Property Name="DefaultExpressionScript">
							<Value><![CDATA[0]]></Value>
						</Property>
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[DB_InboxVessel_List].[@Owner]">
						<Property Name="DefaultExpressionScript">
							<Value><![CDATA[52]]></Value>
						</Property>
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[DB_InboxVessel_List].[@UpdatedId]">
						<Property Name="DefaultExpressionScript">
							<Value><![CDATA[52]]></Value>
						</Property>
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[DB_InboxVessel_List].[@ProductId]">
						<Property Name="DefaultExpressionScript">
							<Value><![CDATA[0]]></Value>
						</Property>
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[DB_InboxVessel_List].[@StowageFactorId]">
						<Property Name="DefaultExpressionScript">
							<Value><![CDATA[0]]></Value>
						</Property>
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[DB_InboxVessel_List].[@QuantityId]">
						<Property Name="DefaultExpressionScript">
							<Value><![CDATA[0]]></Value>
						</Property>
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[DB_InboxVessel_List].[@LoadPortId]">
						<Property Name="DefaultExpressionScript">
							<Value><![CDATA[0]]></Value>
						</Property>
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[DB_InboxVessel_List].[@LoadTerminalId]">
						<Property Name="DefaultExpressionScript">
							<Value><![CDATA[0]]></Value>
						</Property>
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[DB_InboxVessel_List].[@DischargePortId]">
						<Property Name="DefaultExpressionScript">
							<Value><![CDATA[0]]></Value>
						</Property>
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[DB_InboxVessel_List].[@DischargeTerminalId]">
						<Property Name="DefaultExpressionScript">
							<Value><![CDATA[0]]></Value>
						</Property>
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[DB_InboxVessel_List].[@StartLaycan]">
						<Property Name="DefaultExpressionScript">
							<Value><![CDATA[null]]></Value>
						</Property>
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[date]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[DB_InboxVessel_List].[@EndLaycan]">
						<Property Name="DefaultExpressionScript">
							<Value><![CDATA[null]]></Value>
						</Property>
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[date]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[DB_InboxVessel_List].[@Status]">
						<Property Name="DefaultExpressionScript">
							<Value><![CDATA['REQUEST']]></Value>
						</Property>
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Property Name="Length" Value="25" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[varchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="Schema">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<Annotation Type="SysCommentsObjectAnnotation">
				<Property Name="Length" Value="4262" />
				<Property Name="StartLine" Value="1" />
				<Property Name="StartColumn" Value="1" />
				<Property Name="HeaderContents" Value="CREATE PROCEDURE [dbo].[DB_InboxVessel_List]&#xD;&#xA;&#x9;@PageIndex [int] = 1,&#xD;&#xA;&#x9;@PageSize [int] = 10,&#xD;&#xA;&#x9;@TotalRecords [int] = 0 OUTPUT,&#xD;&#xA;&#x9;@Owner int=52,&#xD;&#xA;&#x9;@UpdatedId int=52,&#xD;&#xA;&#x9;@ProductId int=0, &#xD;&#xA;&#x9;@StowageFactorId int=0, &#xD;&#xA;    @QuantityId int=0, &#xD;&#xA;&#x9;@LoadPortId int=0,  &#xD;&#xA;&#x9;@LoadTerminalId int=0, &#xD;&#xA;&#x9;@DischargePortId int=0, &#xD;&#xA;&#x9;@DischargeTerminalId int=0, &#xD;&#xA;&#x9;@StartLaycan date=null,&#xD;&#xA;&#x9;@EndLaycan date=null,&#xD;&#xA;&#x9;@Status varchar(25)='REQUEST'&#xD;&#xA;AS" />
			</Annotation>
		</Element>
		<Element Type="SqlProcedure" Name="[dbo].[DB_ItemsLiquidationForServices_List]">
			<Property Name="BodyScript">
				<Value><![CDATA[
Begin


	/*------------------------------------------------------------------------------
		-- getting xml main list only range: records_[begin,end], setting record status.
		--------------------------------------------------------------------------------*/
		Declare @ServiceLiquidationId int,@Price money,@Quantity int,@Total money,@PriceMTNew money,@PriceMT money
		Declare @TotalCurrentPort money,@TotalLoadingPort money,@TotalCanalPanama money,@TotalCanalPanamaDischarge money,@TotalLoadPortAtUnloadingPort money,@TotalUnLoadPort money
		Declare @CurrentPortName varchar(250),@LoadingPortName varchar(250),@UnLoadPortName varchar(250)
		Select @ServiceLiquidationId= Id From ServiceLiquidations Where Token=@Token
		------------------------------------------------------------------------------
		-- getting user list
		------------------------------------------------------------------------------	
		
		Select Top 1  @Quantity=Quantity 
		From ServiceLiquidations
				 Inner Join RequestForServices On RequestForServices.Id=ServiceLiquidations.RequestForServiceId
		Where ServiceLiquidations.Token=@Token

		Select @Price=dbo.GetTotalVessel(ServiceLiquidations.VesselId,ServiceLiquidations.Id)/@Quantity
			  ,@PriceMTNew=PriceMTNew
			  ,@PriceMT=PriceMT
	          ,@Total=dbo.GetTotalVessel(ServiceLiquidations.VesselId,ServiceLiquidations.Id)
	          ,@TotalCurrentPort=dbo.GetTotalCurrentPort(ServiceLiquidations.VesselId,ServiceLiquidations.Id)
	          ,@TotalLoadingPort=dbo.GetTotalLoadingPort(ServiceLiquidations.VesselId,ServiceLiquidations.Id)
	          ,@TotalCanalPanama=dbo.GetTotalCanalPanama(ServiceLiquidations.VesselId,ServiceLiquidations.Id)
	          ,@TotalCanalPanamaDischarge=dbo.GetTotalCanalPanamaDischarge(ServiceLiquidations.VesselId,ServiceLiquidations.Id)
	          ,@TotalLoadPortAtUnloadingPort=dbo.GetTotalLoadPortAtUnloadingPort(ServiceLiquidations.VesselId,ServiceLiquidations.Id)
	          ,@TotalUnLoadPort=dbo.GetTotalUnLoadPort(ServiceLiquidations.VesselId,ServiceLiquidations.Id)
		From ServiceLiquidations 
		Where Token=@Token				
			   
		SELECT ItemsLiquidation.Route
			  ,Vessel.Token as VesselToken
			  ,Isnull(ItemsLiquidation.CurrentPortAtLoadPort,0) as CurrentPortAtLoadPort
			  ,ItemsLiquidation.LoadingPort
			  ,CanalPanama
			  ,ItemsLiquidation.LoadPortAtUnloadingPort
			  ,CanalPanamaDischarge 
			  ,ItemsLiquidation.UnLoadPort
			  ,ItemsLiquidation.IsPrice
			  ,ItemsLiquidation.Creation
			  ,ItemsLiquidation.Updated
			  ,ItemsLiquidation.IsActive
			  ,ItemsLiquidation.UpdatedId
			  ,Isnull(ItemsLiquidation.CurrentPortAtLoadPort,0)+ItemsLiquidation.LoadingPort+CanalPanama+ItemsLiquidation.LoadPortAtUnloadingPort+ItemsLiquidation.CanalPanamaDischarge+ItemsLiquidation.UnLoadPort as ItemTotal
			  ,ItemsLiquidation.Type
			  ,@Price as Price
			  ,Isnull(@PriceMT,@Price) as PriceMT 
			  ,Isnull(@PriceMTNew,@Price) as PriceMTNew 
			  ,@Quantity as Quantity
			  ,@Total as Total
			  ,@TotalCurrentPort as TotalCurrentPort
			  ,@TotalLoadingPort as TotalLoadingPort
			  ,@TotalCanalPanama as TotalCanalPanama
			  ,@TotalCanalPanamaDischarge as TotalCanalPanamaDischarge
			  ,@TotalLoadPortAtUnloadingPort as TotalLoadPortAtUnloadingPort
			  ,@TotalUnLoadPort as TotalUnLoadPort
			  ,RequestForServices.Token AS TokenParent
			  ,ServiceLiquidations.Status as ServiceStatus
			  , @TotalCurrentPort+@TotalLoadingPort+@TotalCanalPanama+@TotalLoadPortAtUnloadingPort+@TotalCanalPanamaDischarge+@TotalUnLoadPort as SumTotal,
			  IsCurrentPort,ItemsLiquidation.Token as TokenLiquidation
		FROM [dbo].[ItemsLiquidation]
			Inner Join ServiceLiquidations On ServiceLiquidations.Id=ItemsLiquidation.ServiceLiquidationId
			Inner Join Vessel On Vessel.Id=ItemsLiquidation.VesselId
			Inner Join RequestForServices On RequestForServices.Id=ServiceLiquidations.RequestForServiceId
		Where ServiceLiquidationId=@ServiceLiquidationId
		/*-- - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -*/
End]]></Value>
			</Property>
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Relationship Name="BodyDependencies">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[int]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[money]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[int]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[money]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[money]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[money]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[money]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[money]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[money]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[money]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[money]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[money]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[varchar]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[varchar]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[varchar]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[ServiceLiquidations]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[ServiceLiquidations].[Id]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[ServiceLiquidations].[Token]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[DB_ItemsLiquidationForServices_List].[@Token]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[RequestForServices]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[RequestForServices].[Id]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[ServiceLiquidations].[RequestForServiceId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[RequestForServices].[Quantity]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[ServiceLiquidations].[Token]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[GetTotalVessel]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[ServiceLiquidations].[VesselId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[ServiceLiquidations].[Id]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[ServiceLiquidations].[PriceMTNew]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[ServiceLiquidations].[PriceMT]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[GetTotalCurrentPort]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[GetTotalLoadingPort]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[GetTotalCanalPanama]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[GetTotalCanalPanamaDischarge]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[GetTotalLoadPortAtUnloadingPort]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[GetTotalUnLoadPort]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[ItemsLiquidation]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[ServiceLiquidations].[Id]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[ItemsLiquidation].[ServiceLiquidationId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Vessel]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Vessel].[Id]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[ItemsLiquidation].[VesselId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[RequestForServices].[Id]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[ServiceLiquidations].[RequestForServiceId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[ItemsLiquidation].[Route]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Vessel].[Token]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[ItemsLiquidation].[CurrentPortAtLoadPort]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[ItemsLiquidation].[LoadingPort]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[ItemsLiquidation].[CanalPanama]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[ItemsLiquidation].[LoadPortAtUnloadingPort]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[ItemsLiquidation].[CanalPanamaDischarge]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[ItemsLiquidation].[UnLoadPort]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[ItemsLiquidation].[IsPrice]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[ItemsLiquidation].[Creation]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[ItemsLiquidation].[Updated]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[ItemsLiquidation].[IsActive]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[ItemsLiquidation].[UpdatedId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[ItemsLiquidation].[CanalPanamaDischarge]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[ItemsLiquidation].[Type]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[RequestForServices].[Token]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[ServiceLiquidations].[Status]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[ItemsLiquidation].[IsCurrentPort]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[ItemsLiquidation].[Token]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[ItemsLiquidation].[ServiceLiquidationId]" />
				</Entry>
			</Relationship>
			<Relationship Name="Parameters">
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[DB_ItemsLiquidationForServices_List].[@Token]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[uniqueidentifier]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[DB_ItemsLiquidationForServices_List].[@UpdatedId]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="Schema">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<Annotation Type="SysCommentsObjectAnnotation">
				<Property Name="CreateOffset" Value="82" />
				<Property Name="Length" Value="4266" />
				<Property Name="StartLine" Value="1" />
				<Property Name="StartColumn" Value="1" />
				<Property Name="HeaderContents" Value="-- DB_ItemsLiquidationForServices_List '0986841B-C977-4317-8F98-81B392298AE3',51&#xD;&#xA;CREATE PROCEDURE [dbo].[DB_ItemsLiquidationForServices_List]&#xD;&#xA;&#x9;@Token uniqueidentifier,&#xD;&#xA;&#x9;@UpdatedId int&#xD;&#xA;AS" />
			</Annotation>
		</Element>
		<Element Type="SqlProcedure" Name="[dbo].[DB_Negotiation_Get]">
			<Property Name="BodyScript">
				<Value><![CDATA[
BEGIN
    -- SET NOCOUNT ON added to prevent extra result sets from
    -- interfering with SELECT statements.
    SET NOCOUNT ON
	Declare  @sError  Varchar(Max)  ,@IsErrorTecnichal int,@ServiceLiquidationId int,@Id int
	Execute C_Parameter_Get @CodeParameter= 'ERROR_TECNICHAL', @Value= @IsErrorTecnichal OUTPUT
	
	Select NegotiationsOfRequests.id,NegotiationsOfRequests.ServiceLiquidationId, NegotiationsOfRequests.Status,NegotiationsOfRequests.Token,
	      NegotiationsOfRequests.IsActive,NegotiationsOfRequests.UpdatedId,ServiceLiquidations.Token as ServiceLiquidationToken, 
		   (Select DetailNegotiationsOfRequests.id, DetailNegotiationsOfRequests.Token,DetailNegotiationsOfRequests.NegotiationsOfRequestId,
				   DetailNegotiationsOfRequests.IsModify,DetailNegotiationsOfRequests.Observation
			From DetailNegotiationsOfRequests
					Inner Join NegotiationsOfRequests On NegotiationsOfRequests.Id=DetailNegotiationsOfRequests.NegotiationsOfRequestId
					Inner Join ServiceLiquidations On ServiceLiquidations.Id=NegotiationsOfRequests.ServiceLiquidationId
			Where ServiceLiquidations.Token=@Token FOR JSON PATH, ROOT('DetailNegotiation')) as DetailNegotiation
	From NegotiationsOfRequests
			Inner Join ServiceLiquidations On ServiceLiquidations.Id=NegotiationsOfRequests.ServiceLiquidationId
	Where ServiceLiquidations.Token=@Token
END]]></Value>
			</Property>
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Relationship Name="BodyDependencies">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[varchar]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[int]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[int]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[int]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[C_Parameter_Get]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[C_Parameter_Get].[@CodeParameter]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[C_Parameter_Get].[@Value]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[NegotiationsOfRequests]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[ServiceLiquidations]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[ServiceLiquidations].[Id]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[NegotiationsOfRequests].[ServiceLiquidationId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[NegotiationsOfRequests].[Id]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[NegotiationsOfRequests].[Status]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[NegotiationsOfRequests].[Token]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[NegotiationsOfRequests].[IsActive]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[NegotiationsOfRequests].[UpdatedId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[ServiceLiquidations].[Token]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[DetailNegotiationsOfRequests]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[NegotiationsOfRequests]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[NegotiationsOfRequests].[Id]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[DetailNegotiationsOfRequests].[NegotiationsOfRequestId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[ServiceLiquidations]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[ServiceLiquidations].[Id]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[NegotiationsOfRequests].[ServiceLiquidationId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[DetailNegotiationsOfRequests].[Id]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[DetailNegotiationsOfRequests].[Token]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[DetailNegotiationsOfRequests].[NegotiationsOfRequestId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[DetailNegotiationsOfRequests].[IsModify]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[DetailNegotiationsOfRequests].[Observation]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[ServiceLiquidations].[Token]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[DB_Negotiation_Get].[@Token]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[ServiceLiquidations].[Token]" />
				</Entry>
			</Relationship>
			<Relationship Name="Parameters">
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[DB_Negotiation_Get].[@Token]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[uniqueidentifier]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="Schema">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<Annotation Type="SysCommentsObjectAnnotation">
				<Property Name="CreateOffset" Value="204" />
				<Property Name="Length" Value="1703" />
				<Property Name="StartLine" Value="1" />
				<Property Name="StartColumn" Value="1" />
				<Property Name="HeaderContents" Value="-- =============================================&#xD;&#xA;-- Author:      &lt;Author, , Name&gt;&#xD;&#xA;-- Create Date: &lt;Create Date, , &gt;&#xD;&#xA;-- Description: &lt;Description, , &gt;&#xD;&#xA;-- =============================================&#xD;&#xA;CREATE PROCEDURE DB_Negotiation_Get&#xD;&#xA;(&#xD;&#xA;    -- Add the parameters for the stored procedure here&#xD;&#xA;     @Token uniqueidentifier&#xD;&#xA;)&#xD;&#xA;AS" />
			</Annotation>
		</Element>
		<Element Type="SqlProcedure" Name="[dbo].[DB_Negotiation_Save]">
			<Property Name="BodyScript">
				<Value><![CDATA[
BEGIN
    -- SET NOCOUNT ON added to prevent extra result sets from
    -- interfering with SELECT statements.
    SET NOCOUNT ON
	Declare  @sError  Varchar(Max)  ,@IsErrorTecnichal int,@ServiceLiquidationId int,@Id int
	Execute C_Parameter_Get @CodeParameter= 'ERROR_TECNICHAL', @Value= @IsErrorTecnichal OUTPUT
	Begin Try
		Select @ServiceLiquidationId=Id 
		From ServiceLiquidations where ServiceLiquidations.Token=@ServiceLiquidationToken
	Begin Transaction
		if Exists(Select top 1 * from NegotiationsOfRequests Where ServiceLiquidationId=@ServiceLiquidationId and NegotiationsOfRequests.Status='TOCUSTOMER')
		Begin
			INSERT INTO [dbo].[HistoryNegotiationsOfRequests]
			([NegotiationsOfRequestId]
			,[Observation]
			,[IsModify]
			,[IsActive])
			Select NegotiationsOfRequestId,Observation,IsModify,DetailNegotiationsOfRequests.IsActive
			from DetailNegotiationsOfRequests
						Inner Join NegotiationsOfRequests On NegotiationsOfRequests.Id=DetailNegotiationsOfRequests.NegotiationsOfRequestId
			where ServiceLiquidationId=@ServiceLiquidationId

			Delete DetailNegotiationsOfRequests
			from DetailNegotiationsOfRequests
						Inner Join NegotiationsOfRequests On NegotiationsOfRequests.Id=DetailNegotiationsOfRequests.NegotiationsOfRequestId
			where ServiceLiquidationId=@ServiceLiquidationId
		End
		if Not Exists(Select Top 1 NegotiationsOfRequests.Id From NegotiationsOfRequests
								Inner Join ServiceLiquidations On ServiceLiquidations.Id=NegotiationsOfRequests.ServiceLiquidationId
						Where NegotiationsOfRequests.ServiceLiquidationId=@ServiceLiquidationId)
		Begin
			-- Insert statements for procedure here
			INSERT INTO [dbo].[NegotiationsOfRequests]
						([ServiceLiquidationId]
						,[IsActive]
						,[UpdatedId],Status)
			VALUES
				(@ServiceLiquidationId
				,@IsActive
				,@UpdatedId,'TOVESSEL')
			Set @Id=SCOPE_IDENTITY()
		End
		else
		Begin
			Update NegotiationsOfRequests
			Set Status='TOCUSTOMER',
			    Updated=getdate(),
				UpdatedId=@UpdatedId
			From NegotiationsOfRequests
					Inner Join ServiceLiquidations On ServiceLiquidations.Id=NegotiationsOfRequests.ServiceLiquidationId
		    Where NegotiationsOfRequests.ServiceLiquidationId=@ServiceLiquidationId
		End
	Commit Transaction
	End Try
	Begin Catch
		-- there was an error
		If XACT_STATE() =-1
		Begin
    			Rollback WORK
		End
		If @@trancount >0
		Begin
    			Rollback WORK
		End
		If XACT_STATE() = 1
		Begin
    			Commit WORK
		End
		--Getting the error description
		Set @sError  =   ERROR_MESSAGE()
		if @IsErrorTecnichal=1
		Begin
			Set @sError  =   ERROR_PROCEDURE() + 
					';  ' + convert(varchar,ERROR_LINE()) + 
					'; ' + ERROR_MESSAGE()
		End 
		RaisError (@sError,16,1) 
		Return
	End Catch

	Select @Id
END]]></Value>
			</Property>
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Relationship Name="BodyDependencies">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[varchar]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[int]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[int]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[int]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[C_Parameter_Get]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[C_Parameter_Get].[@CodeParameter]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[C_Parameter_Get].[@Value]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[ServiceLiquidations]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[ServiceLiquidations].[Id]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[ServiceLiquidations].[Token]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[DB_Negotiation_Save].[@ServiceLiquidationToken]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[NegotiationsOfRequests]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[NegotiationsOfRequests].[ServiceLiquidationId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[NegotiationsOfRequests].[Status]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[HistoryNegotiationsOfRequests]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[HistoryNegotiationsOfRequests].[NegotiationsOfRequestId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[HistoryNegotiationsOfRequests].[Observation]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[HistoryNegotiationsOfRequests].[IsModify]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[HistoryNegotiationsOfRequests].[IsActive]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[DetailNegotiationsOfRequests]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[NegotiationsOfRequests]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[NegotiationsOfRequests].[Id]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[DetailNegotiationsOfRequests].[NegotiationsOfRequestId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[DetailNegotiationsOfRequests].[NegotiationsOfRequestId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[DetailNegotiationsOfRequests].[Observation]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[DetailNegotiationsOfRequests].[IsModify]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[DetailNegotiationsOfRequests].[IsActive]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[NegotiationsOfRequests].[ServiceLiquidationId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[ServiceLiquidations]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[ServiceLiquidations].[Id]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[NegotiationsOfRequests].[ServiceLiquidationId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[NegotiationsOfRequests].[Id]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[NegotiationsOfRequests].[ServiceLiquidationId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[NegotiationsOfRequests].[IsActive]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[NegotiationsOfRequests].[UpdatedId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[NegotiationsOfRequests].[Status]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[DB_Negotiation_Save].[@IsActive]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[DB_Negotiation_Save].[@UpdatedId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[ServiceLiquidations].[Id]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[NegotiationsOfRequests].[ServiceLiquidationId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[NegotiationsOfRequests].[Updated]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[varchar]" />
				</Entry>
			</Relationship>
			<Relationship Name="Parameters">
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[DB_Negotiation_Save].[@ServiceLiquidationToken]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[uniqueidentifier]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[DB_Negotiation_Save].[@IsActive]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[bit]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[DB_Negotiation_Save].[@UpdatedId]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="Schema">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<Annotation Type="SysCommentsObjectAnnotation">
				<Property Name="CreateOffset" Value="204" />
				<Property Name="Length" Value="3224" />
				<Property Name="StartLine" Value="1" />
				<Property Name="StartColumn" Value="1" />
				<Property Name="HeaderContents" Value="-- =============================================&#xD;&#xA;-- Author:      &lt;Author, , Name&gt;&#xD;&#xA;-- Create Date: &lt;Create Date, , &gt;&#xD;&#xA;-- Description: &lt;Description, , &gt;&#xD;&#xA;-- =============================================&#xD;&#xA;CREATE PROCEDURE [dbo].[DB_Negotiation_Save]&#xD;&#xA;(&#xD;&#xA;    -- Add the parameters for the stored procedure here&#xD;&#xA;    @ServiceLiquidationToken uniqueidentifier,&#xD;&#xA;    @IsActive bit,&#xD;&#xA;&#x9;@UpdatedId int&#xD;&#xA;)&#xD;&#xA;AS" />
			</Annotation>
		</Element>
		<Element Type="SqlProcedure" Name="[dbo].[DB_NegotiationHistory_Get]">
			<Property Name="BodyScript">
				<Value><![CDATA[
BEGIN
    -- SET NOCOUNT ON added to prevent extra result sets from
    -- interfering with SELECT statements.
    SET NOCOUNT ON
	Declare  @sError  Varchar(Max)  ,@IsErrorTecnichal int,@ServiceLiquidationId int,@Id int
	Execute C_Parameter_Get @CodeParameter= 'ERROR_TECNICHAL', @Value= @IsErrorTecnichal OUTPUT
	
	Select NegotiationsOfRequests.id,NegotiationsOfRequests.ServiceLiquidationId, NegotiationsOfRequests.Status,NegotiationsOfRequests.Token,
	      NegotiationsOfRequests.IsActive,NegotiationsOfRequests.UpdatedId,ServiceLiquidations.Token as ServiceLiquidationToken, 
		   (Select  DetailNegotiationsOfRequests.Observation,HistoryNegotiationsOfRequests.Observation as OldObservation
			From DetailNegotiationsOfRequests
					Inner Join NegotiationsOfRequests On NegotiationsOfRequests.Id=DetailNegotiationsOfRequests.NegotiationsOfRequestId
					Inner Join ServiceLiquidations On ServiceLiquidations.Id=NegotiationsOfRequests.ServiceLiquidationId
					Inner Join HistoryNegotiationsOfRequests on HistoryNegotiationsOfRequests.NegotiationsOfRequestId=NegotiationsOfRequests.Id
			Where ServiceLiquidations.Token=@Token FOR JSON PATH, ROOT('History')) as DetailNegotiation
	From NegotiationsOfRequests
			Inner Join ServiceLiquidations On ServiceLiquidations.Id=NegotiationsOfRequests.ServiceLiquidationId
	Where ServiceLiquidations.Token=@Token
END]]></Value>
			</Property>
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Relationship Name="BodyDependencies">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[varchar]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[int]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[int]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[int]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[C_Parameter_Get]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[C_Parameter_Get].[@CodeParameter]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[C_Parameter_Get].[@Value]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[NegotiationsOfRequests]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[ServiceLiquidations]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[ServiceLiquidations].[Id]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[NegotiationsOfRequests].[ServiceLiquidationId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[NegotiationsOfRequests].[Id]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[NegotiationsOfRequests].[Status]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[NegotiationsOfRequests].[Token]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[NegotiationsOfRequests].[IsActive]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[NegotiationsOfRequests].[UpdatedId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[ServiceLiquidations].[Token]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[DetailNegotiationsOfRequests]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[NegotiationsOfRequests]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[NegotiationsOfRequests].[Id]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[DetailNegotiationsOfRequests].[NegotiationsOfRequestId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[ServiceLiquidations]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[ServiceLiquidations].[Id]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[NegotiationsOfRequests].[ServiceLiquidationId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[HistoryNegotiationsOfRequests]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[HistoryNegotiationsOfRequests].[NegotiationsOfRequestId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[NegotiationsOfRequests].[Id]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[DetailNegotiationsOfRequests].[Observation]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[HistoryNegotiationsOfRequests].[Observation]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[ServiceLiquidations].[Token]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[DB_NegotiationHistory_Get].[@Token]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[ServiceLiquidations].[Token]" />
				</Entry>
			</Relationship>
			<Relationship Name="Parameters">
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[DB_NegotiationHistory_Get].[@Token]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[uniqueidentifier]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="Schema">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<Annotation Type="SysCommentsObjectAnnotation">
				<Property Name="CreateOffset" Value="272" />
				<Property Name="Length" Value="1799" />
				<Property Name="StartLine" Value="1" />
				<Property Name="StartColumn" Value="1" />
				<Property Name="HeaderContents" Value="-- =============================================&#xD;&#xA;-- Author:      &lt;Author, , Name&gt;&#xD;&#xA;-- Create Date: &lt;Create Date, , &gt;&#xD;&#xA;-- Description: &lt;Description, , &gt;&#xD;&#xA;-- =============================================&#xD;&#xA;--DB_NegotiationHistory_Get '7f72641a-347f-4409-80c1-058b37bee917'&#xD;&#xA;CREATE PROCEDURE [dbo].[DB_NegotiationHistory_Get]&#xD;&#xA;(&#xD;&#xA;    -- Add the parameters for the stored procedure here&#xD;&#xA;     @Token uniqueidentifier&#xD;&#xA;)&#xD;&#xA;AS" />
			</Annotation>
		</Element>
		<Element Type="SqlProcedure" Name="[dbo].[DB_Port_Delete]">
			<Property Name="BodyScript">
				<Value><![CDATA[
Begin

	--------------------------------------------------------------------------------
	Declare  @sError Varchar(Max) ,@IsErrorTecnichal int
	Execute C_Parameter_Get @CodeParameter= 'ERROR_TECNICHAL', @Value= @IsErrorTecnichal OUTPUT
	--------------------------------------------------------------------------------
	-- Validating parameters
	--------------------------------------------------------------------------------
	--------------------------------------------------------------------------------
	-- Activate/Inactivate Record
	--------------------------------------------------------------------------------
	Begin Try
	If Exists (Select top 1 * 
			   From dbo.Terminals
					Inner Join Ports On Ports.Id=dbo.Terminals.PortId
			   Where dbo.Ports.Token= @Token)
	Begin
		RaisError('Relationship of row with other table',16,1)
		Return
	End
	Begin Transaction
			
			Delete Distance From DistanceBetweenPorts as Distance
				   Inner Join Ports as PortInput On PortInput.Id=Distance.InputPortId
			Where PortInput.Token= @Token

			Delete Distance From DistanceBetweenPorts as Distance
				   Inner Join Ports as PortOutput On PortOutput.Id=Distance.OutPutPortId
			Where PortOutput.Token= @Token

			Delete From dbo.Ports 
			Where Token= @Token

			-- check for errors
			If @@rowcount= 0 
			Begin 
    			RaisError('SQLDELETE_FAILD',16,1)
			End 

	-- if we reach here, success!
	Commit Transaction
	End Try
	Begin Catch
			-- there was an error
			If XACT_STATE() =-1
			Begin
    				Rollback WORK
			End
			If @@trancount >0
			Begin
    				Rollback WORK
			End
			If XACT_STATE() = 1
			Begin
    				Commit WORK
			End
			--Getting the error description
			Set @sError  =   ERROR_MESSAGE()
			if @IsErrorTecnichal=1
			Begin
				Set @sError  =  ERROR_PROCEDURE() + 
					';  ' + convert(varchar,ERROR_LINE()) + 
					'; ' + ERROR_MESSAGE()
			End 
			--Getting the error description
			RaisError (@sError,16,1) 
			Return  
	End Catch
	--------------------------------------------------------------------------------
	-- Returning a Value
	--------------------------------------------------------------------------------
	Select  1
	-- - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -
End]]></Value>
			</Property>
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Relationship Name="BodyDependencies">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[varchar]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[int]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[C_Parameter_Get]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[C_Parameter_Get].[@CodeParameter]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[C_Parameter_Get].[@Value]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Terminals]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Ports]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Ports].[Id]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Terminals].[PortId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Ports].[Token]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[DB_Port_Delete].[@Token]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[DistanceBetweenPorts]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Ports]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Ports].[Id]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[DistanceBetweenPorts].[InputPortId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Ports].[Token]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Ports].[Id]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[DistanceBetweenPorts].[OutPutPortId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Ports].[Token]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Ports].[Token]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[varchar]" />
				</Entry>
			</Relationship>
			<Relationship Name="Parameters">
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[DB_Port_Delete].[@Token]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[uniqueidentifier]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="Schema">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<Annotation Type="SysCommentsObjectAnnotation">
				<Property Name="Length" Value="2404" />
				<Property Name="StartLine" Value="1" />
				<Property Name="StartColumn" Value="1" />
				<Property Name="HeaderContents" Value="CREATE PROCEDURE [dbo].[DB_Port_Delete]&#xD;&#xA;&#x9;@Token uniqueidentifier&#xD;&#xA;--WITH ENCRYPTION&#xD;&#xA;AS" />
			</Annotation>
		</Element>
		<Element Type="SqlProcedure" Name="[dbo].[DB_Port_Get]">
			<Property Name="BodyScript">
				<Value><![CDATA[
BEGIN
		------------------------------------------------------------------------------
		-- Declaring tables
		------------------------------------------------------------------------------
		SELECT Ports.*,Countries.CountryId
		FROM Ports
			Inner Join Cities On Cities.CityId=Ports.City
			Inner Join Countries On Countries.CountryId=Cities.CountryId
		Where Ports.Token= @Token
		-- - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -
END]]></Value>
			</Property>
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Relationship Name="BodyDependencies">
				<Entry>
					<References Name="[dbo].[Ports]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Cities]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Cities].[CityId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Ports].[City]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Countries]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Countries].[CountryId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Cities].[CountryId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Ports].[Token]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[DB_Port_Get].[@Token]" />
				</Entry>
			</Relationship>
			<Relationship Name="Parameters">
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[DB_Port_Get].[@Token]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[uniqueidentifier]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="Schema">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<Annotation Type="SysCommentsObjectAnnotation">
				<Property Name="Length" Value="562" />
				<Property Name="StartLine" Value="1" />
				<Property Name="StartColumn" Value="1" />
				<Property Name="HeaderContents" Value="CREATE PROCEDURE [dbo].[DB_Port_Get]&#xD;&#xA;&#x9;@Token uniqueidentifier&#xD;&#xA;--WITH ENCRYPTION&#xD;&#xA;AS" />
			</Annotation>
		</Element>
		<Element Type="SqlProcedure" Name="[dbo].[DB_Port_List]">
			<Property Name="BodyScript">
				<Value><![CDATA[

	/*------------------------------------------------------------------------------
		-- getting xml main list only range: records_[begin,end], setting record status.
		--------------------------------------------------------------------------------*/
		Select @TotalRecords=count(*) From Ports
		------------------------------------------------------------------------------
		-- getting user list
		------------------------------------------------------------------------------		
		if(@isActive=-1)
		Begin				   
			SELECT [Id]
				  ,Ports.Token
				  ,[Name]+', '+Countries.CodeInternational as Name
				  ,[Address]
				  ,[Phone]
				  ,Ports.City
				  ,Cities.City as CityName
				  ,[Ifo]
				  ,[Mgo]
				  ,[Terms]
				  ,[Creation]
				  ,Ports.Updated
				  ,Ports.IsActive
				  ,Ports.UpdatedId
			  FROM dbo.Ports
				 Inner Join Cities On Ports.City=Cities.CityId
				 Inner Join Countries On Countries.CountryId=Cities.CountryId
			Where (Ports.Name like '%'+ @Filter  +'%' or Isnull(@Filter,'')='') 
			And dbo.Ports.IsActive=1
			ORDER BY Name asc, CURRENT_TIMESTAMP OFFSET (@PageIndex-1)*@PageSize ROWS FETCH FIRST @PageSize ROWS ONLY
		End
		Else
		Begin
			SELECT [Id]
				  ,Ports.Token
				  ,[Name]+', '+Countries.CodeInternational as Name
				  ,[Address]
				  ,[Phone]
				  ,Ports.City
				  ,Cities.City as CityName
				  ,[Ifo]
				  ,[Mgo]
				  ,[Terms]
				  ,[Creation]
				  ,Ports.Updated
				  ,Ports.IsActive
				  ,Ports.UpdatedId
			  FROM dbo.Ports
				 Inner Join Cities On Ports.City=Cities.CityId
				 Inner Join Countries On Countries.CountryId=Cities.CountryId
			Where (Ports.Name like '%'+ @Filter  +'%' or Isnull(@Filter,'')='') 
					
			ORDER BY Name asc, CURRENT_TIMESTAMP OFFSET (@PageIndex-1)*@PageSize ROWS FETCH FIRST @PageSize ROWS ONLY
		End
		/*-- - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -*/]]></Value>
			</Property>
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Relationship Name="BodyDependencies">
				<Entry>
					<References Name="[dbo].[Ports]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[DB_Port_List].[@TotalRecords]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[DB_Port_List].[@isActive]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Cities]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Ports].[City]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Cities].[CityId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Countries]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Countries].[CountryId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Cities].[CountryId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Ports].[Id]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Ports].[Token]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Ports].[Name]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Countries].[CodeInternational]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Ports].[Address]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Ports].[Phone]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Ports].[City]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Cities].[City]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Ports].[Ifo]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Ports].[Mgo]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Ports].[Terms]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Ports].[Creation]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Ports].[Updated]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Ports].[IsActive]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Ports].[UpdatedId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Ports].[Name]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[DB_Port_List].[@Filter]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Ports].[IsActive]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[DB_Port_List].[@PageIndex]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[DB_Port_List].[@PageSize]" />
				</Entry>
			</Relationship>
			<Relationship Name="Parameters">
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[DB_Port_List].[@PageIndex]">
						<Property Name="DefaultExpressionScript">
							<Value><![CDATA[1]]></Value>
						</Property>
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[DB_Port_List].[@PageSize]">
						<Property Name="DefaultExpressionScript">
							<Value><![CDATA[10]]></Value>
						</Property>
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[DB_Port_List].[@TotalRecords]">
						<Property Name="IsOutput" Value="True" />
						<Property Name="DefaultExpressionScript">
							<Value><![CDATA[0]]></Value>
						</Property>
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[DB_Port_List].[@Filter]">
						<Property Name="DefaultExpressionScript">
							<Value><![CDATA['']]></Value>
						</Property>
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Property Name="Length" Value="200" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[varchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[DB_Port_List].[@isActive]">
						<Property Name="DefaultExpressionScript">
							<Value><![CDATA[1]]></Value>
						</Property>
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="Schema">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<Annotation Type="SysCommentsObjectAnnotation">
				<Property Name="Length" Value="2130" />
				<Property Name="StartLine" Value="1" />
				<Property Name="StartColumn" Value="1" />
				<Property Name="HeaderContents" Value="CREATE PROCEDURE [dbo].[DB_Port_List]&#xD;&#xA;&#x9;@PageIndex [int] = 1,&#xD;&#xA;&#x9;@PageSize [int] = 10,&#xD;&#xA;&#x9;@TotalRecords [int] = 0 OUTPUT,&#xD;&#xA;&#x9;@Filter varchar(200) ='',&#xD;&#xA;&#x9;@isActive int=1&#xD;&#xA;--WITH ENCRYPTION&#xD;&#xA;AS" />
			</Annotation>
		</Element>
		<Element Type="SqlProcedure" Name="[dbo].[DB_Port_Save]">
			<Property Name="BodyScript">
				<Value><![CDATA[
Begin
	--------------------------------------------------------------------------------
	-- IMPORTANT: Set this option ON: if do you wants stop and rollback transaction.
	--------------------------------------------------------------------------------
	SET XACT_ABORT ON
	--------------------------------------------------------------------------------
	-- Declaration of Variables
	--------------------------------------------------------------------------------
	Declare  @sError Varchar(Max) ,@IsErrorTecnichal int, @Id int
	Execute C_Parameter_Get @CodeParameter= 'ERROR_TECNICHAL', @Value= @IsErrorTecnichal OUTPUT
	-- - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -
	Begin Try
	--------------------------------------------------------------------------------
	-- Insert or Update Record
	--------------------------------------------------------------------------------
	Begin Transaction
	IF Not Exists(Select Top 1 * From dbo.Ports Where Token=@Token)
	Begin
			INSERT INTO [dbo].[Ports]
					   ([Token]
					   ,[Name]
					   ,[Address]
					   ,[Phone]
					   ,[City]
					   ,[Ifo]
					   ,[Mgo]
					   ,[Terms]
					   ,[Creation]
					   ,[Updated]
					   ,[IsActive]
					   ,[UpdatedId])
				 VALUES
					   (NewId()
					   ,@Name
					   ,@Address
					   ,@Phone
					   ,@City
					   ,@Ifo
					   ,@Mgo
					   ,@Terms
					   ,GETDATE()
					   ,GETDATE()
					   ,@IsActive
					   ,@UpdatedId)
		Set @Id=SCOPE_IDENTITY()
		INSERT INTO [dbo].[DistanceBetweenPorts]
           ([Token]
           ,[InputPortId]
           ,[OutPutPortId]
           ,[Interval]
           ,[Updated]
           ,[Created]
           ,[IsActive]
           ,[UpdatedId]
           ,[HourCanalPanama])
		Select NewId(),@Id,Id,0,null,getdate(),1,@UpdatedId,0
		From Ports
		Where Id<>@Id

		INSERT INTO [dbo].[DistanceBetweenPorts]
           ([Token]
           ,[InputPortId]
           ,[OutPutPortId]
           ,[Interval]
           ,[Updated]
           ,[Created]
           ,[IsActive]
           ,[UpdatedId]
           ,[HourCanalPanama])
		Select NewId(),Id,@Id,0,null,getdate(),1,@UpdatedId,0
		From Ports
		Where Id<>@Id
	End
	Else
	Begin
		UPDATE [dbo].[Ports]
		   SET [Token] = @Token
			  ,[Name] =  @Name
			  ,[Address] =  @Address
			  ,[Phone] =  @Phone
			  ,[City] =  @City
			  ,[Ifo] = @Ifo
			  ,[Mgo] =  @Mgo
			  ,[Terms] =  @Terms
			  ,[Updated] =GETDATE()
			  ,[IsActive] =  @IsActive
			  ,[UpdatedId] =  @UpdatedId
		Where Token =  @Token
		If @@rowcount= 0
		Begin
			RaisError('SQLUPDATE_FAILD',16,1)  
		End
	End
	Commit Transaction
	End Try
	Begin Catch
		-- there was an error
		If XACT_STATE() =-1
		Begin
			Rollback WORK
		End
		If @@trancount >0
		Begin
			Rollback WORK
		End
		If XACT_STATE() = 1
		Begin
			Commit WORK
		End
		--Getting the error description
		Set @sError  =  ERROR_MESSAGE()
		if @IsErrorTecnichal=1
		Begin
			Set @sError  =  ERROR_PROCEDURE() + 
					';  ' + convert(varchar,ERROR_LINE()) + 
					'; ' + ERROR_MESSAGE()
		End 
		RaisError(@sError,16,1)  
		Return  
	End Catch
	--------------------------------------------------------------------------------
	-- Returning a Primary Key Value
	--------------------------------------------------------------------------------
	-- - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -
End]]></Value>
			</Property>
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Relationship Name="BodyDependencies">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[varchar]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[int]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[int]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[C_Parameter_Get]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[C_Parameter_Get].[@CodeParameter]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[C_Parameter_Get].[@Value]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Ports]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Ports].[Token]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[DB_Port_Save].[@Token]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Ports].[Token]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Ports].[Name]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Ports].[Address]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Ports].[Phone]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Ports].[City]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Ports].[Ifo]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Ports].[Mgo]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Ports].[Terms]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Ports].[Creation]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Ports].[Updated]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Ports].[IsActive]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Ports].[UpdatedId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[DB_Port_Save].[@Name]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[DB_Port_Save].[@Address]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[DB_Port_Save].[@Phone]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[DB_Port_Save].[@City]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[DB_Port_Save].[@Ifo]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[DB_Port_Save].[@Mgo]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[DB_Port_Save].[@Terms]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[DB_Port_Save].[@IsActive]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[DB_Port_Save].[@UpdatedId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[DistanceBetweenPorts]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[DistanceBetweenPorts].[Token]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[DistanceBetweenPorts].[InputPortId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[DistanceBetweenPorts].[OutPutPortId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[DistanceBetweenPorts].[Interval]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[DistanceBetweenPorts].[Updated]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[DistanceBetweenPorts].[Created]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[DistanceBetweenPorts].[IsActive]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[DistanceBetweenPorts].[UpdatedId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[DistanceBetweenPorts].[HourCanalPanama]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Ports].[Id]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[varchar]" />
				</Entry>
			</Relationship>
			<Relationship Name="Parameters">
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[DB_Port_Save].[@Token]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[uniqueidentifier]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[DB_Port_Save].[@Name]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Property Name="Length" Value="25" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[varchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[DB_Port_Save].[@Address]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Property Name="Length" Value="200" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[varchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[DB_Port_Save].[@Phone]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Property Name="Length" Value="50" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[varchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[DB_Port_Save].[@City]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[DB_Port_Save].[@Ifo]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[money]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[DB_Port_Save].[@Mgo]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[money]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[DB_Port_Save].[@Terms]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Property Name="IsMax" Value="True" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[varchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[DB_Port_Save].[@IsActive]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[bit]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[DB_Port_Save].[@UpdatedId]">
						<Property Name="DefaultExpressionScript">
							<Value><![CDATA[Null]]></Value>
						</Property>
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="Schema">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<Annotation Type="SysCommentsObjectAnnotation">
				<Property Name="Length" Value="3760" />
				<Property Name="StartLine" Value="1" />
				<Property Name="StartColumn" Value="1" />
				<Property Name="HeaderContents" Value="CREATE PROCEDURE [dbo].[DB_Port_Save]&#xD;&#xA;&#x9; @Token uniqueidentifier&#xD;&#xA;&#x9;,@Name varchar(25)&#xD;&#xA;&#x9;,@Address varchar(200) &#xD;&#xA;&#x9;,@Phone varchar(50) &#xD;&#xA;&#x9;,@City int &#xD;&#xA;&#x9;,@Ifo money &#xD;&#xA;&#x9;,@Mgo money&#xD;&#xA;&#x9;,@Terms varchar(max) &#xD;&#xA;&#x9;,@IsActive bit &#xD;&#xA;&#x9;,@UpdatedId [int] = Null&#xD;&#xA;--WITH ENCRYPTION&#xD;&#xA;AS" />
			</Annotation>
		</Element>
		<Element Type="SqlProcedure" Name="[dbo].[DB_Port_StatusUpdate]">
			<Property Name="BodyScript">
				<Value><![CDATA[
BEGIN
		/*------------------------------------------------------------------------------
		-- getting xml main list only range: records_[begin,end], setting record status.
		------------------------------------------------------------------------------*/
		Declare @sError Varchar(Max) ,@IsErrorTecnichal int
		Execute C_Parameter_Get @CodeParameter= 'ERROR_TECNICHAL', @Value= @IsErrorTecnichal OUTPUT
		Begin Try
		Begin Transaction
			Update Ports 
			SET Updated=getdate(),
				IsActive=@IsActive
			where Token=@Token
		Commit Transaction
	------------------------------------------------------------------------------
	-- send back answer
	------------------------------------------------------------------------------
	-- - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -
	End Try
	Begin Catch
		-- there was an error
		If XACT_STATE() =-1
		Begin
    			Rollback WORK
		End
		If @@trancount >0
		Begin
    			Rollback WORK
		End
		If XACT_STATE() = 1
		Begin
    			Commit WORK
		End
		--Getting the error description
		Set @sError  =   ERROR_MESSAGE()
		if @IsErrorTecnichal=1
		Begin
			Set @sError  =  ERROR_PROCEDURE() + 
					';  ' + convert(varchar,ERROR_LINE()) + 
					'; ' + ERROR_MESSAGE()
		End 
		RaisError (@sError,16,1)   
		Return
	End Catch
END]]></Value>
			</Property>
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Relationship Name="BodyDependencies">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[varchar]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[int]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[C_Parameter_Get]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[C_Parameter_Get].[@CodeParameter]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[C_Parameter_Get].[@Value]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Ports]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Ports].[Updated]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Ports].[IsActive]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[DB_Port_StatusUpdate].[@IsActive]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Ports].[Token]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[DB_Port_StatusUpdate].[@Token]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[varchar]" />
				</Entry>
			</Relationship>
			<Relationship Name="Parameters">
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[DB_Port_StatusUpdate].[@UpdatedId]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[DB_Port_StatusUpdate].[@Token]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[uniqueidentifier]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[DB_Port_StatusUpdate].[@IsActive]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="Schema">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<Annotation Type="SysCommentsObjectAnnotation">
				<Property Name="CreateOffset" Value="3" />
				<Property Name="Length" Value="1465" />
				<Property Name="StartLine" Value="1" />
				<Property Name="StartColumn" Value="1" />
				<Property Name="HeaderContents" Value=" &#xD;&#xA;Create PROCEDURE DB_Port_StatusUpdate&#xD;&#xA;&#x9;@UpdatedId [int],&#xD;&#xA;&#x9;@Token uniqueidentifier,&#xD;&#xA;&#x9;@IsActive int&#xD;&#xA;--WITH ENCRYPTION&#xD;&#xA;AS" />
			</Annotation>
		</Element>
		<Element Type="SqlProcedure" Name="[dbo].[DB_Product_Delete]">
			<Property Name="BodyScript">
				<Value><![CDATA[
Begin

	--------------------------------------------------------------------------------
	Declare  @sError Varchar(Max) ,@IsErrorTecnichal int
	Execute C_Parameter_Get @CodeParameter= 'ERROR_TECNICHAL', @Value= @IsErrorTecnichal OUTPUT
	--------------------------------------------------------------------------------
	-- Validating parameters
	--------------------------------------------------------------------------------
	--------------------------------------------------------------------------------
	-- Activate/Inactivate Record
	--------------------------------------------------------------------------------
	Begin Try
	If Exists (Select top 1 * 
			   From dbo.StowageFactorByProducts
					Inner Join Products On Products.Id=dbo.StowageFactorByProducts.ProductId
			   Where dbo.Products.Token= @Token)
	Begin
		RaisError('Relationship of row with other table Stowage Factor',16,1)
		Return
	End
	If Exists (Select top 1 * 
			   From dbo.QuantityMTByProducts
					Inner Join Products On Products.Id=dbo.QuantityMTByProducts.ProductId
			   Where dbo.Products.Token= @Token)
	Begin
		RaisError('Relationship of row with other table Quantity MT',16,1)
		Return
	End
	If Exists (Select top 1 * 
			   From dbo.TerminalByProducts
					Inner Join Products On Products.Id=dbo.TerminalByProducts.ProductId
			   Where dbo.Products.Token= @Token)
	Begin
		RaisError('Relationship of row with other table Terminal',16,1)
		Return
	End
	Begin Transaction
			
			Delete From dbo.Products 
			Where Token= @Token

			-- check for errors
			If @@rowcount= 0 
			Begin 
    			RaisError('SQLDELETE_FAILD',16,1)
			End 

	-- if we reach here, success!
	Commit Transaction
	End Try
	Begin Catch
			-- there was an error
			If XACT_STATE() =-1
			Begin
    				Rollback WORK
			End
			If @@trancount >0
			Begin
    				Rollback WORK
			End
			If XACT_STATE() = 1
			Begin
    				Commit WORK
			End
			--Getting the error description
			Set @sError  =   ERROR_MESSAGE()
			if @IsErrorTecnichal=1
			Begin
				Set @sError  =  ERROR_PROCEDURE() + 
					';  ' + convert(varchar,ERROR_LINE()) + 
					'; ' + ERROR_MESSAGE()
			End 
			--Getting the error description
			RaisError (@sError,16,1) 
			Return  
	End Catch
	--------------------------------------------------------------------------------
	-- Returning a Value
	--------------------------------------------------------------------------------
	Select  1
	-- - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -
End]]></Value>
			</Property>
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Relationship Name="BodyDependencies">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[varchar]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[int]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[C_Parameter_Get]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[C_Parameter_Get].[@CodeParameter]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[C_Parameter_Get].[@Value]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[StowageFactorByProducts]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Products]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Products].[Id]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[StowageFactorByProducts].[ProductId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Products].[Token]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[DB_Product_Delete].[@Token]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[QuantityMTByProducts]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Products].[Id]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[QuantityMTByProducts].[ProductId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Products].[Token]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[TerminalByProducts]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Products].[Id]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[TerminalByProducts].[ProductId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Products].[Token]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Products].[Token]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[varchar]" />
				</Entry>
			</Relationship>
			<Relationship Name="Parameters">
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[DB_Product_Delete].[@Token]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[uniqueidentifier]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="Schema">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<Annotation Type="SysCommentsObjectAnnotation">
				<Property Name="Length" Value="2670" />
				<Property Name="StartLine" Value="1" />
				<Property Name="StartColumn" Value="1" />
				<Property Name="HeaderContents" Value="CREATE PROCEDURE [dbo].[DB_Product_Delete]&#xD;&#xA;&#x9;@Token uniqueidentifier&#xD;&#xA;--WITH ENCRYPTION&#xD;&#xA;AS" />
			</Annotation>
		</Element>
		<Element Type="SqlProcedure" Name="[dbo].[DB_Product_Get]">
			<Property Name="BodyScript">
				<Value><![CDATA[
BEGIN
		------------------------------------------------------------------------------
		-- Declaring tables
		------------------------------------------------------------------------------
		SELECT *
		FROM Products
		Where Token= @Token
		-- - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -
END]]></Value>
			</Property>
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Relationship Name="BodyDependencies">
				<Entry>
					<References Name="[dbo].[Products]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Products].[Token]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[DB_Product_Get].[@Token]" />
				</Entry>
			</Relationship>
			<Relationship Name="Parameters">
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[DB_Product_Get].[@Token]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[uniqueidentifier]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="Schema">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<Annotation Type="SysCommentsObjectAnnotation">
				<Property Name="Length" Value="413" />
				<Property Name="StartLine" Value="1" />
				<Property Name="StartColumn" Value="1" />
				<Property Name="HeaderContents" Value="Create PROCEDURE DB_Product_Get&#xD;&#xA;&#x9;@Token uniqueidentifier&#xD;&#xA;--WITH ENCRYPTION&#xD;&#xA;AS" />
			</Annotation>
		</Element>
		<Element Type="SqlProcedure" Name="[dbo].[DB_Product_List]">
			<Property Name="BodyScript">
				<Value><![CDATA[

	/*------------------------------------------------------------------------------
		-- getting xml main list only range: records_[begin,end], setting record status.
		--------------------------------------------------------------------------------*/
		Select @TotalRecords=count(*) From Products
		------------------------------------------------------------------------------
		-- getting user list
		------------------------------------------------------------------------------			
		if(@isActive=-1)
		Begin
			Select Products.*, Types.Name as TypeName
			From Products
				Inner Join Types On Types.Id=Products.TypeId
			Where (Products.Name like '%'+ @Filter  +'%' or Isnull(@Filter,'')='')
			ORDER BY Name asc, CURRENT_TIMESTAMP OFFSET (@PageIndex-1)*@PageSize ROWS FETCH FIRST @PageSize ROWS ONLY
		End
		Else
		Begin
			Select Products.*, Types.Name as TypeName
			From Products
				Inner Join Types On Types.Id=Products.TypeId
			Where (Products.Name like '%'+ @Filter  +'%' or Isnull(@Filter,'')='') and (Products.IsActive=@IsActive)
			ORDER BY Name asc, CURRENT_TIMESTAMP OFFSET (@PageIndex-1)*@PageSize ROWS FETCH FIRST @PageSize ROWS ONLY
		End
		/*-- - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -*/]]></Value>
			</Property>
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Relationship Name="BodyDependencies">
				<Entry>
					<References Name="[dbo].[Products]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[DB_Product_List].[@TotalRecords]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[DB_Product_List].[@IsActive]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Types]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Types].[Id]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Products].[TypeId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Types].[Name]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Products].[Name]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[DB_Product_List].[@Filter]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Products].[Name]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[DB_Product_List].[@PageIndex]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[DB_Product_List].[@PageSize]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Products].[IsActive]" />
				</Entry>
			</Relationship>
			<Relationship Name="Parameters">
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[DB_Product_List].[@PageIndex]">
						<Property Name="DefaultExpressionScript">
							<Value><![CDATA[1]]></Value>
						</Property>
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[DB_Product_List].[@PageSize]">
						<Property Name="DefaultExpressionScript">
							<Value><![CDATA[10]]></Value>
						</Property>
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[DB_Product_List].[@TotalRecords]">
						<Property Name="IsOutput" Value="True" />
						<Property Name="DefaultExpressionScript">
							<Value><![CDATA[0]]></Value>
						</Property>
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[DB_Product_List].[@IsActive]">
						<Property Name="DefaultExpressionScript">
							<Value><![CDATA[1]]></Value>
						</Property>
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[DB_Product_List].[@Filter]">
						<Property Name="DefaultExpressionScript">
							<Value><![CDATA['']]></Value>
						</Property>
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Property Name="Length" Value="200" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[varchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="Schema">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<Annotation Type="SysCommentsObjectAnnotation">
				<Property Name="Length" Value="1462" />
				<Property Name="StartLine" Value="1" />
				<Property Name="StartColumn" Value="1" />
				<Property Name="HeaderContents" Value="CREATE PROCEDURE [dbo].[DB_Product_List]&#xD;&#xA;&#x9;@PageIndex [int] = 1,&#xD;&#xA;&#x9;@PageSize [int] = 10,&#xD;&#xA;&#x9;@TotalRecords [int] = 0 OUTPUT,&#xD;&#xA;&#x9;@IsActive int=1,&#xD;&#xA;&#x9;@Filter varchar(200) =''&#xD;&#xA;--WITH ENCRYPTION&#xD;&#xA;AS" />
			</Annotation>
		</Element>
		<Element Type="SqlProcedure" Name="[dbo].[DB_Product_Save]">
			<Property Name="BodyScript">
				<Value><![CDATA[
Begin
	--------------------------------------------------------------------------------
	-- IMPORTANT: Set this option ON: if do you wants stop and rollback transaction.
	--------------------------------------------------------------------------------
	SET XACT_ABORT ON
	--------------------------------------------------------------------------------
	-- Declaration of Variables
	--------------------------------------------------------------------------------
	Declare  @sError Varchar(Max) ,@IsErrorTecnichal int
	Execute C_Parameter_Get @CodeParameter= 'ERROR_TECNICHAL', @Value= @IsErrorTecnichal OUTPUT
	-- - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -
	Begin Try
	IF Exists(Select Top 1 * From dbo.Products Where Token<>@Token and Name=@Name)
	Begin
		RaisError('The duplicate key value is %s.',16,1,@Name)  
		return
	End
	--------------------------------------------------------------------------------
	-- Insert or Update Record
	--------------------------------------------------------------------------------
	Begin Transaction
	IF Not Exists(Select Top 1 * From dbo.Products Where Token=@Token)
	Begin
		INSERT INTO [dbo].[Products]
				   ([Token]
				   ,[Name]
				   ,[Description]
				   ,[Measure]
				   ,[MeasureQuantity]
				   ,[TypeId]
				   ,[Creation]
				   ,[Updated]
				   ,[IsActive]
				   ,[UpdatedId])
			 VALUES
				   (NewId()
				   ,@Name
				   ,@Description
				   ,@Measure
				   ,@MeasureQuantity
				   ,@TypeId
				   ,getdate()
				   ,getdate()
				   ,@IsActive
				   ,@UpdatedId)
	End
	Else
	Begin
		UPDATE [dbo].[Products]
		   SET [Token] = @Token
			  ,[Name] = @Name
			  ,[Description] = @Description
			  ,[Measure] = @Measure
			  ,[MeasureQuantity] = @MeasureQuantity
			  ,[TypeId] = @TypeId
			  ,[Updated] = getdate()
			  ,[IsActive] = @IsActive
			  ,[UpdatedId] = @UpdatedId
		Where Token =  @Token
		If @@rowcount= 0
		Begin
			RaisError('SQLUPDATE_FAILD',16,1)  
		End
	End
	Commit Transaction
	End Try
	Begin Catch
		-- there was an error
		If XACT_STATE() =-1
		Begin
			Rollback WORK
		End
		If @@trancount >0
		Begin
			Rollback WORK
		End
		If XACT_STATE() = 1
		Begin
			Commit WORK
		End
		--Getting the error description
		Set @sError  =  ERROR_MESSAGE()
		if @IsErrorTecnichal=1
		Begin
			Set @sError  =  ERROR_PROCEDURE() + 
					';  ' + convert(varchar,ERROR_LINE()) + 
					'; ' + ERROR_MESSAGE()
		End 
		RaisError(@sError,16,1)  
		Return  
	End Catch
	--------------------------------------------------------------------------------
	-- Returning a Primary Key Value
	--------------------------------------------------------------------------------
	-- - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -
End]]></Value>
			</Property>
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Relationship Name="BodyDependencies">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[varchar]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[int]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[C_Parameter_Get]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[C_Parameter_Get].[@CodeParameter]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[C_Parameter_Get].[@Value]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Products]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Products].[Token]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[DB_Product_Save].[@Token]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Products].[Name]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[DB_Product_Save].[@Name]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Products].[Token]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Products].[Name]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Products].[Description]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Products].[Measure]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Products].[MeasureQuantity]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Products].[TypeId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Products].[Creation]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Products].[Updated]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Products].[IsActive]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Products].[UpdatedId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[DB_Product_Save].[@Description]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[DB_Product_Save].[@Measure]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[DB_Product_Save].[@MeasureQuantity]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[DB_Product_Save].[@TypeId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[DB_Product_Save].[@IsActive]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[DB_Product_Save].[@UpdatedId]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[varchar]" />
				</Entry>
			</Relationship>
			<Relationship Name="Parameters">
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[DB_Product_Save].[@Token]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[uniqueidentifier]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[DB_Product_Save].[@Name]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Property Name="Length" Value="50" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[varchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[DB_Product_Save].[@Description]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Property Name="Length" Value="450" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[varchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[DB_Product_Save].[@Measure]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Property Name="Length" Value="50" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[varchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[DB_Product_Save].[@MeasureQuantity]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Property Name="Length" Value="50" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[varchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[DB_Product_Save].[@TypeId]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[DB_Product_Save].[@IsActive]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[bit]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[DB_Product_Save].[@UpdatedId]">
						<Property Name="DefaultExpressionScript">
							<Value><![CDATA[Null]]></Value>
						</Property>
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="Schema">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<Annotation Type="SysCommentsObjectAnnotation">
				<Property Name="Length" Value="3109" />
				<Property Name="StartLine" Value="1" />
				<Property Name="StartColumn" Value="1" />
				<Property Name="HeaderContents" Value="CREATE PROCEDURE [dbo].[DB_Product_Save]&#xD;&#xA;&#x9; @Token uniqueidentifier&#xD;&#xA;&#x9;,@Name varchar(50)&#xD;&#xA;&#x9;,@Description varchar(450) &#xD;&#xA;&#x9;,@Measure varchar(50) &#xD;&#xA;&#x9;,@MeasureQuantity varchar(50) &#xD;&#xA;&#x9;,@TypeId int &#xD;&#xA;&#x9;,@IsActive bit &#xD;&#xA;&#x9;,@UpdatedId [int] = Null&#xD;&#xA;--WITH ENCRYPTION&#xD;&#xA;AS" />
			</Annotation>
		</Element>
		<Element Type="SqlProcedure" Name="[dbo].[DB_Product_StatusUpdate]">
			<Property Name="BodyScript">
				<Value><![CDATA[
BEGIN
		/*------------------------------------------------------------------------------
		-- getting xml main list only range: records_[begin,end], setting record status.
		------------------------------------------------------------------------------*/
		Declare @sError Varchar(Max) ,@IsErrorTecnichal int
		Execute C_Parameter_Get @CodeParameter= 'ERROR_TECNICHAL', @Value= @IsErrorTecnichal OUTPUT
		Begin Try
		Begin Transaction
			Update Products 
			SET Updated=getdate(),
				IsActive=@IsActive
			where Token=@Token
		Commit Transaction
	------------------------------------------------------------------------------
	-- send back answer
	------------------------------------------------------------------------------
	-- - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -
	End Try
	Begin Catch
		-- there was an error
		If XACT_STATE() =-1
		Begin
    			Rollback WORK
		End
		If @@trancount >0
		Begin
    			Rollback WORK
		End
		If XACT_STATE() = 1
		Begin
    			Commit WORK
		End
		--Getting the error description
		Set @sError  =   ERROR_MESSAGE()
		if @IsErrorTecnichal=1
		Begin
			Set @sError  =  ERROR_PROCEDURE() + 
					';  ' + convert(varchar,ERROR_LINE()) + 
					'; ' + ERROR_MESSAGE()
		End 
		RaisError (@sError,16,1)   
		Return
	End Catch
END]]></Value>
			</Property>
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Relationship Name="BodyDependencies">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[varchar]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[int]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[C_Parameter_Get]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[C_Parameter_Get].[@CodeParameter]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[C_Parameter_Get].[@Value]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Products]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Products].[Updated]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Products].[IsActive]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[DB_Product_StatusUpdate].[@IsActive]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Products].[Token]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[DB_Product_StatusUpdate].[@Token]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[varchar]" />
				</Entry>
			</Relationship>
			<Relationship Name="Parameters">
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[DB_Product_StatusUpdate].[@UpdatedId]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[DB_Product_StatusUpdate].[@Token]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[uniqueidentifier]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[DB_Product_StatusUpdate].[@IsActive]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="Schema">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<Annotation Type="SysCommentsObjectAnnotation">
				<Property Name="CreateOffset" Value="3" />
				<Property Name="Length" Value="1479" />
				<Property Name="StartLine" Value="1" />
				<Property Name="StartColumn" Value="1" />
				<Property Name="HeaderContents" Value=" &#xD;&#xA;Create PROCEDURE [dbo].[DB_Product_StatusUpdate]&#xD;&#xA;&#x9;@UpdatedId [int],&#xD;&#xA;&#x9;@Token uniqueidentifier,&#xD;&#xA;&#x9;@IsActive int&#xD;&#xA;--WITH ENCRYPTION&#xD;&#xA;AS" />
			</Annotation>
		</Element>
		<Element Type="SqlProcedure" Name="[dbo].[DB_PropertyToVessel_List]">
			<Property Name="BodyScript">
				<Value><![CDATA[

	/*------------------------------------------------------------------------------
		-- getting xml main list only range: records_[begin,end], setting record status.
		--------------------------------------------------------------------------------*/
		Declare @Id int
		------------------------------------------------------------------------------
		-- getting user list
		------------------------------------------------------------------------------						   
		Select @Id=Id
		From Vessel
		Where Vessel.Token=@Token
		/*-- - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -*/

		Select  PropertyVessel.Code,PropertyVessel.Name, Convert(varchar(250),PropertyValueVessel.Value,1) as Value,PropertyVessel.PropertyVesselId
		From PropertyVessel
					Left Join PropertyValueVessel On PropertyVessel.PropertyVesselId=PropertyValueVessel.PropertyVesselId and (PropertyValueVessel.VesselId=@Id or @Id=0)
		Where PropertyVessel.IsActive=1]]></Value>
			</Property>
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Relationship Name="BodyDependencies">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[int]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Vessel]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Vessel].[Id]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Vessel].[Token]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[DB_PropertyToVessel_List].[@Token]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[PropertyVessel]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[PropertyValueVessel]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[PropertyVessel].[PropertyVesselId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[PropertyValueVessel].[PropertyVesselId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[PropertyValueVessel].[VesselId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[PropertyVessel].[Code]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[PropertyVessel].[Name]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[varchar]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[PropertyValueVessel].[Value]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[PropertyVessel].[IsActive]" />
				</Entry>
			</Relationship>
			<Relationship Name="Parameters">
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[DB_PropertyToVessel_List].[@Token]">
						<Property Name="DefaultExpressionScript">
							<Value><![CDATA[null]]></Value>
						</Property>
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[uniqueidentifier]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[DB_PropertyToVessel_List].[@UpdatedId]">
						<Property Name="DefaultExpressionScript">
							<Value><![CDATA[0]]></Value>
						</Property>
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[DB_PropertyToVessel_List].[@Owner]">
						<Property Name="DefaultExpressionScript">
							<Value><![CDATA[0]]></Value>
						</Property>
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="Schema">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<Annotation Type="SysCommentsObjectAnnotation">
				<Property Name="Length" Value="1116" />
				<Property Name="StartLine" Value="1" />
				<Property Name="StartColumn" Value="1" />
				<Property Name="HeaderContents" Value="CREATE PROCEDURE [dbo].[DB_PropertyToVessel_List]&#xD;&#xA;&#x9;@Token uniqueidentifier=null,&#xD;&#xA;&#x9;@UpdatedId int=0,&#xD;&#xA;&#x9;@Owner int=0&#xD;&#xA;--WITH ENCRYPTION&#xD;&#xA;AS" />
			</Annotation>
		</Element>
		<Element Type="SqlProcedure" Name="[dbo].[DB_PropertyVessel_Delete]">
			<Property Name="BodyScript">
				<Value><![CDATA[
Begin

	--------------------------------------------------------------------------------
	Declare  @sError Varchar(Max) ,@IsErrorTecnichal int
	Execute C_Parameter_Get @CodeParameter= 'ERROR_TECNICHAL', @Value= @IsErrorTecnichal OUTPUT
	--------------------------------------------------------------------------------
	-- Validating parameters
	--------------------------------------------------------------------------------
	--------------------------------------------------------------------------------
	-- Activate/Inactivate Record
	--------------------------------------------------------------------------------
	Begin Try
	If Exists (Select top 1 * 
				From dbo.PropertyValueVessel
					Inner Join PropertyVessel On PropertyVessel.PropertyVesselId=dbo.PropertyValueVessel.PropertyVesselId
					Inner Join Vessel On PropertyValueVessel.VesselId=dbo.Vessel.Id
				Where dbo.PropertyVessel.Token= @Token)
	Begin
		RaisError('Relationship of row with other table',16,1)
		Return
	End
	Begin Transaction
			
			Delete From dbo.PropertyVessel 
			Where Token= @Token

			-- check for errors
			If @@rowcount= 0 
			Begin 
    			RaisError('SQLDELETE_FAILD',16,1)
			End 

	-- if we reach here, success!
	Commit Transaction
	End Try
	Begin Catch
			-- there was an error
			If XACT_STATE() =-1
			Begin
    				Rollback WORK
			End
			If @@trancount >0
			Begin
    				Rollback WORK
			End
			If XACT_STATE() = 1
			Begin
    				Commit WORK
			End
			--Getting the error description
			Set @sError  =   ERROR_MESSAGE()
			if @IsErrorTecnichal=1
			Begin
				Set @sError  =  ERROR_PROCEDURE() + 
					';  ' + convert(varchar,ERROR_LINE()) + 
					'; ' + ERROR_MESSAGE()
			End 
			--Getting the error description
			RaisError (@sError,16,1) 
			Return  
	End Catch
	--------------------------------------------------------------------------------
	-- Returning a Value
	--------------------------------------------------------------------------------
	Select  1
	-- - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -
End]]></Value>
			</Property>
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Relationship Name="BodyDependencies">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[varchar]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[int]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[C_Parameter_Get]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[C_Parameter_Get].[@CodeParameter]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[C_Parameter_Get].[@Value]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[PropertyValueVessel]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[PropertyVessel]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[PropertyVessel].[PropertyVesselId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[PropertyValueVessel].[PropertyVesselId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Vessel]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[PropertyValueVessel].[VesselId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Vessel].[Id]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[PropertyVessel].[Token]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[DB_PropertyVessel_Delete].[@Token]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[PropertyVessel].[Token]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[varchar]" />
				</Entry>
			</Relationship>
			<Relationship Name="Parameters">
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[DB_PropertyVessel_Delete].[@Token]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[uniqueidentifier]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="Schema">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<Annotation Type="SysCommentsObjectAnnotation">
				<Property Name="Length" Value="2218" />
				<Property Name="StartLine" Value="1" />
				<Property Name="StartColumn" Value="1" />
				<Property Name="HeaderContents" Value="CREATE PROCEDURE [dbo].[DB_PropertyVessel_Delete]&#xD;&#xA;&#x9;@Token uniqueidentifier&#xD;&#xA;--WITH ENCRYPTION&#xD;&#xA;AS" />
			</Annotation>
		</Element>
		<Element Type="SqlProcedure" Name="[dbo].[DB_PropertyVessel_Get]">
			<Property Name="BodyScript">
				<Value><![CDATA[
BEGIN
		------------------------------------------------------------------------------
		-- Declaring tables
		------------------------------------------------------------------------------
		SELECT *
		FROM PropertyVessel
		Where Token= @Token
		-- - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -
END]]></Value>
			</Property>
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Relationship Name="BodyDependencies">
				<Entry>
					<References Name="[dbo].[PropertyVessel]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[PropertyVessel].[Token]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[DB_PropertyVessel_Get].[@Token]" />
				</Entry>
			</Relationship>
			<Relationship Name="Parameters">
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[DB_PropertyVessel_Get].[@Token]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[uniqueidentifier]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="Schema">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<Annotation Type="SysCommentsObjectAnnotation">
				<Property Name="Length" Value="434" />
				<Property Name="StartLine" Value="1" />
				<Property Name="StartColumn" Value="1" />
				<Property Name="HeaderContents" Value="Create PROCEDURE [dbo].[DB_PropertyVessel_Get]&#xD;&#xA;&#x9;@Token uniqueidentifier&#xD;&#xA;--WITH ENCRYPTION&#xD;&#xA;AS" />
			</Annotation>
		</Element>
		<Element Type="SqlProcedure" Name="[dbo].[DB_PropertyVessel_List]">
			<Property Name="BodyScript">
				<Value><![CDATA[

	/*------------------------------------------------------------------------------
		-- getting xml main list only range: records_[begin,end], setting record status.
		--------------------------------------------------------------------------------*/
		Select @TotalRecords=count(*) From PropertyVessel
		------------------------------------------------------------------------------
		-- getting user list
		------------------------------------------------------------------------------						   
		Select *
		From PropertyVessel
		Where  (PropertyVessel.Name like '%'+ @Filter  +'%' or Isnull(@Filter,'')='') 
		ORDER BY CURRENT_TIMESTAMP OFFSET (@PageIndex-1)*@PageSize ROWS FETCH FIRST @PageSize ROWS ONLY
		/*-- - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -*/]]></Value>
			</Property>
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Relationship Name="BodyDependencies">
				<Entry>
					<References Name="[dbo].[PropertyVessel]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[DB_PropertyVessel_List].[@TotalRecords]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[PropertyVessel].[Name]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[DB_PropertyVessel_List].[@Filter]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[DB_PropertyVessel_List].[@PageIndex]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[DB_PropertyVessel_List].[@PageSize]" />
				</Entry>
			</Relationship>
			<Relationship Name="Parameters">
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[DB_PropertyVessel_List].[@PageIndex]">
						<Property Name="DefaultExpressionScript">
							<Value><![CDATA[1]]></Value>
						</Property>
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[DB_PropertyVessel_List].[@PageSize]">
						<Property Name="DefaultExpressionScript">
							<Value><![CDATA[10]]></Value>
						</Property>
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[DB_PropertyVessel_List].[@TotalRecords]">
						<Property Name="IsOutput" Value="True" />
						<Property Name="DefaultExpressionScript">
							<Value><![CDATA[0]]></Value>
						</Property>
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[DB_PropertyVessel_List].[@Filter]">
						<Property Name="DefaultExpressionScript">
							<Value><![CDATA['']]></Value>
						</Property>
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Property Name="Length" Value="200" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[varchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="Schema">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<Annotation Type="SysCommentsObjectAnnotation">
				<Property Name="Length" Value="986" />
				<Property Name="StartLine" Value="1" />
				<Property Name="StartColumn" Value="1" />
				<Property Name="HeaderContents" Value="Create PROCEDURE [dbo].[DB_PropertyVessel_List]&#xD;&#xA;&#x9;@PageIndex [int] = 1,&#xD;&#xA;&#x9;@PageSize [int] = 10,&#xD;&#xA;&#x9;@TotalRecords [int] = 0 OUTPUT,&#xD;&#xA;&#x9;@Filter varchar(200) =''&#xD;&#xA;--WITH ENCRYPTION&#xD;&#xA;AS" />
			</Annotation>
		</Element>
		<Element Type="SqlProcedure" Name="[dbo].[DB_PropertyVessel_Save]">
			<Property Name="BodyScript">
				<Value><![CDATA[
Begin
	--------------------------------------------------------------------------------
	-- IMPORTANT: Set this option ON: if do you wants stop and rollback transaction.
	--------------------------------------------------------------------------------
	SET XACT_ABORT ON
	--------------------------------------------------------------------------------
	-- Declaration of Variables
	--------------------------------------------------------------------------------
	Declare  @sError Varchar(Max) ,@IsErrorTecnichal int
	Execute C_Parameter_Get @CodeParameter= 'ERROR_TECNICHAL', @Value= @IsErrorTecnichal OUTPUT
	-- - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -
	Begin Try
	IF Exists(Select Top 1 * From dbo.PropertyVessel Where Token<>@Token and Name=@Name)
	Begin
		RaisError('The duplicate key value is %s.',16,1,@Name)  
		return
	End
	--------------------------------------------------------------------------------
	-- Insert or Update Record
	--------------------------------------------------------------------------------
	Begin Transaction
	IF Not Exists(Select Top 1 * From dbo.PropertyVessel Where Token=@Token)
	Begin
		INSERT INTO [dbo].[PropertyVessel]
				   ([Token]
				   ,[Name]
				   ,[Code]
				   ,[Creation]
				   ,[Updated]
				   ,[IsActive]
				   ,[UpdatedId])
			 VALUES
				   (NEWID()
				   ,@Name
				   ,@Code
				   ,getdate()
				   ,getdate()
				   ,@IsActive
				   ,@UpdatedId)
	End
	Else
	Begin
		UPDATE [dbo].[PropertyVessel]
		   SET [Name] = @Name
			  ,[Code] = @Code
			  ,[Updated] = getdate()
			  ,[IsActive] = @IsActive
			  ,[UpdatedId] = @UpdatedId
		Where Token =  @Token
		If @@rowcount= 0
		Begin
			RaisError('SQLUPDATE_FAILD',16,1)  
		End
	End
	Commit Transaction
	End Try
	Begin Catch
		-- there was an error
		If XACT_STATE() =-1
		Begin
			Rollback WORK
		End
		If @@trancount >0
		Begin
			Rollback WORK
		End
		If XACT_STATE() = 1
		Begin
			Commit WORK
		End
		--Getting the error description
		Set @sError  =  ERROR_MESSAGE()
		if @IsErrorTecnichal=1
		Begin
			Set @sError  =  ERROR_PROCEDURE() + 
					';  ' + convert(varchar,ERROR_LINE()) + 
					'; ' + ERROR_MESSAGE()
		End 
		RaisError(@sError,16,1)  
		Return  
	End Catch
	--------------------------------------------------------------------------------
	-- Returning a Primary Key Value
	--------------------------------------------------------------------------------
	-- - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -
End]]></Value>
			</Property>
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Relationship Name="BodyDependencies">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[varchar]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[int]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[C_Parameter_Get]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[C_Parameter_Get].[@CodeParameter]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[C_Parameter_Get].[@Value]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[PropertyVessel]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[PropertyVessel].[Token]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[DB_PropertyVessel_Save].[@Token]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[PropertyVessel].[Name]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[DB_PropertyVessel_Save].[@Name]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[PropertyVessel].[Token]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[PropertyVessel].[Name]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[PropertyVessel].[Code]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[PropertyVessel].[Creation]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[PropertyVessel].[Updated]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[PropertyVessel].[IsActive]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[PropertyVessel].[UpdatedId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[DB_PropertyVessel_Save].[@Code]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[DB_PropertyVessel_Save].[@IsActive]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[DB_PropertyVessel_Save].[@UpdatedId]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[varchar]" />
				</Entry>
			</Relationship>
			<Relationship Name="Parameters">
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[DB_PropertyVessel_Save].[@Token]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[uniqueidentifier]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[DB_PropertyVessel_Save].[@Name]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Property Name="Length" Value="50" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[varchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[DB_PropertyVessel_Save].[@Code]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Property Name="Length" Value="25" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[varchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[DB_PropertyVessel_Save].[@IsActive]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[bit]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[DB_PropertyVessel_Save].[@UpdatedId]">
						<Property Name="DefaultExpressionScript">
							<Value><![CDATA[Null]]></Value>
						</Property>
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="Schema">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<Annotation Type="SysCommentsObjectAnnotation">
				<Property Name="Length" Value="2782" />
				<Property Name="StartLine" Value="1" />
				<Property Name="StartColumn" Value="1" />
				<Property Name="HeaderContents" Value="CREATE PROCEDURE [dbo].[DB_PropertyVessel_Save]&#xD;&#xA;&#x9; @Token uniqueidentifier&#xD;&#xA;&#x9;,@Name varchar(50)&#xD;&#xA;&#x9;,@Code varchar(25)&#xD;&#xA;&#x9;,@IsActive bit &#xD;&#xA;&#x9;,@UpdatedId [int] = Null&#xD;&#xA;--WITH ENCRYPTION&#xD;&#xA;AS" />
			</Annotation>
		</Element>
		<Element Type="SqlProcedure" Name="[dbo].[DB_PropertyVessel_StatusUpdate]">
			<Property Name="BodyScript">
				<Value><![CDATA[
BEGIN
		/*------------------------------------------------------------------------------
		-- getting xml main list only range: records_[begin,end], setting record status.
		------------------------------------------------------------------------------*/
		Declare @sError Varchar(Max) ,@IsErrorTecnichal int
		Execute C_Parameter_Get @CodeParameter= 'ERROR_TECNICHAL', @Value= @IsErrorTecnichal OUTPUT
		Begin Try
		Begin Transaction
			Update PropertyVessel 
			SET Updated=getdate(),
				IsActive=@IsActive
			where Token=@Token
		Commit Transaction
	------------------------------------------------------------------------------
	-- send back answer
	------------------------------------------------------------------------------
	-- - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -
	End Try
	Begin Catch
		-- there was an error
		If XACT_STATE() =-1
		Begin
    			Rollback WORK
		End
		If @@trancount >0
		Begin
    			Rollback WORK
		End
		If XACT_STATE() = 1
		Begin
    			Commit WORK
		End
		--Getting the error description
		Set @sError  =   ERROR_MESSAGE()
		if @IsErrorTecnichal=1
		Begin
			Set @sError  =  ERROR_PROCEDURE() + 
					';  ' + convert(varchar,ERROR_LINE()) + 
					'; ' + ERROR_MESSAGE()
		End 
		RaisError (@sError,16,1)   
		Return
	End Catch
END]]></Value>
			</Property>
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Relationship Name="BodyDependencies">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[varchar]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[int]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[C_Parameter_Get]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[C_Parameter_Get].[@CodeParameter]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[C_Parameter_Get].[@Value]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[PropertyVessel]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[PropertyVessel].[Updated]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[PropertyVessel].[IsActive]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[DB_PropertyVessel_StatusUpdate].[@IsActive]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[PropertyVessel].[Token]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[DB_PropertyVessel_StatusUpdate].[@Token]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[varchar]" />
				</Entry>
			</Relationship>
			<Relationship Name="Parameters">
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[DB_PropertyVessel_StatusUpdate].[@UpdatedId]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[DB_PropertyVessel_StatusUpdate].[@Token]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[uniqueidentifier]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[DB_PropertyVessel_StatusUpdate].[@IsActive]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="Schema">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<Annotation Type="SysCommentsObjectAnnotation">
				<Property Name="CreateOffset" Value="3" />
				<Property Name="Length" Value="1492" />
				<Property Name="StartLine" Value="1" />
				<Property Name="StartColumn" Value="1" />
				<Property Name="HeaderContents" Value=" &#xD;&#xA;Create PROCEDURE [dbo].[DB_PropertyVessel_StatusUpdate]&#xD;&#xA;&#x9;@UpdatedId [int],&#xD;&#xA;&#x9;@Token uniqueidentifier,&#xD;&#xA;&#x9;@IsActive int&#xD;&#xA;--WITH ENCRYPTION&#xD;&#xA;AS" />
			</Annotation>
		</Element>
		<Element Type="SqlProcedure" Name="[dbo].[DB_Quantity_Delete]">
			<Property Name="BodyScript">
				<Value><![CDATA[
Begin

	--------------------------------------------------------------------------------
	Declare  @sError Varchar(Max) ,@IsErrorTecnichal int
	Execute C_Parameter_Get @CodeParameter= 'ERROR_TECNICHAL', @Value= @IsErrorTecnichal OUTPUT
	--------------------------------------------------------------------------------
	-- Validating parameters
	--------------------------------------------------------------------------------
	--------------------------------------------------------------------------------
	-- Activate/Inactivate Record
	--------------------------------------------------------------------------------
	Begin Try
	If Exists (Select top 1 * 
			   From dbo.QuantityMTByProducts
					Inner Join QuantityMT On QuantityMT.Id=dbo.QuantityMTByProducts.QuantityMTId
			   Where dbo.QuantityMT.Token= @Token)
	Begin
		RaisError('Relationship of row with other table',16,1)
		Return
	End
	Begin Transaction
			
			Delete From dbo.QuantityMT 
			Where Token= @Token

			-- check for errors
			If @@rowcount= 0 
			Begin 
    			RaisError('SQLDELETE_FAILD',16,1)
			End 

	-- if we reach here, success!
	Commit Transaction
	End Try
	Begin Catch
			-- there was an error
			If XACT_STATE() =-1
			Begin
    				Rollback WORK
			End
			If @@trancount >0
			Begin
    				Rollback WORK
			End
			If XACT_STATE() = 1
			Begin
    				Commit WORK
			End
			--Getting the error description
			Set @sError  =   ERROR_MESSAGE()
			if @IsErrorTecnichal=1
			Begin
				Set @sError  =  ERROR_PROCEDURE() + 
					';  ' + convert(varchar,ERROR_LINE()) + 
					'; ' + ERROR_MESSAGE()
			End 
			--Getting the error description
			RaisError (@sError,16,1) 
			Return  
	End Catch
	--------------------------------------------------------------------------------
	-- Returning a Value
	--------------------------------------------------------------------------------
	Select  1
	-- - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -
End]]></Value>
			</Property>
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Relationship Name="BodyDependencies">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[varchar]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[int]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[C_Parameter_Get]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[C_Parameter_Get].[@CodeParameter]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[C_Parameter_Get].[@Value]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[QuantityMTByProducts]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[QuantityMT]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[QuantityMT].[Id]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[QuantityMTByProducts].[QuantityMTId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[QuantityMT].[Token]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[DB_Quantity_Delete].[@Token]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[QuantityMT].[Token]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[varchar]" />
				</Entry>
			</Relationship>
			<Relationship Name="Parameters">
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[DB_Quantity_Delete].[@Token]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[uniqueidentifier]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="Schema">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<Annotation Type="SysCommentsObjectAnnotation">
				<Property Name="Length" Value="2114" />
				<Property Name="StartLine" Value="1" />
				<Property Name="StartColumn" Value="1" />
				<Property Name="HeaderContents" Value="CREATE PROCEDURE [dbo].[DB_Quantity_Delete]&#xD;&#xA;&#x9;@Token uniqueidentifier&#xD;&#xA;--WITH ENCRYPTION&#xD;&#xA;AS" />
			</Annotation>
		</Element>
		<Element Type="SqlProcedure" Name="[dbo].[DB_Quantity_Get]">
			<Property Name="BodyScript">
				<Value><![CDATA[
BEGIN
		------------------------------------------------------------------------------
		-- Declaring tables
		------------------------------------------------------------------------------
		SELECT *
		FROM QuantityMT
		Where Token= @Token
		-- - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -
END]]></Value>
			</Property>
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Relationship Name="BodyDependencies">
				<Entry>
					<References Name="[dbo].[QuantityMT]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[QuantityMT].[Token]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[DB_Quantity_Get].[@Token]" />
				</Entry>
			</Relationship>
			<Relationship Name="Parameters">
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[DB_Quantity_Get].[@Token]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[uniqueidentifier]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="Schema">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<Annotation Type="SysCommentsObjectAnnotation">
				<Property Name="Length" Value="416" />
				<Property Name="StartLine" Value="1" />
				<Property Name="StartColumn" Value="1" />
				<Property Name="HeaderContents" Value="Create PROCEDURE DB_Quantity_Get&#xD;&#xA;&#x9;@Token uniqueidentifier&#xD;&#xA;--WITH ENCRYPTION&#xD;&#xA;AS" />
			</Annotation>
		</Element>
		<Element Type="SqlProcedure" Name="[dbo].[DB_Quantity_List]">
			<Property Name="BodyScript">
				<Value><![CDATA[

	/*------------------------------------------------------------------------------
		-- getting xml main list only range: records_[begin,end], setting record status.
		--------------------------------------------------------------------------------*/
		Select @TotalRecords=count(*) From QuantityMT
		if(@ProductId>0)
		Begin
			;With CteByProduct as (
					Select QuantityMTId,Products.MeasureQuantity
					From QuantityMTByProducts
						Inner join Products on Products.Id=QuantityMTByProducts.ProductId
					Where ProductId=@ProductId
			)
			------------------------------------------------------------------------------
			-- getting user list
			------------------------------------------------------------------------------						   
			Select QuantityMT.*,CteByProduct.MeasureQuantity as Measure
			From QuantityMT
			Inner Join CteByProduct on CteByProduct.QuantityMTId=QuantityMT.Id
			Where QuantityMT.IsActive=1
			ORDER BY Quantity asc
			/*-- - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -*/
		End
		else
		Begin
			Select QuantityMT.*
			From QuantityMT
			Where (QuantityMT.Name like '%'+ @Filter  +'%' or Isnull(@Filter,'')='') 
			ORDER BY Quantity asc, CURRENT_TIMESTAMP OFFSET (@PageIndex-1)*@PageSize ROWS FETCH FIRST @PageSize ROWS ONLY
		End]]></Value>
			</Property>
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Relationship Name="BodyDependencies">
				<Entry>
					<References Name="[dbo].[QuantityMT]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[DB_Quantity_List].[@TotalRecords]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[DB_Quantity_List].[@ProductId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[QuantityMTByProducts]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Products]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Products].[Id]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[QuantityMTByProducts].[ProductId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[QuantityMTByProducts].[QuantityMTId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Products].[MeasureQuantity]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[QuantityMTByProducts].[ProductId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[QuantityMTByProducts].[QuantityMTId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[QuantityMT].[Id]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Products].[MeasureQuantity]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[QuantityMT].[IsActive]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[QuantityMT].[Quantity]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[QuantityMT].[Name]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[DB_Quantity_List].[@Filter]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[DB_Quantity_List].[@PageIndex]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[DB_Quantity_List].[@PageSize]" />
				</Entry>
			</Relationship>
			<Relationship Name="DynamicObjects">
				<Entry>
					<Element Type="SqlDynamicColumnSource" Name="[dbo].[DB_Quantity_List].[CTE1].[CteByProduct]">
						<Relationship Name="Columns">
							<Entry>
								<Element Type="SqlComputedColumn" Name="[dbo].[DB_Quantity_List].[CTE1].[CteByProduct].[QuantityMTId]">
									<Relationship Name="ExpressionDependencies">
										<Entry>
											<References Name="[dbo].[QuantityMTByProducts].[QuantityMTId]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
							<Entry>
								<Element Type="SqlComputedColumn" Name="[dbo].[DB_Quantity_List].[CTE1].[CteByProduct].[MeasureQuantity]">
									<Relationship Name="ExpressionDependencies">
										<Entry>
											<References Name="[dbo].[Products].[MeasureQuantity]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="Parameters">
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[DB_Quantity_List].[@PageIndex]">
						<Property Name="DefaultExpressionScript">
							<Value><![CDATA[1]]></Value>
						</Property>
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[DB_Quantity_List].[@PageSize]">
						<Property Name="DefaultExpressionScript">
							<Value><![CDATA[10]]></Value>
						</Property>
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[DB_Quantity_List].[@ProductId]">
						<Property Name="DefaultExpressionScript">
							<Value><![CDATA[0]]></Value>
						</Property>
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[DB_Quantity_List].[@TotalRecords]">
						<Property Name="IsOutput" Value="True" />
						<Property Name="DefaultExpressionScript">
							<Value><![CDATA[0]]></Value>
						</Property>
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[DB_Quantity_List].[@Filter]">
						<Property Name="DefaultExpressionScript">
							<Value><![CDATA['']]></Value>
						</Property>
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Property Name="Length" Value="200" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[varchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="Schema">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<Annotation Type="SysCommentsObjectAnnotation">
				<Property Name="Length" Value="1520" />
				<Property Name="StartLine" Value="1" />
				<Property Name="StartColumn" Value="1" />
				<Property Name="HeaderContents" Value="CREATE PROCEDURE [dbo].[DB_Quantity_List]&#xD;&#xA;&#x9;@PageIndex [int] = 1,&#xD;&#xA;&#x9;@PageSize [int] = 10,&#xD;&#xA;&#x9;@ProductId [int] = 0,&#xD;&#xA;&#x9;@TotalRecords [int] = 0 OUTPUT,&#xD;&#xA;&#x9;@Filter varchar(200) =''&#xD;&#xA;--WITH ENCRYPTION&#xD;&#xA;AS" />
			</Annotation>
		</Element>
		<Element Type="SqlProcedure" Name="[dbo].[DB_Quantity_Save]">
			<Property Name="BodyScript">
				<Value><![CDATA[
Begin
	--------------------------------------------------------------------------------
	-- IMPORTANT: Set this option ON: if do you wants stop and rollback transaction.
	--------------------------------------------------------------------------------
	SET XACT_ABORT ON
	--------------------------------------------------------------------------------
	-- Declaration of Variables
	--------------------------------------------------------------------------------
	Declare  @sError Varchar(Max) ,@IsErrorTecnichal int,@Id int
	Execute C_Parameter_Get @CodeParameter= 'ERROR_TECNICHAL', @Value= @IsErrorTecnichal OUTPUT
	-- - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -
	Begin Try
	IF Exists(Select Top 1 * From dbo.QuantityMT Where Token<>@Token and Name=@Name)
	Begin
		RaisError('The duplicate key value is %s.',16,1,@Name)  
		return
	End
	--------------------------------------------------------------------------------
	-- Insert or Update Record
	--------------------------------------------------------------------------------
	Select @Id=Id From dbo.QuantityMT Where Token=@Token
	Begin Transaction
	IF Not Exists(Select Top 1 * From dbo.QuantityMT Where Token=@Token)
	Begin
		INSERT INTO [dbo].[QuantityMT]
				   ([Token]
				   ,[Name]
				   ,[Quantity]
				   ,[Creation]
				   ,[Updated]
				   ,[IsActive]
				   ,[UpdatedId])
			 VALUES
				   (NewId()
				   ,@Name
				   ,@Quantity
				   ,getdate()
				   ,getdate()
				   ,@IsActive
				   ,@UpdatedId)
			Set @Id=SCOPE_IDENTITY()
	End
	Else
	Begin
		UPDATE [dbo].[QuantityMT]
		   SET [Token] = @Token
			  ,[Name] = @Name
			  ,[Quantity] = @Quantity
			  ,[Updated] = getdate()
			  ,[IsActive] = @IsActive
			  ,[UpdatedId] = @UpdatedId
		Where Token =  @Token
		If @@rowcount= 0
		Begin
			RaisError('SQLUPDATE_FAILD',16,1)  
		End
	End
	Delete QP From QuantityMTByProducts  as QP
			Inner Join dbo.QuantityMT On dbo.QuantityMT.Id=QP.QuantityMTId
	Where dbo.QuantityMT.Id=@Id 
	INSERT INTO [dbo].[QuantityMTByProducts]
				([Token]
				,[ProductId]
				,[QuantityMTId]
				,[Creation]
				,[Updated]
				,[IsActive]
				,[UpdatedId])
	Select NewId(), item,@Id, getdate(),getdate(),1,@UpdatedId  from [dbo].[TableSplit](@Products,',')
	Commit Transaction
	End Try
	Begin Catch
		-- there was an error
		If XACT_STATE() =-1
		Begin
			Rollback WORK
		End
		If @@trancount >0
		Begin
			Rollback WORK
		End
		If XACT_STATE() = 1
		Begin
			Commit WORK
		End
		--Getting the error description
		Set @sError  =  ERROR_MESSAGE()
		if @IsErrorTecnichal=1
		Begin
			Set @sError  =  ERROR_PROCEDURE() + 
					';  ' + convert(varchar,ERROR_LINE()) + 
					'; ' + ERROR_MESSAGE()
		End 
		RaisError(@sError,16,1)  
		Return  
	End Catch
	--------------------------------------------------------------------------------
	-- Returning a Primary Key Value
	--------------------------------------------------------------------------------
	-- - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -
End]]></Value>
			</Property>
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Relationship Name="BodyDependencies">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[varchar]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[int]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[int]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[C_Parameter_Get]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[C_Parameter_Get].[@CodeParameter]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[C_Parameter_Get].[@Value]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[QuantityMT]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[QuantityMT].[Token]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[DB_Quantity_Save].[@Token]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[QuantityMT].[Name]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[DB_Quantity_Save].[@Name]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[QuantityMT].[Id]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[QuantityMT].[Token]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[QuantityMT].[Name]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[QuantityMT].[Quantity]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[QuantityMT].[Creation]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[QuantityMT].[Updated]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[QuantityMT].[IsActive]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[QuantityMT].[UpdatedId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[DB_Quantity_Save].[@Quantity]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[DB_Quantity_Save].[@IsActive]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[DB_Quantity_Save].[@UpdatedId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[QuantityMTByProducts]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[QuantityMT].[Id]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[QuantityMTByProducts].[QuantityMTId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[QuantityMTByProducts].[Token]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[QuantityMTByProducts].[ProductId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[QuantityMTByProducts].[QuantityMTId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[QuantityMTByProducts].[Creation]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[QuantityMTByProducts].[Updated]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[QuantityMTByProducts].[IsActive]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[QuantityMTByProducts].[UpdatedId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[DB_Quantity_Save].[@Products]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[TableSplit]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[TableSplit].[item]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[varchar]" />
				</Entry>
			</Relationship>
			<Relationship Name="Parameters">
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[DB_Quantity_Save].[@Token]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[uniqueidentifier]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[DB_Quantity_Save].[@Name]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Property Name="Length" Value="50" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[varchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[DB_Quantity_Save].[@Quantity]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Property Name="Precision" Value="53" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[float]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[DB_Quantity_Save].[@IsActive]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[bit]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[DB_Quantity_Save].[@Products]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Property Name="IsMax" Value="True" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[varchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[DB_Quantity_Save].[@UpdatedId]">
						<Property Name="DefaultExpressionScript">
							<Value><![CDATA[Null]]></Value>
						</Property>
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="Schema">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<Annotation Type="SysCommentsObjectAnnotation">
				<Property Name="Length" Value="3324" />
				<Property Name="StartLine" Value="1" />
				<Property Name="StartColumn" Value="1" />
				<Property Name="HeaderContents" Value="CREATE PROCEDURE [dbo].[DB_Quantity_Save]&#xD;&#xA;&#x9; @Token uniqueidentifier&#xD;&#xA;&#x9;,@Name varchar(50)&#xD;&#xA;&#x9;,@Quantity float&#xD;&#xA;&#x9;,@IsActive bit&#xD;&#xA;&#x9;,@Products varchar(max)&#xD;&#xA;&#x9;,@UpdatedId [int] = Null&#xD;&#xA;--WITH ENCRYPTION&#xD;&#xA;AS" />
			</Annotation>
		</Element>
		<Element Type="SqlProcedure" Name="[dbo].[DB_Quantity_StatusUpdate]">
			<Property Name="BodyScript">
				<Value><![CDATA[
BEGIN
		/*------------------------------------------------------------------------------
		-- getting xml main list only range: records_[begin,end], setting record status.
		------------------------------------------------------------------------------*/
		Declare @sError Varchar(Max) ,@IsErrorTecnichal int
		Execute C_Parameter_Get @CodeParameter= 'ERROR_TECNICHAL', @Value= @IsErrorTecnichal OUTPUT
		Begin Try
		Begin Transaction
			Update QuantityMT 
			SET Updated=getdate(),
				IsActive=@IsActive
			where Token=@Token
		Commit Transaction
	------------------------------------------------------------------------------
	-- send back answer
	------------------------------------------------------------------------------
	-- - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -
	End Try
	Begin Catch
		-- there was an error
		If XACT_STATE() =-1
		Begin
    			Rollback WORK
		End
		If @@trancount >0
		Begin
    			Rollback WORK
		End
		If XACT_STATE() = 1
		Begin
    			Commit WORK
		End
		--Getting the error description
		Set @sError  =   ERROR_MESSAGE()
		if @IsErrorTecnichal=1
		Begin
			Set @sError  =  ERROR_PROCEDURE() + 
					';  ' + convert(varchar,ERROR_LINE()) + 
					'; ' + ERROR_MESSAGE()
		End 
		RaisError (@sError,16,1)   
		Return
	End Catch
END]]></Value>
			</Property>
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Relationship Name="BodyDependencies">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[varchar]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[int]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[C_Parameter_Get]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[C_Parameter_Get].[@CodeParameter]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[C_Parameter_Get].[@Value]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[QuantityMT]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[QuantityMT].[Updated]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[QuantityMT].[IsActive]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[DB_Quantity_StatusUpdate].[@IsActive]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[QuantityMT].[Token]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[DB_Quantity_StatusUpdate].[@Token]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[varchar]" />
				</Entry>
			</Relationship>
			<Relationship Name="Parameters">
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[DB_Quantity_StatusUpdate].[@UpdatedId]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[DB_Quantity_StatusUpdate].[@Token]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[uniqueidentifier]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[DB_Quantity_StatusUpdate].[@IsActive]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="Schema">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<Annotation Type="SysCommentsObjectAnnotation">
				<Property Name="CreateOffset" Value="3" />
				<Property Name="Length" Value="1474" />
				<Property Name="StartLine" Value="1" />
				<Property Name="StartColumn" Value="1" />
				<Property Name="HeaderContents" Value=" &#xD;&#xA;Create PROCEDURE DB_Quantity_StatusUpdate&#xD;&#xA;&#x9;@UpdatedId [int],&#xD;&#xA;&#x9;@Token uniqueidentifier,&#xD;&#xA;&#x9;@IsActive int&#xD;&#xA;--WITH ENCRYPTION&#xD;&#xA;AS" />
			</Annotation>
		</Element>
		<Element Type="SqlProcedure" Name="[dbo].[DB_QuantityProduct_Assigned]">
			<Property Name="BodyScript">
				<Value><![CDATA[
BEGIN
		------------------------------------------------------------------------------
		-- Declaring tables
		------------------------------------------------------------------------------
		Declare @Id int

		Select @Id=Id
		From QuantityMT
		Where Token=@Token


		Select Products.Name ,Products.Id
		from Products 
		Where Id Not in (Select Products.Id
						from QuantityMTByProducts 
							Inner Join  Products On Products.Id=QuantityMTByProducts.ProductId
						Where QuantityMTId=@Id)

		Select Products.Name ,Products.Id
		from QuantityMTByProducts 
			Inner Join  Products On Products.Id=QuantityMTByProducts.ProductId
		Where QuantityMTId=@Id

		-- - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -
END]]></Value>
			</Property>
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Relationship Name="BodyDependencies">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[int]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[QuantityMT]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[QuantityMT].[Id]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[QuantityMT].[Token]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[DB_QuantityProduct_Assigned].[@Token]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Products]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Products].[Name]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Products].[Id]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Products].[Id]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[QuantityMTByProducts]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Products]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Products].[Id]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[QuantityMTByProducts].[ProductId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[QuantityMTByProducts].[QuantityMTId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[QuantityMTByProducts]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Products].[Id]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[QuantityMTByProducts].[ProductId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Products].[Name]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[QuantityMTByProducts].[QuantityMTId]" />
				</Entry>
			</Relationship>
			<Relationship Name="Parameters">
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[DB_QuantityProduct_Assigned].[@Token]">
						<Property Name="DefaultExpressionScript">
							<Value><![CDATA[null]]></Value>
						</Property>
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[uniqueidentifier]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="Schema">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<Annotation Type="SysCommentsObjectAnnotation">
				<Property Name="Length" Value="872" />
				<Property Name="StartLine" Value="1" />
				<Property Name="StartColumn" Value="1" />
				<Property Name="HeaderContents" Value="CREATE PROCEDURE [dbo].[DB_QuantityProduct_Assigned]&#xD;&#xA;&#x9;@Token uniqueidentifier=null&#xD;&#xA;--WITH ENCRYPTION&#xD;&#xA;AS" />
			</Annotation>
		</Element>
		<Element Type="SqlProcedure" Name="[dbo].[DB_RankRateTerminals_Get]">
			<Property Name="BodyScript">
				<Value><![CDATA[
BEGIN
		------------------------------------------------------------------------------
		-- Declaring tables
		------------------------------------------------------------------------------
		SELECT RankRateTerminals.*
		FROM RankRateTerminals 
			Inner Join Terminals On Terminals.Id=RankRateTerminals.TerminalId
		Where Terminals.Token= @Token
		-- - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -
END]]></Value>
			</Property>
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Relationship Name="BodyDependencies">
				<Entry>
					<References Name="[dbo].[RankRateTerminals]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Terminals]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Terminals].[Id]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[RankRateTerminals].[TerminalId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Terminals].[Token]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[DB_RankRateTerminals_Get].[@Token]" />
				</Entry>
			</Relationship>
			<Relationship Name="Parameters">
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[DB_RankRateTerminals_Get].[@Token]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[uniqueidentifier]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="Schema">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<Annotation Type="SysCommentsObjectAnnotation">
				<Property Name="Length" Value="539" />
				<Property Name="StartLine" Value="1" />
				<Property Name="StartColumn" Value="1" />
				<Property Name="HeaderContents" Value="CREATE PROCEDURE [dbo].[DB_RankRateTerminals_Get]&#xD;&#xA;&#x9;@Token uniqueidentifier&#xD;&#xA;--WITH ENCRYPTION&#xD;&#xA;AS" />
			</Annotation>
		</Element>
		<Element Type="SqlProcedure" Name="[dbo].[DB_RequesForServices_List]">
			<Property Name="BodyScript">
				<Value><![CDATA[
Begin


	/*------------------------------------------------------------------------------
		-- getting xml main list only range: records_[begin,end], setting record status.
		--------------------------------------------------------------------------------*/
		Select @TotalRecords=count(*) From RequestForServices Where Owner=@Owner
		------------------------------------------------------------------------------
		-- getting user list
		------------------------------------------------------------------------------						   
		Select RequestForServices.Token, Products.Name as Product, StowageFactors.Name as StowageFactors, RequestForServices.StowageFactor, RequestForServices.Quantity ,QuantityMT.Name as Quantitys,
		 LoadingCondition.Name as LoadingConditionName,UnLoadingCondition.Name as UnLoadingConditionName, RequestForServices.LoadingRate,RequestForServices.UnLoadingRate,RequestForServices.StartLaycan,RequestForServices.EndLaycan,
		  RequestForServices.Terms,Tolerance.Name as Tolerance, LoadPort.Name as LoadPort, UnLoadPort.Name as UnLoadPort, LoadTerminal.Name as LoadTerminal,
		  UnLoadTerminal.Name as UnLoadTerminal
		From RequestForServices
			Inner Join Products On Products.Id=RequestForServices.ProductId
			Left Join StowageFactors On StowageFactors.Id=RequestForServices.StowageFactorId
			Left Join QuantityMT On QuantityMT.Id=RequestForServices.QuantityId
			Inner Join Conditions as LoadingCondition On LoadingCondition.Id=RequestForServices.LoadingConditionId
			Inner Join Conditions as UnLoadingCondition On UnLoadingCondition.Id=RequestForServices.UnLoadingConditionId
			Inner Join Tolerance On Tolerance.Id=RequestForServices.ToleranceId
			Inner Join Ports as LoadPort On LoadPort.Id=RequestForServices.LoadPortId
			Inner Join Ports as UnLoadPort On UnLoadPort.Id=RequestForServices.DischargePortId
			Inner Join Terminals as LoadTerminal On LoadTerminal.Id=RequestForServices.LoadTerminalId
			Inner Join Terminals as UnLoadTerminal On UnLoadTerminal.Id=RequestForServices.DischargeTerminalId
		Where 
			(Products.Id=@ProductId or @ProductId=0) 
			And (StowageFactors.Id=@StowageFactorId or @StowageFactorId=0) 
			And (QuantityMT.Id=@QuantityId or @QuantityId=0) 
			And (LoadingCondition.Id=@LoadingConditionId or @LoadingConditionId=0) 
			And (UnLoadingCondition.Id=@UnLoadingConditionId or @UnLoadingConditionId=0) 
			And (LoadPort.Id=@LoadPortId or @LoadPortId=0) 
			And (LoadTerminal.Id=@LoadTerminalId or @LoadTerminalId=0) 
			And (UnLoadPort.Id=@DischargePortId or @DischargePortId=0) 
			And (UnLoadTerminal.Id=@DischargeTerminalId or @DischargeTerminalId=0) 
			And (RequestForServices.StartLaycan>=@StartLaycan or @StartLaycan='0001-01-01') 
			And (RequestForServices.EndLaycan<=@EndLaycan or @EndLaycan='0001-01-01') 
		--	And Owner=@Owner
		ORDER BY CURRENT_TIMESTAMP OFFSET (@PageIndex-1)*@PageSize ROWS FETCH FIRST @PageSize ROWS ONLY
		/*-- - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -*/
End]]></Value>
			</Property>
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Relationship Name="BodyDependencies">
				<Entry>
					<References Name="[dbo].[RequestForServices]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[DB_RequesForServices_List].[@TotalRecords]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[RequestForServices].[Owner]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[DB_RequesForServices_List].[@Owner]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Products]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Products].[Id]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[RequestForServices].[ProductId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[StowageFactors]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[StowageFactors].[Id]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[RequestForServices].[StowageFactorId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[QuantityMT]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[QuantityMT].[Id]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[RequestForServices].[QuantityId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Conditions]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Conditions].[Id]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[RequestForServices].[LoadingConditionId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Conditions].[Id]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[RequestForServices].[UnLoadingConditionId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Tolerance]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Tolerance].[Id]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[RequestForServices].[ToleranceId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Ports]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Ports].[Id]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[RequestForServices].[LoadPortId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Ports].[Id]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[RequestForServices].[DischargePortId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Terminals]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Terminals].[Id]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[RequestForServices].[LoadTerminalId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Terminals].[Id]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[RequestForServices].[DischargeTerminalId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[RequestForServices].[Token]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Products].[Name]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[StowageFactors].[Name]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[RequestForServices].[StowageFactor]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[RequestForServices].[Quantity]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[QuantityMT].[Name]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Conditions].[Name]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Conditions].[Name]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[RequestForServices].[LoadingRate]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[RequestForServices].[UnLoadingRate]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[RequestForServices].[StartLaycan]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[RequestForServices].[EndLaycan]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[RequestForServices].[Terms]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Tolerance].[Name]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Ports].[Name]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Ports].[Name]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Terminals].[Name]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Terminals].[Name]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Products].[Id]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[DB_RequesForServices_List].[@ProductId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[StowageFactors].[Id]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[DB_RequesForServices_List].[@StowageFactorId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[QuantityMT].[Id]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[DB_RequesForServices_List].[@QuantityId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Conditions].[Id]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[DB_RequesForServices_List].[@LoadingConditionId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Conditions].[Id]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[DB_RequesForServices_List].[@UnLoadingConditionId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Ports].[Id]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[DB_RequesForServices_List].[@LoadPortId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[DB_RequesForServices_List].[@LoadTerminalId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Ports].[Id]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[DB_RequesForServices_List].[@DischargePortId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[DB_RequesForServices_List].[@DischargeTerminalId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[DB_RequesForServices_List].[@StartLaycan]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[DB_RequesForServices_List].[@EndLaycan]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[DB_RequesForServices_List].[@PageIndex]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[DB_RequesForServices_List].[@PageSize]" />
				</Entry>
			</Relationship>
			<Relationship Name="Parameters">
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[DB_RequesForServices_List].[@PageIndex]">
						<Property Name="DefaultExpressionScript">
							<Value><![CDATA[1]]></Value>
						</Property>
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[DB_RequesForServices_List].[@PageSize]">
						<Property Name="DefaultExpressionScript">
							<Value><![CDATA[10]]></Value>
						</Property>
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[DB_RequesForServices_List].[@TotalRecords]">
						<Property Name="IsOutput" Value="True" />
						<Property Name="DefaultExpressionScript">
							<Value><![CDATA[0]]></Value>
						</Property>
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[DB_RequesForServices_List].[@Owner]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[DB_RequesForServices_List].[@UpdatedId]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[DB_RequesForServices_List].[@ProductId]">
						<Property Name="DefaultExpressionScript">
							<Value><![CDATA[0]]></Value>
						</Property>
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[DB_RequesForServices_List].[@StowageFactorId]">
						<Property Name="DefaultExpressionScript">
							<Value><![CDATA[0]]></Value>
						</Property>
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[DB_RequesForServices_List].[@QuantityId]">
						<Property Name="DefaultExpressionScript">
							<Value><![CDATA[0]]></Value>
						</Property>
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[DB_RequesForServices_List].[@LoadingConditionId]">
						<Property Name="DefaultExpressionScript">
							<Value><![CDATA[0]]></Value>
						</Property>
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[DB_RequesForServices_List].[@UnLoadingConditionId]">
						<Property Name="DefaultExpressionScript">
							<Value><![CDATA[0]]></Value>
						</Property>
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[DB_RequesForServices_List].[@LoadPortId]">
						<Property Name="DefaultExpressionScript">
							<Value><![CDATA[0]]></Value>
						</Property>
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[DB_RequesForServices_List].[@LoadTerminalId]">
						<Property Name="DefaultExpressionScript">
							<Value><![CDATA[0]]></Value>
						</Property>
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[DB_RequesForServices_List].[@DischargePortId]">
						<Property Name="DefaultExpressionScript">
							<Value><![CDATA[0]]></Value>
						</Property>
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[DB_RequesForServices_List].[@DischargeTerminalId]">
						<Property Name="DefaultExpressionScript">
							<Value><![CDATA[0]]></Value>
						</Property>
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[DB_RequesForServices_List].[@StartLaycan]">
						<Property Name="DefaultExpressionScript">
							<Value><![CDATA[null]]></Value>
						</Property>
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[date]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[DB_RequesForServices_List].[@EndLaycan]">
						<Property Name="DefaultExpressionScript">
							<Value><![CDATA[null]]></Value>
						</Property>
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[date]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="Schema">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<Annotation Type="SysCommentsObjectAnnotation">
				<Property Name="Length" Value="3488" />
				<Property Name="StartLine" Value="1" />
				<Property Name="StartColumn" Value="1" />
				<Property Name="HeaderContents" Value="CREATE PROCEDURE [dbo].[DB_RequesForServices_List]&#xD;&#xA;&#x9;@PageIndex [int] = 1,&#xD;&#xA;&#x9;@PageSize [int] = 10,&#xD;&#xA;&#x9;@TotalRecords [int] = 0 OUTPUT,&#xD;&#xA;&#x9;@Owner int,&#xD;&#xA;&#x9;@UpdatedId int,&#xD;&#xA;&#x9;@ProductId int=0, &#xD;&#xA;&#x9;@StowageFactorId int=0, &#xD;&#xA;    @QuantityId int=0, &#xD;&#xA;&#x9;@LoadingConditionId int=0,  &#xD;&#xA;&#x9;@UnLoadingConditionId int=0,  &#xD;&#xA;&#x9;@LoadPortId int=0,  &#xD;&#xA;&#x9;@LoadTerminalId int=0, &#xD;&#xA;&#x9;@DischargePortId int=0, &#xD;&#xA;&#x9;@DischargeTerminalId int=0, &#xD;&#xA;&#x9;@StartLaycan date=null,&#xD;&#xA;&#x9;@EndLaycan date=null&#xD;&#xA;AS" />
			</Annotation>
		</Element>
		<Element Type="SqlProcedure" Name="[dbo].[DB_SearchVessel_Apply]">
			<Property Name="BodyScript">
				<Value><![CDATA[
BEGIN
	-- SET NOCOUNT ON added to prevent extra result sets from
	-- interfering with SELECT statements.
	--------------------------------------------------------------------------------
	-- IMPORTANT: Set this option ON: if do you wants stop and rollback transaction.
	--------------------------------------------------------------------------------
	SET XACT_ABORT ON
	SET NOCOUNT ON;
	Declare @sError varchar(max) ,@IsErrorTecnichal int
	Execute C_Parameter_Get @CodeParameter= 'ERROR_TECNICHAL', @Value= @IsErrorTecnichal OUTPUT
	Begin Try
	Begin Transaction
		 Update ServiceLiquidations
		 Set Status='PENDING',
			 Updated=getdate()
		 From ServiceLiquidations
		 Inner Join [dbo].[TableSplit](@token,',') as T On ServiceLiquidations.Token=T.Item
	Commit Transaction
	------------------------------------------------------------------------------
	-- send back answer
	------------------------------------------------------------------------------
	-- - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -
	End Try
	Begin Catch
		-- there was an error
		If XACT_STATE() =-1
		Begin
    			Rollback WORK
		End
		If @@trancount >0
		Begin
    			Rollback WORK
		End
		If XACT_STATE() = 1
		Begin
    			Commit WORK
		End
		--Getting the error description
		Set @sError  =   ERROR_MESSAGE()
		if @IsErrorTecnichal=1
		Begin
			Set @sError   =  ERROR_PROCEDURE() + 
					';  ' + convert(varchar,ERROR_LINE()) + 
					'; ' + ERROR_MESSAGE()
		End 
		RaisError (@sError,16,1) 
		Return
	End Catch
END]]></Value>
			</Property>
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Relationship Name="BodyDependencies">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[varchar]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[int]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[C_Parameter_Get]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[C_Parameter_Get].[@CodeParameter]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[C_Parameter_Get].[@Value]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[ServiceLiquidations]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[DB_SearchVessel_Apply].[@token]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[TableSplit]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[ServiceLiquidations].[Token]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[TableSplit].[item]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[ServiceLiquidations].[Status]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[ServiceLiquidations].[Updated]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[varchar]" />
				</Entry>
			</Relationship>
			<Relationship Name="Parameters">
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[DB_SearchVessel_Apply].[@token]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Property Name="IsMax" Value="True" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[varchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[DB_SearchVessel_Apply].[@UpdatedId]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="Schema">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<Annotation Type="SysCommentsObjectAnnotation">
				<Property Name="CreateOffset" Value="194" />
				<Property Name="Length" Value="1917" />
				<Property Name="StartLine" Value="1" />
				<Property Name="StartColumn" Value="1" />
				<Property Name="HeaderContents" Value="-- =============================================&#xD;&#xA;-- Author:&#x9;&#x9;&lt;Author,,Name&gt;&#xD;&#xA;-- Create date: &lt;Create Date,,&gt;&#xD;&#xA;-- Description:&#x9;&lt;Description,,&gt;&#xD;&#xA;-- =============================================&#xD;&#xA;CREATE PROCEDURE [dbo].[DB_SearchVessel_Apply]&#xD;&#xA;&#x9;-- Add the parameters for the stored procedure here&#xD;&#xA;&#x9;  @token varchar(max)&#xD;&#xA;     ,@UpdatedId int&#xD;&#xA;AS" />
			</Annotation>
		</Element>
		<Element Type="SqlProcedure" Name="[dbo].[DB_SearchVessel_Continue]">
			<Property Name="BodyScript">
				<Value><![CDATA[
BEGIN
	-- SET NOCOUNT ON added to prevent extra result sets from
	-- interfering with SELECT statements.
	--------------------------------------------------------------------------------
	-- IMPORTANT: Set this option ON: if do you wants stop and rollback transaction.
	--------------------------------------------------------------------------------
	SET XACT_ABORT ON
	SET NOCOUNT ON;
	Declare @sError varchar(max) ,@IsErrorTecnichal int
	Execute C_Parameter_Get @CodeParameter= 'ERROR_TECNICHAL', @Value= @IsErrorTecnichal OUTPUT
	Begin Try
	Begin Transaction

		Update ServiceLiquidations
		Set Status='PENDING',
			 Updated=getdate()
		From ServiceLiquidations
			Inner Join RequestForServices On RequestForServices.Id=ServiceLiquidations.RequestForServiceId
		Where RequestForServices.Token=@RequestToken
		
	
		 Update ServiceLiquidations
		 Set Status='REQUEST',
			 Updated=getdate()
		 From ServiceLiquidations
			 Inner Join [dbo].[TableSplit](@token,',') as T On ServiceLiquidations.Token=T.Item
	Commit Transaction
	------------------------------------------------------------------------------
	-- send back answer
	------------------------------------------------------------------------------
	-- - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -
	End Try
	Begin Catch
		-- there was an error
		If XACT_STATE() =-1
		Begin
    			Rollback WORK
		End
		If @@trancount >0
		Begin
    			Rollback WORK
		End
		If XACT_STATE() = 1
		Begin
    			Commit WORK
		End
		--Getting the error description
		Set @sError  =   ERROR_MESSAGE()
		if @IsErrorTecnichal=1
		Begin
			Set @sError   =  ERROR_PROCEDURE() + 
					';  ' + convert(varchar,ERROR_LINE()) + 
					'; ' + ERROR_MESSAGE()
		End 
		RaisError (@sError,16,1) 
		Return
	End Catch

	 
	 Select Distinct Vessel.Owner,RequestForServices.Id
			,Products.Name as ProductName
			,LoadTerminal.Name as LoadTerminalName
			,DischargeTerminal.Name as DischargeTerminalName
			,QuantityMT.Name as QuantityMTName,
			RequestForServices.StartLaycan,RequestForServices.EndLaycan,dbo.GetStatusRequest(RequestForServices.Id)  as NewStatus
	 From ServiceLiquidations
		 Inner join RequestForServices On RequestForServices.Id=ServiceLiquidations.RequestForServiceId --and ServiceLiquidations.Status='INPROGRESS'
		 Inner join ItemsLiquidation On ItemsLiquidation.ServiceLiquidationId=ServiceLiquidations.Id
		 Inner join Vessel On Vessel.Id=ItemsLiquidation.VesselId
		 Inner join Products On Products.Id=RequestForServices.ProductId
		 Left join QuantityMT On QuantityMT.Id=RequestForServices.QuantityId
		Left join QuantityMTByProducts On QuantityMTByProducts.ProductId=RequestForServices.ProductId and QuantityMTByProducts.QuantityMTId= QuantityMT.Id
		Inner join Ports as LoadPort On LoadPort.Id=RequestForServices.LoadPortId
		Inner join Ports as DischargePort On DischargePort.Id=RequestForServices.DischargePortId
		Inner Join TerminalByProducts as TerminalByProductLoad On TerminalByProductLoad.ProductId=RequestForServices.ProductId
		Inner join Terminals as LoadTerminal On LoadTerminal.Id=RequestForServices.LoadTerminalId and TerminalByProductLoad.TerminalId=LoadTerminal.Id
		Inner Join TerminalByProducts as TerminalByProductDischarge On TerminalByProductDischarge.ProductId=RequestForServices.ProductId
		Inner join Terminals as DischargeTerminal On DischargeTerminal.Id=RequestForServices.DischargeTerminalId and TerminalByProductDischarge.TerminalId=DischargeTerminal.Id
	 Where RequestForServices.Token=@RequestToken 
END]]></Value>
			</Property>
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Relationship Name="BodyDependencies">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[varchar]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[int]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[C_Parameter_Get]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[C_Parameter_Get].[@CodeParameter]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[C_Parameter_Get].[@Value]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[ServiceLiquidations]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[RequestForServices]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[RequestForServices].[Id]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[ServiceLiquidations].[RequestForServiceId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[ServiceLiquidations].[Status]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[ServiceLiquidations].[Updated]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[RequestForServices].[Token]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[DB_SearchVessel_Continue].[@RequestToken]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[DB_SearchVessel_Continue].[@token]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[TableSplit]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[ServiceLiquidations].[Token]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[TableSplit].[item]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[varchar]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[ItemsLiquidation]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[ItemsLiquidation].[ServiceLiquidationId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[ServiceLiquidations].[Id]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Vessel]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Vessel].[Id]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[ItemsLiquidation].[VesselId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Products]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Products].[Id]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[RequestForServices].[ProductId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[QuantityMT]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[QuantityMT].[Id]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[RequestForServices].[QuantityId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[QuantityMTByProducts]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[QuantityMTByProducts].[ProductId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[RequestForServices].[ProductId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[QuantityMTByProducts].[QuantityMTId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[QuantityMT].[Id]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Ports]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Ports].[Id]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[RequestForServices].[LoadPortId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Ports].[Id]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[RequestForServices].[DischargePortId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[TerminalByProducts]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[TerminalByProducts].[ProductId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[RequestForServices].[ProductId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Terminals]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Terminals].[Id]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[RequestForServices].[LoadTerminalId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[TerminalByProducts].[TerminalId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[TerminalByProducts].[ProductId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[RequestForServices].[ProductId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Terminals].[Id]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[RequestForServices].[DischargeTerminalId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[TerminalByProducts].[TerminalId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Vessel].[Owner]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[RequestForServices].[Id]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Products].[Name]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Terminals].[Name]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Terminals].[Name]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[QuantityMT].[Name]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[RequestForServices].[StartLaycan]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[RequestForServices].[EndLaycan]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[GetStatusRequest]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[RequestForServices].[Token]" />
				</Entry>
			</Relationship>
			<Relationship Name="Parameters">
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[DB_SearchVessel_Continue].[@RequestToken]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[uniqueidentifier]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[DB_SearchVessel_Continue].[@token]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Property Name="IsMax" Value="True" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[varchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[DB_SearchVessel_Continue].[@UpdatedId]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="Schema">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<Annotation Type="SysCommentsObjectAnnotation">
				<Property Name="CreateOffset" Value="342" />
				<Property Name="Length" Value="4073" />
				<Property Name="StartLine" Value="1" />
				<Property Name="StartColumn" Value="1" />
				<Property Name="HeaderContents" Value="-- =============================================&#xD;&#xA;-- Author:&#x9;&#x9;&lt;Author,,Name&gt;&#xD;&#xA;-- Create date: &lt;Create Date,,&gt;&#xD;&#xA;-- Description:&#x9;&lt;Description,,&gt;&#xD;&#xA;-- =============================================&#xD;&#xA;&#xD;&#xA;--DB_SearchVessel_Continue 'cd10b7e1-79bc-461b-9e54-b163eee49b62','b3a14d45-54a1-4321-8029-2c783fdc7824,1353a80d-bfa7-486a-810d-e98ecb5bea0b',51&#xD;&#xA;CREATE PROCEDURE [dbo].[DB_SearchVessel_Continue]&#xD;&#xA;&#x9;  @RequestToken uniqueidentifier&#xD;&#xA;&#x9; ,@token varchar(max)&#xD;&#xA;     ,@UpdatedId int&#xD;&#xA;AS" />
			</Annotation>
		</Element>
		<Element Type="SqlProcedure" Name="[dbo].[DB_SearchVessel_Get]">
			<Property Name="BodyScript">
				<Value><![CDATA[
BEGIN
	-- SET NOCOUNT ON added to prevent extra result sets from
	-- interfering with SELECT statements.
	--------------------------------------------------------------------------------
	-- IMPORTANT: Set this option ON: if do you wants stop and rollback transaction.
	--------------------------------------------------------------------------------
	SET XACT_ABORT ON
	SET NOCOUNT ON;
	--------------------------------------------------------------------------------
	-- Declaration of Variables
	--------------------------------------------------------------------------------
	Declare @sError Varchar(Max) ,@IsErrorTecnichal int,@id int
	Execute C_Parameter_Get @CodeParameter= 'ERROR_TECNICHAL', @Value= @IsErrorTecnichal OUTPUT
	-- - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -
	Begin Try
		SELECT RequestForServices.Id
			  ,RequestForServices.ProductId
	          ,Products.Name as ProductName
			  ,RequestForServices.StowageFactorId
			  ,StowageFactors.Name as StowageFactorName
			  ,StowageFactor
			  ,Products.Measure
			  ,RequestForServices.Creation
			  ,QuantityId
			  ,QuantityMT.Name as QuantityMTName
			  ,Products.MeasureQuantity
			  ,RequestForServices.Quantity
			  ,ToleranceId
			  ,Tolerance.Name as ToleranceName
			  ,RequestForServices.Terms
			  ,LoadingConditionId
			  ,LoadingCondition.Name as LoadingConditionName
			  ,UnLoadingConditionId
			  ,UnLoadingCondition.Name as UnLoadingConditionName
			  ,LoadPortId
			  ,LoadPort.Name+ ' ,'+ LoadCountry.CodeInternational as LoadPortName
			  ,LoadTerminalId
			  ,LoadTerminal.Name as LoadTerminalName
			  ,RequestForServices.LoadingRate
			  ,DischargePortId
			  ,DischargePort.Name+' ,'+ DischargeCountry.CodeInternational as DischargePortName
			  ,DischargeTerminalId
			  ,DischargeTerminal.Name as DischargeTerminalName
			  ,RequestForServices.UnLoadingRate
			  ,StartLaycan
			  ,EndLaycan
			  ,Status
			  ,(Select Name From Vessel Where ID=@VesselId) as VesselName
			  ,dbo.GetStatusRequest(RequestForServices.Id) as NewStatus
			  ,(Select CurrentPort.Name+ ' ,'+ Country.CodeInternational 
					 From ServiceLiquidations
					 Inner Join  Ports as CurrentPort On CurrentPort.Id=ServiceLiquidations.CurrentPortId
					 Inner Join Cities as Citie On CurrentPort.City=Citie.CityId
					 Inner Join Countries as Country On Country.CountryId=Citie.CountryId
					 Where ServiceLiquidations.VesselId=@VesselId and RequestForServiceId=RequestForServices.Id) as CurrentPortName
			  ,(Select Count(1) 
				From ServiceLiquidations 
				Where RequestForServiceId=RequestForServices.Id) as CountVessel 
			  ,@VesselId as VesselId, RequestForServices.HourCanalPanama,
			  (Select Count(1) 
				 From   ItemsLiquidation
						Inner Join ServiceLiquidations On ServiceLiquidations.Id=ItemsLiquidation.ServiceLiquidationId and RequestForServiceId=RequestForServices.Id
				 Where ItemsLiquidation.VesselId=@VesselId and IsNull(ItemsLiquidation.CanalPanamaDischarge,0) >0) as HourCanalPanamaDischarge,
			(Select Count(1) 
				 From   ItemsLiquidation
						Inner Join ServiceLiquidations On ServiceLiquidations.Id=ItemsLiquidation.ServiceLiquidationId and RequestForServiceId=RequestForServices.Id
				 Where ItemsLiquidation.VesselId=@VesselId and IsNull(ItemsLiquidation.CanalPanama,0) >0) as HourCanalPanama,
			 (Select Top 1 IsCurrentPort
				 From   ItemsLiquidation
				 	Inner Join ServiceLiquidations On ServiceLiquidations.Id=ItemsLiquidation.ServiceLiquidationId and RequestForServiceId=RequestForServices.Id
				 Where ItemsLiquidation.VesselId=@VesselId) as IsCurrentPort,
			(Select Top 1 ItemsLiquidation.Token
				 From   ItemsLiquidation
				 	Inner Join ServiceLiquidations On ServiceLiquidations.Id=ItemsLiquidation.ServiceLiquidationId and RequestForServiceId=RequestForServices.Id
				 Where ItemsLiquidation.VesselId=@VesselId) as TokenLiquidation
			FROM dbo.RequestForServices
			Inner join Products On Products.Id=RequestForServices.ProductId
			Inner join Conditions as LoadingCondition On LoadingCondition.Id=RequestForServices.LoadingConditionId
			Inner join Conditions  as UnLoadingCondition On UnLoadingCondition.Id=RequestForServices.UnLoadingConditionId
			Left join StowageFactors On StowageFactors.Id=RequestForServices.StowageFactorId
			Left join StowageFactorByProducts On StowageFactorByProducts.ProductId=RequestForServices.ProductId  and StowageFactors.Id=StowageFactorByProducts.StowageFactorId
			Left join QuantityMT On QuantityMT.Id=RequestForServices.QuantityId
			Left join QuantityMTByProducts On QuantityMTByProducts.ProductId=RequestForServices.ProductId and QuantityMTByProducts.QuantityMTId= QuantityMT.Id
			Inner join Tolerance On Tolerance.Id=RequestForServices.ToleranceId
			Inner join Ports as LoadPort On LoadPort.Id=RequestForServices.LoadPortId
			Inner Join Cities as LoadCitie On LoadPort.City=LoadCitie.CityId
			Inner Join Countries as LoadCountry On LoadCountry.CountryId=LoadCitie.CountryId
			Inner join Ports as DischargePort On DischargePort.Id=RequestForServices.DischargePortId
			Inner Join Cities as DischargeCitie On DischargePort.City=DischargeCitie.CityId
			Inner Join Countries as DischargeCountry On DischargeCountry.CountryId=DischargeCitie.CountryId
			Inner Join TerminalByProducts as TerminalByProductLoad On TerminalByProductLoad.ProductId=RequestForServices.ProductId
			Inner join Terminals as LoadTerminal On LoadTerminal.Id=RequestForServices.LoadTerminalId and TerminalByProductLoad.TerminalId=LoadTerminal.Id
			Inner Join TerminalByProducts as TerminalByProductDischarge On TerminalByProductDischarge.ProductId=RequestForServices.ProductId
			Inner join Terminals as DischargeTerminal On DischargeTerminal.Id=RequestForServices.DischargeTerminalId and TerminalByProductDischarge.TerminalId=DischargeTerminal.Id
		  Where RequestForServices.Token=@token
		        
	End Try
	Begin Catch
		--Getting the error description
		Set @sError  =  ERROR_MESSAGE()
		if @IsErrorTecnichal=1
		Begin
			Set @sError  =  ERROR_PROCEDURE() + 
					';  ' + convert(varchar,ERROR_LINE()) + 
					'; ' + ERROR_MESSAGE()
		End 
		RaisError(@sError,16,1)  
		Return  
	End Catch
	--------------------------------------------------------------------------------
	-- Returning a Primary Key Value
	--------------------------------------------------------------------------------
	-- - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -
END]]></Value>
			</Property>
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Relationship Name="BodyDependencies">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[varchar]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[int]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[int]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[C_Parameter_Get]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[C_Parameter_Get].[@CodeParameter]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[C_Parameter_Get].[@Value]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[RequestForServices]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Products]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Products].[Id]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[RequestForServices].[ProductId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Conditions]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Conditions].[Id]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[RequestForServices].[LoadingConditionId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Conditions].[Id]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[RequestForServices].[UnLoadingConditionId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[StowageFactors]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[StowageFactors].[Id]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[RequestForServices].[StowageFactorId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[StowageFactorByProducts]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[StowageFactorByProducts].[ProductId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[RequestForServices].[ProductId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[StowageFactors].[Id]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[StowageFactorByProducts].[StowageFactorId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[QuantityMT]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[QuantityMT].[Id]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[RequestForServices].[QuantityId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[QuantityMTByProducts]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[QuantityMTByProducts].[ProductId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[RequestForServices].[ProductId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[QuantityMTByProducts].[QuantityMTId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[QuantityMT].[Id]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Tolerance]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Tolerance].[Id]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[RequestForServices].[ToleranceId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Ports]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Ports].[Id]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[RequestForServices].[LoadPortId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Cities]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Ports].[City]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Cities].[CityId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Countries]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Countries].[CountryId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Cities].[CountryId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Ports].[Id]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[RequestForServices].[DischargePortId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Ports].[City]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Cities].[CityId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Countries].[CountryId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Cities].[CountryId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[TerminalByProducts]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[TerminalByProducts].[ProductId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[RequestForServices].[ProductId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Terminals]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Terminals].[Id]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[RequestForServices].[LoadTerminalId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[TerminalByProducts].[TerminalId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[TerminalByProducts].[ProductId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[RequestForServices].[ProductId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Terminals].[Id]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[RequestForServices].[DischargeTerminalId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[TerminalByProducts].[TerminalId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[RequestForServices].[Id]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Products].[Name]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[RequestForServices].[StowageFactorId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[StowageFactors].[Name]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[RequestForServices].[StowageFactor]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Products].[Measure]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[RequestForServices].[Creation]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[RequestForServices].[QuantityId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[QuantityMT].[Name]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Products].[MeasureQuantity]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[RequestForServices].[Quantity]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[RequestForServices].[ToleranceId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Tolerance].[Name]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[RequestForServices].[Terms]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[RequestForServices].[LoadingConditionId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Conditions].[Name]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[RequestForServices].[UnLoadingConditionId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Conditions].[Name]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[RequestForServices].[LoadPortId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Ports].[Name]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Countries].[CodeInternational]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[RequestForServices].[LoadTerminalId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Terminals].[Name]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[RequestForServices].[LoadingRate]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[RequestForServices].[DischargePortId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Ports].[Name]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Countries].[CodeInternational]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[RequestForServices].[DischargeTerminalId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Terminals].[Name]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[RequestForServices].[UnLoadingRate]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[RequestForServices].[StartLaycan]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[RequestForServices].[EndLaycan]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[RequestForServices].[Status]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Vessel]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Vessel].[Name]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Vessel].[Id]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[DB_SearchVessel_Get].[@VesselId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[GetStatusRequest]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[ServiceLiquidations]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Ports]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Ports].[Id]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[ServiceLiquidations].[CurrentPortId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Cities]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Ports].[City]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Cities].[CityId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Countries]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Countries].[CountryId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Cities].[CountryId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Ports].[Name]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Countries].[CodeInternational]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[ServiceLiquidations].[VesselId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[ServiceLiquidations].[RequestForServiceId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[RequestForServices].[Id]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[ServiceLiquidations].[RequestForServiceId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[RequestForServices].[Id]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[RequestForServices].[HourCanalPanama]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[ItemsLiquidation]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[ServiceLiquidations].[Id]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[ItemsLiquidation].[ServiceLiquidationId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[ServiceLiquidations].[RequestForServiceId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[RequestForServices].[Id]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[ItemsLiquidation].[VesselId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[ItemsLiquidation].[CanalPanamaDischarge]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[ItemsLiquidation].[CanalPanama]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[ItemsLiquidation].[IsCurrentPort]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[ItemsLiquidation].[Token]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[RequestForServices].[Token]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[DB_SearchVessel_Get].[@token]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[varchar]" />
				</Entry>
			</Relationship>
			<Relationship Name="Parameters">
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[DB_SearchVessel_Get].[@token]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[uniqueidentifier]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[DB_SearchVessel_Get].[@VesselId]">
						<Property Name="DefaultExpressionScript">
							<Value><![CDATA[0]]></Value>
						</Property>
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[DB_SearchVessel_Get].[@UpdatedId]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="Schema">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<Annotation Type="SysCommentsObjectAnnotation">
				<Property Name="CreateOffset" Value="263" />
				<Property Name="Length" Value="7013" />
				<Property Name="StartLine" Value="1" />
				<Property Name="StartColumn" Value="1" />
				<Property Name="HeaderContents" Value="-- =============================================&#xD;&#xA;-- Author:&#x9;&#x9;&lt;Author,,Name&gt;&#xD;&#xA;-- Create date: &lt;Create Date,,&gt;&#xD;&#xA;-- Description:&#x9;&lt;Description,,&gt;&#xD;&#xA;-- =============================================&#xD;&#xA;&#xD;&#xA;--DB_SearchVessel_Get 'bd10d71f-82f0-4fae-b525-ffb448fb8ec6',8,33&#xD;&#xA;CREATE PROCEDURE [dbo].[DB_SearchVessel_Get] &#xD;&#xA;&#x9;-- Add the parameters for the stored procedure here&#xD;&#xA;&#x9;   @token uniqueidentifier&#xD;&#xA;&#x9;  ,@VesselId int=0&#xD;&#xA;      ,@UpdatedId int&#xD;&#xA;AS" />
			</Annotation>
		</Element>
		<Element Type="SqlProcedure" Name="[dbo].[DB_SearchVessel_Step1]">
			<Property Name="BodyScript">
				<Value><![CDATA[
BEGIN
	-- SET NOCOUNT ON added to prevent extra result sets from
	-- interfering with SELECT statements.
	--------------------------------------------------------------------------------
	-- IMPORTANT: Set this option ON: if do you wants stop and rollback transaction.
	--------------------------------------------------------------------------------
	SET XACT_ABORT ON
	SET NOCOUNT ON;
	--------------------------------------------------------------------------------
	-- Declaration of Variables
	--------------------------------------------------------------------------------
	Declare @sError Varchar(Max) ,@IsErrorTecnichal int,@id int,@HourCanalPanama float
	Execute C_Parameter_Get @CodeParameter= 'ERROR_TECNICHAL', @Value= @IsErrorTecnichal OUTPUT
	-- - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -
	Begin Try
	--------------------------------------------------------------------------------
	-- Insert or Update Record
	--------------------------------------------------------------------------------
	Begin Transaction

		Select Top 1 @HourCanalPanama=HourCanalPanama
		from DistanceBetweenPorts 
		Where InputPortId =@LoadPortId and OutPutPortId=@DischargePortId
		if @StowageFactorId!='9999999'
		Begin
			Select @StowageFactor=StowageFactors.Value
			From StowageFactors
				Inner join StowageFactorByProducts On StowageFactorByProducts.ProductId=@ProductId  
						and StowageFactorByProducts.StowageFactorId=StowageFactors.Id
						and StowageFactors.Id=@StowageFactorId
		End
		if @QuantityId!='9999999'
		Begin
		  Select @Quantity=QuantityMT.Quantity
		  From QuantityMT
				Inner join QuantityMTByProducts On QuantityMTByProducts.ProductId=@ProductId 
					and QuantityMTByProducts.QuantityMTId= QuantityMT.Id
					and QuantityMT.Id= @QuantityId
		End

		if Not Exists (Select Top 1 Rate 
						From RankRateTerminals 
						Where @Quantity between Minimum and Maximum And TerminalId=@LoadTerminalId)
		Begin
			raiserror('Port Cost for load terminal is not defined for this quantity',16,1)
			return
		End

		if Not Exists (Select Top 1 Rate 
						From RankRateTerminals 
						Where @Quantity between Minimum and Maximum And TerminalId=@DischargeTerminalId)
		Begin
			raiserror('Port Cost for load terminal is not defined for this quantity',16,1)
			return
		End
		
		
		if Not Exists (Select top 1 Id From [RequestForServices] Where token=@Token)
		Begin 
			INSERT INTO [dbo].[RequestForServices]
					   ([ProductId]
					   ,[StowageFactorId]
					   ,[StowageFactor]
					   ,[Creation]
					   ,[QuantityId]
					   ,[Quantity]
					   ,[ToleranceId]
					   ,[Terms]
					   ,[LoadingConditionId]
					   ,[UnLoadingConditionId]
					   ,[LoadPortId]
					   ,[LoadTerminalId]
					   ,[LoadingRate]
					   ,[DischargePortId]
					   ,[DischargeTerminalId]
					   ,[UnLoadingRate]
					   ,[StartLaycan]
					   ,[EndLaycan]
					   ,[Status]
					   ,[UpdatedId]
					   ,Owner
					   ,HourCanalPanama)
				 VALUES
					   (@ProductId
					   ,@StowageFactorId
					   ,@StowageFactor
					   ,getdate()
					   ,@QuantityId
					   ,@Quantity
					   ,@ToleranceId
					   ,@Terms
					   ,@LoadingConditionId
					   ,@UnLoadingConditionId
					   ,@LoadPortId
					   ,@LoadTerminalId
					   ,@LoadingRate
					   ,@DischargePortId
					   ,@DischargeTerminalId
					   ,@UnLoadingRate
					   ,@StartLaycan
					   ,@EndLaycan
					   ,'REQUEST'
					   ,@UpdatedId
					   ,@UpdatedId
					   ,@HourCanalPanama)
				  Set @id=SCOPE_IDENTITY()
			End
			Else
			Begin
					UPDATE [dbo].[RequestForServices]
					SET [ProductId] = @ProductId
						  ,[StowageFactorId] = @StowageFactorId
						  ,[StowageFactor] = @StowageFactor
						  ,[QuantityId] = @QuantityId
						  ,[Quantity] = @Quantity
						  ,[ToleranceId] = @ToleranceId
						  ,[Terms] = @Terms
						  ,[LoadingConditionId] = @LoadingConditionId
						  ,[UnLoadingConditionId] = @UnLoadingConditionId
						  ,[LoadPortId] = @LoadPortId
						  ,[LoadTerminalId] = @LoadTerminalId
						  ,[LoadingRate] = @LoadingRate 
						  ,[DischargePortId] = @DischargePortId
						  ,[DischargeTerminalId] = @DischargeTerminalId
						  ,[UnLoadingRate] = @UnLoadingRate
						  ,[StartLaycan] = @StartLaycan
						  ,[EndLaycan] = @EndLaycan
						  ,[Owner] = @UpdatedId
						  ,HourCanalPanama=@HourCanalPanama
				WHERE token=@Token

				Select @id=Id
				From [dbo].[RequestForServices]
				Where token=@token
			End
		 
	Commit Transaction
	End Try
	Begin Catch
		-- there was an error
		If XACT_STATE() =-1
		Begin
			Rollback WORK
		End
		If @@trancount >0
		Begin
			Rollback WORK
		End
		If XACT_STATE() = 1
		Begin
			Commit WORK
		End
		--Getting the error description
		Set @sError  =  ERROR_MESSAGE()
		if @IsErrorTecnichal=1
		Begin
			Set @sError  =  ERROR_PROCEDURE() + 
					';  ' + convert(varchar,ERROR_LINE()) + 
					'; ' + ERROR_MESSAGE()
		End 
		RaisError(@sError,16,1)  
		Return  
	End Catch
	--------------------------------------------------------------------------------
	-- Returning a Primary Key Value
	--------------------------------------------------------------------------------
	Select  token
	From [RequestForServices]
	Where id=@id
	-- - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -
END]]></Value>
			</Property>
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Relationship Name="BodyDependencies">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[varchar]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[int]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[int]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[float]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[C_Parameter_Get]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[C_Parameter_Get].[@CodeParameter]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[C_Parameter_Get].[@Value]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[DistanceBetweenPorts]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[DistanceBetweenPorts].[HourCanalPanama]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[DistanceBetweenPorts].[InputPortId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[DB_SearchVessel_Step1].[@LoadPortId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[DistanceBetweenPorts].[OutPutPortId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[DB_SearchVessel_Step1].[@DischargePortId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[DB_SearchVessel_Step1].[@StowageFactorId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[StowageFactors]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[StowageFactorByProducts]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[StowageFactorByProducts].[ProductId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[DB_SearchVessel_Step1].[@ProductId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[StowageFactorByProducts].[StowageFactorId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[StowageFactors].[Id]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[DB_SearchVessel_Step1].[@StowageFactor]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[StowageFactors].[Value]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[DB_SearchVessel_Step1].[@QuantityId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[QuantityMT]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[QuantityMTByProducts]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[QuantityMTByProducts].[ProductId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[QuantityMTByProducts].[QuantityMTId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[QuantityMT].[Id]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[DB_SearchVessel_Step1].[@Quantity]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[QuantityMT].[Quantity]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[RankRateTerminals]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[RankRateTerminals].[Rate]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[RankRateTerminals].[Minimum]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[RankRateTerminals].[Maximum]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[RankRateTerminals].[TerminalId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[DB_SearchVessel_Step1].[@LoadTerminalId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[DB_SearchVessel_Step1].[@DischargeTerminalId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[RequestForServices]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[RequestForServices].[Id]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[RequestForServices].[Token]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[DB_SearchVessel_Step1].[@Token]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[RequestForServices].[ProductId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[RequestForServices].[StowageFactorId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[RequestForServices].[StowageFactor]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[RequestForServices].[Creation]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[RequestForServices].[QuantityId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[RequestForServices].[Quantity]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[RequestForServices].[ToleranceId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[RequestForServices].[Terms]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[RequestForServices].[LoadingConditionId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[RequestForServices].[UnLoadingConditionId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[RequestForServices].[LoadPortId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[RequestForServices].[LoadTerminalId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[RequestForServices].[LoadingRate]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[RequestForServices].[DischargePortId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[RequestForServices].[DischargeTerminalId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[RequestForServices].[UnLoadingRate]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[RequestForServices].[StartLaycan]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[RequestForServices].[EndLaycan]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[RequestForServices].[Status]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[RequestForServices].[UpdatedId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[RequestForServices].[Owner]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[RequestForServices].[HourCanalPanama]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[DB_SearchVessel_Step1].[@ToleranceId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[DB_SearchVessel_Step1].[@Terms]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[DB_SearchVessel_Step1].[@LoadingConditionId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[DB_SearchVessel_Step1].[@UnLoadingConditionId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[DB_SearchVessel_Step1].[@LoadingRate]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[DB_SearchVessel_Step1].[@UnLoadingRate]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[DB_SearchVessel_Step1].[@StartLaycan]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[DB_SearchVessel_Step1].[@EndLaycan]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[DB_SearchVessel_Step1].[@UpdatedId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[RequestForServices].[Token]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[RequestForServices].[Id]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[varchar]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[RequestForServices]" />
				</Entry>
			</Relationship>
			<Relationship Name="Parameters">
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[DB_SearchVessel_Step1].[@Token]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[uniqueidentifier]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[DB_SearchVessel_Step1].[@ProductId]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[DB_SearchVessel_Step1].[@StowageFactorId]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[DB_SearchVessel_Step1].[@StowageFactor]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Property Name="Precision" Value="53" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[float]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[DB_SearchVessel_Step1].[@QuantityId]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[DB_SearchVessel_Step1].[@Quantity]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Property Name="Precision" Value="53" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[float]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[DB_SearchVessel_Step1].[@ToleranceId]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[DB_SearchVessel_Step1].[@Terms]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[DB_SearchVessel_Step1].[@LoadingConditionId]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[DB_SearchVessel_Step1].[@UnLoadingConditionId]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[DB_SearchVessel_Step1].[@LoadPortId]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[DB_SearchVessel_Step1].[@LoadTerminalId]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[DB_SearchVessel_Step1].[@LoadingRate]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[money]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[DB_SearchVessel_Step1].[@DischargePortId]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[DB_SearchVessel_Step1].[@DischargeTerminalId]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[DB_SearchVessel_Step1].[@UnLoadingRate]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[money]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[DB_SearchVessel_Step1].[@StartLaycan]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[datetime]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[DB_SearchVessel_Step1].[@EndLaycan]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[datetime]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[DB_SearchVessel_Step1].[@UpdatedId]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="Schema">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<Annotation Type="SysCommentsObjectAnnotation">
				<Property Name="CreateOffset" Value="194" />
				<Property Name="Length" Value="6276" />
				<Property Name="StartLine" Value="1" />
				<Property Name="StartColumn" Value="1" />
				<Property Name="HeaderContents" Value="-- =============================================&#xD;&#xA;-- Author:&#x9;&#x9;@Author,,Name&gt;&#xD;&#xA;-- Create date: @Create Date,,&gt;&#xD;&#xA;-- Description:&#x9;@Description,,&gt;&#xD;&#xA;-- =============================================&#xD;&#xA;CREATE PROCEDURE [dbo].[DB_SearchVessel_Step1] &#xD;&#xA;&#x9;-- Add the parameters for the stored procedure here&#xD;&#xA;&#x9;   @Token uniqueidentifier&#xD;&#xA;&#x9;  ,@ProductId int&#xD;&#xA;      ,@StowageFactorId int&#xD;&#xA;      ,@StowageFactor float&#xD;&#xA;      ,@QuantityId int&#xD;&#xA;      ,@Quantity float&#xD;&#xA;      ,@ToleranceId int&#xD;&#xA;      ,@Terms int&#xD;&#xA;      ,@LoadingConditionId int&#xD;&#xA;      ,@UnLoadingConditionId int&#xD;&#xA;      ,@LoadPortId int&#xD;&#xA;      ,@LoadTerminalId int&#xD;&#xA;      ,@LoadingRate money&#xD;&#xA;      ,@DischargePortId int&#xD;&#xA;      ,@DischargeTerminalId int&#xD;&#xA;      ,@UnLoadingRate money&#xD;&#xA;      ,@StartLaycan datetime&#xD;&#xA;      ,@EndLaycan datetime&#xD;&#xA;      ,@UpdatedId int&#xD;&#xA;AS" />
			</Annotation>
		</Element>
		<Element Type="SqlProcedure" Name="[dbo].[DB_SearchVessel_Step2]">
			<Property Name="BodyScript">
				<Value><![CDATA[
BEGIN
	-- SET NOCOUNT ON added to prevent extra result sets from
	-- interfering with SELECT statements.
	--------------------------------------------------------------------------------
	-- IMPORTANT: Set this option ON: if do you wants stop and rollback transaction.
	--------------------------------------------------------------------------------
	SET XACT_ABORT ON
	SET NOCOUNT ON;
	--------------------------------------------------------------------------------
	-- Declaration of Variables
	--------------------------------------------------------------------------------
	Declare @sError Varchar(Max) ,@IsErrorTecnichal int,@id int
	Execute C_Parameter_Get @CodeParameter= 'ERROR_TECNICHAL', @Value= @IsErrorTecnichal OUTPUT
	Declare @ProductId int
			,@StowageFactorId int
			,@StowageFactor float
			,@QuantityId int
			,@Quantity float
			,@ToleranceId int
			,@Terms int
			,@LoadingConditionId int
			,@UnLoadingConditionId int
			,@LoadPortId int
			,@LoadTerminalId int
			,@LoadingRate float
			,@DischargePortId int
			,@DischargeTerminalId int
			,@UnLoadingRate money
			,@StartLaycan datetime
			,@EndLaycan datetime
			--,@Status varchar(250)
			,@IsActive bit
			,@RequestForServiceId int
			,@HourCanalPanama float
	Declare @RateLoadTerminal money,@RateChargeTerminal money,@ServiceLiquidationId int
	Declare @DistanceCurrentPort int, @DistanceLoadPort int, @DistanceUnLoadPort int
	Declare @ValueLoadingCondition int,@HourCanalPanamaDischarge float
	Declare @ValueUnLoadingCondition int
	Declare @VesselFound table (Id int Identity(1,1), VesselId int ,VesselName varchar(250),VesselSpeed float,VesselCapacity int,VesselIfoConsumed money ,VesselMgoConsumed money,IsProcess bit default(0),CurrentPortId int,RateLoading money ,RateUnLoading money,IsCurrentPort bit default(0))
	Declare @Liquidation table (Id int Identity(1,1),Route varchar(150),Type varchar(50),VesselId int, CurrentPortAtLoadPort money ,LoadingPort money,CanalPanama money,LoadPortAtUnloadingPort money,CanalPanamaDischarge money,UnloadingPort money ,IsPrice int default(0),ServiceLiquidationId int,CurrentPortId int, LoadingPortId int, UnLoadingPortId int,IsCurrentPort bit default 1)
	Declare @CurrentId int,@VesselId int ,@VesselName varchar(250),@VesselSpeed float,@VesselCapacity int,@VesselIfoConsumed money ,@VesselMgoConsumed money,@CurrentPortId int
	Declare @CurrentInterval float,@PortsNameLoading varchar(250),@PortsNameUnLoading varchar(250),@RateLoading money, @RateUnLoading money,@CurrentFirstInterval int
	Declare @PortsFirstNameCurrent varchar(250),@PortsFirstNameLoading varchar(250),@IsCurrentPort bit,@PortRateLoading float ,@PortRateUnLoading float
	Declare @DayCurrentPortAtLoadPort float,@DayLoadingPort float,@DayCanalPanama float,@DayLoadPortAtUnloadingPort float,@DayCanalPanamaDischarge float ,@DayUnLoadingPort float
	-- - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -
	Begin Try
	--------------------------------------------------------------------------------
	-- Select Record
	--------------------------------------------------------------------------------
	if(@ReCalcule=0)
	Begin
			SELECT @ProductId=ProductId
				  ,@StowageFactorId=StowageFactorId
				  ,@StowageFactor=StowageFactor
				  ,@QuantityId=QuantityId
				  ,@Quantity=Quantity
				  ,@ToleranceId=ToleranceId
				  ,@Terms=Terms
				  ,@LoadingConditionId=LoadingConditionId
				  ,@UnLoadingConditionId=UnLoadingConditionId
				  ,@LoadPortId=LoadPortId
				  ,@LoadTerminalId=LoadTerminalId
				  ,@LoadingRate=LoadingRate
				  ,@DischargePortId=DischargePortId
				  ,@DischargeTerminalId=DischargeTerminalId
				  ,@UnLoadingRate=UnLoadingRate
				  ,@StartLaycan=StartLaycan
				  ,@EndLaycan=EndLaycan
				 -- ,@Status=Status
				  ,@IsActive=IsActive
				  ,@RequestForServiceId=Id
				  ,@HourCanalPanamaDischarge=HourCanalPanama
			FROM dbo.RequestForServices
			Where token=@token
	 

			Select Top 1 @RateLoadTerminal=Rate 
			From RankRateTerminals 
			Where @Quantity between Minimum and Maximum And TerminalId=@LoadTerminalId

			Select Top 1 @RateChargeTerminal=Rate 
			From RankRateTerminals 
			Where @Quantity between Minimum and Maximum And TerminalId=@DischargeTerminalId

			if(@Continue=0)
			Begin
				Delete ItemsLiquidation
				From ItemsLiquidation
					Inner Join  ServiceLiquidations On ServiceLiquidations.Id=ItemsLiquidation.ServiceLiquidationId
				Where RequestForServiceId=@RequestForServiceId	

				Delete from [dbo].[ServiceLiquidations] where RequestForServiceId=@RequestForServiceId
			End
			If Not Exists(Select 1 From ServiceLiquidations Where RequestForServiceId=@RequestForServiceId)
			Begin
				Select Top 1 @ValueLoadingCondition=ConditionValue
				From Terminals
				Where ConditionId=@LoadingConditionId

				if(Isnull(@ValueLoadingCondition,0)=0)
				begin
					Select Top 1 @ValueLoadingCondition=Value
					From Conditions
					Where Id=@LoadingConditionId
				End

				Select Top 1 @ValueUnLoadingCondition=ConditionValue
				From Terminals
				Where ConditionId=@UnLoadingConditionId

				if(Isnull(@ValueUnLoadingCondition,0)=0)
				begin
					Select Top 1 @ValueLoadingCondition=Value
					From Conditions
					Where Id=@LoadingConditionId
				End


				;With CTEAvailability as (
					Select distinct  VesselId,CurrentPortId,(Case When CurrentPortId!=@LoadPortId then 1 else 0 End) as IsCurrentPort
					From AvailableOpenVessels
					Where IsAvailable=1 and IsActive=1
							and @StartLaycan  Between  NextOpeningPort and @EndLaycan
				)
				Insert into @VesselFound(VesselId,VesselName,VesselSpeed,VesselCapacity,VesselIfoConsumed,VesselMgoConsumed,CurrentPortId,RateLoading,RateUnLoading,IsCurrentPort)
				Select  Vessel.Id,Vessel.Name,Vessel.Speed,Vessel.Capacity,Vessel.IfoConsumed,Vessel.MgoConsumed,CTEAvailability.CurrentPortId,RateLoading,RateUnLoading,CTEAvailability.IsCurrentPort
				From [dbo].[Vessel]
					Inner Join ProductByVessels On ProductByVessels.VesselId=Vessel.Id 
					Inner Join CTEAvailability On CTEAvailability.VesselId=Vessel.Id 
				Where ProductByVessels.ProductId=@ProductId and Vessel.Capacity>=@Quantity
						And Vessel.IsActive=1
	
				While(Select Count(1) from @VesselFound Where IsProcess=0)>0
				Begin
					Select Top 1 @CurrentId=Id
					From @VesselFound 
					Where IsProcess=0
					Order By Id asc

					Select @VesselId =VesselId ,
						   @VesselName=VesselName,
						   @VesselSpeed =VesselSpeed,
						   @VesselCapacity =VesselCapacity,
						   @VesselIfoConsumed =VesselIfoConsumed ,
						   @VesselMgoConsumed =VesselMgoConsumed,
						   @CurrentPortId =CurrentPortId,
						   @RateLoading=RateLoading,
						   @RateUnLoading=RateUnLoading,
						   @IsCurrentPort=IsCurrentPort
					From @VesselFound
					Where Id=@CurrentId

					INSERT INTO [dbo].[ServiceLiquidations]
							   ([RequestForServiceId]
							   ,[VesselId]
							   ,[Status]
							   ,[Creation]
							   ,[UpdatedId]
							   ,CurrentPortId)
						 VALUES
							   (@RequestForServiceId
							   ,@VesselId
							   ,'PENDING'
							   ,getdate()
							   ,@UpdatedId
							   ,@CurrentPortId)
					Set @ServiceLiquidationId=SCOPE_IDENTITY()
		
					Declare @IfoLoadPort money,@MgoLoadPort money
					Declare @IfoUnLoadPort money,@MgoUnLoadPort money

						Set @CurrentFirstInterval=0
						Set @HourCanalPanama=0
						Set @PortsFirstNameCurrent=0
						Set @PortsFirstNameLoading=''
						if(@IsCurrentPort=1)
						Begin
							Select @CurrentFirstInterval=Interval 
							From DistanceBetweenPorts 
							Where InputPortId=@CurrentPortId and OutPutPortId=@LoadPortId

					
							Select @HourCanalPanama=HourCanalPanama 
							From DistanceBetweenPorts 
							Where InputPortId=@CurrentPortId and OutPutPortId=@LoadPortId

							Select @PortsFirstNameCurrent=Ports.Name
							From Ports 
							Where Ports.Id=@CurrentPortId

							Select @PortsFirstNameLoading=Ports.Name
							From Ports 
							Where Ports.Id=@LoadPortId
						End

						Select @CurrentInterval=Interval 
						From DistanceBetweenPorts 
						Where InputPortId=@LoadPortId and OutPutPortId=@DischargePortId
		
						Select Top 1 @PortsNameLoading=Ports.Name,@IfoLoadPort=Ifo, @MgoLoadPort=Mgo
						From Ports 
						Where Ports.Id=@LoadPortId

						Select  Top 1  @PortsNameUnLoading=Ports.Name,@IfoUnLoadPort=Ifo, @MgoUnLoadPort=Mgo
						From Ports 
						Where Ports.Id=@DischargePortId

						Set @DayCurrentPortAtLoadPort=(@CurrentFirstInterval/@VesselSpeed)/24
						Set @DayLoadingPort=(@Quantity/@LoadingRate)
						Set @DayCanalPanama=(Case When @HourCanalPanama>0 Then @HourCanalPanama/24 else 0 End)
						Set @DayLoadPortAtUnloadingPort=(@CurrentInterval/@VesselSpeed)/24
						Set @DayCanalPanamaDischarge=(Case When @HourCanalPanamaDischarge>0 Then @HourCanalPanamaDischarge/24 else 0 End)
						Set @DayUnLoadingPort=  (@Quantity/@UnLoadingRate)

						Insert into @Liquidation([Route],Type,VesselId,CurrentPortAtLoadPort,LoadingPort,CanalPanama,LoadPortAtUnloadingPort,CanalPanamaDischarge,UnLoadingPort,IsPrice,ServiceLiquidationId,CurrentPortId  , LoadingPortId  , UnLoadingPortId ,IsCurrentPort)
						Select '01-DISTANCE (nm)' As 'Route',	'',	@VesselId as 'VesselId ',		Isnull(@CurrentFirstInterval,0)  as 'CurrentPortAtLoadPort', 0 as 'LoadingPort',   0 as 'CanalPanama', @CurrentInterval as 'LoadPortAtUnloadingPort',0 as 'CanalPanamaDischarge' ,0 as 'UnLoadingPort ', 0 as IsPrice,@ServiceLiquidationId,@CurrentPortId  , @LoadPortId  , @DischargePortId ,@IsCurrentPort 
						Union All
						Select '02-SPEED (knots)' As 'Route',	'',	@VesselId as 'VesselId ',		(Case When @CurrentFirstInterval>0 then Isnull(@VesselSpeed,0) else 0 end)  as 'CurrentPortAtLoadPort' , 0 as 'LoadingPort', 0 as 'CanalPanama', @VesselSpeed as 'LoadPortAtUnloadingPort',0 as 'CanalPanamaDischarge'  ,0 as 'UnLoadingPort ', 0 as IsPrice,@ServiceLiquidationId,@CurrentPortId  , @LoadPortId  , @DischargePortId  ,@IsCurrentPort
						Union All
						Select '03-HOURS'		  As 'Route',   'TOTAL',		@VesselId as 'VesselId ',	(Case When @CurrentFirstInterval>0 then (@CurrentFirstInterval/@VesselSpeed)  else 0 end)	  as 'CurrentPortAtLoadPort' ,((@Quantity/@LoadingRate)*24)*@ValueLoadingCondition as 'LoadingPort', @HourCanalPanama as 'CanalPanama', (@CurrentInterval/@VesselSpeed) as 'LoadPortAtUnloadingPort',@HourCanalPanamaDischarge as 'CanalPanamaDischarge',((@Quantity/@UnLoadingRate)*24)*@ValueUnLoadingCondition  as 'UnLoadingPort ', 0 as IsPrice,@ServiceLiquidationId,@CurrentPortId  , @LoadPortId  , @DischargePortId  ,@IsCurrentPort
						Union All
						Select '04-DAILY HIRE (USD)' As 'Route','',	@VesselId as 'VesselId ',		@RateLoading  as 'CurrentPortAtLoadPort' ,@RateLoading as 'LoadingPort', (Case When @HourCanalPanama>0 then @RateLoading else 0 end) as 'CanalPanama', @RateUnLoading as 'LoadPortAtUnloadingPort',(Case When @HourCanalPanamaDischarge>0 then @RateUnLoading else 0 end)  as 'CanalPanamaDischarge' ,@RateUnLoading as 'UnLoadingPort',2 as IsPrice,@ServiceLiquidationId,@CurrentPortId  , @LoadPortId  , @DischargePortId  ,@IsCurrentPort
						Union All
						Select '05-PRORATED DAILY HIRE PER ROUTE' As 'Route','TOTAL', @VesselId as 'VesselId ',		(@DayCurrentPortAtLoadPort*@RateLoading)  as 'CurrentPortAtLoadPort' ,(@DayLoadingPort*@RateLoading) as 'LoadingPort', (Case When @HourCanalPanama >0 Then (@DayCanalPanama*@RateLoading) else 0 End)  as 'CanalPanama', (@DayLoadPortAtUnloadingPort*@RateUnLoading) as 'LoadPortAtUnloadingPort',(Case When @HourCanalPanamaDischarge>0 then   (@DayCanalPanamaDischarge*@RateLoading)  else 0 end )as 'CanalPanamaDischarge' ,(@DayUnLoadingPort*@RateUnLoading) as 'UnLoadingPort',1 as IsPrice,@ServiceLiquidationId,@CurrentPortId  , @LoadPortId  , @DischargePortId  ,@IsCurrentPort
						Union All
						Select '06-IFO CONSUMED PER ROUTE  (using '+ convert(varchar,@VesselIfoConsumed) +'  MT/day)' As 'Route',	'TOTAL',	@VesselId as 'VesselId ',		(@DayCurrentPortAtLoadPort*@VesselIfoConsumed) as 'CurrentPortAtLoadPort'	, 0 as 'LoadingPort', (Case When @HourCanalPanama >0 Then (@DayCanalPanama*@VesselIfoConsumed) else 0 End) as 'CanalPanama', (@DayLoadPortAtUnloadingPort*@VesselIfoConsumed) as 'LoadPortAtUnloadingPort',(Case When @HourCanalPanamaDischarge >0 Then (@DayCanalPanamaDischarge*@VesselIfoConsumed) else 0 End) as 'CanalPanamaDischarge' , 0 as 'UnLoadingPort',0 as IsPrice,@ServiceLiquidationId,@CurrentPortId  , @LoadPortId  , @DischargePortId  ,@IsCurrentPort
						Union All
						Select '07-IFO COST IN LOAD PORT (USD per MT)' As 'Route','',@VesselId as 'VesselId ',	(Case When @CurrentFirstInterval>0 then @IfoLoadPort else 0 end) as 'CurrentPortAtLoadPort'	, 0 as 'LoadingPort',(Case When @HourCanalPanama >0 Then @IfoLoadPort else 0 End) as 'CanalPanama', @IfoLoadPort as 'LoadPortAtUnloadingPort',(Case When @HourCanalPanamaDischarge >0 Then @IfoLoadPort else 0 End) as 'CanalPanamaDischarge', 0 as 'UnLoadingPort',2 as IsPrice,@ServiceLiquidationId,@CurrentPortId  , @LoadPortId  , @DischargePortId  ,@IsCurrentPort
						Union All
						Select '08-IFO CONSUMED (USD)' As 'Route','TOTAL',		@VesselId as 'VesselId ',		(@DayCurrentPortAtLoadPort*@VesselIfoConsumed)*@IfoLoadPort  as 'CurrentPortAtLoadPort'	, 0 as 'LoadingPort', (@DayCanalPanama*@VesselIfoConsumed)*@IfoLoadPort as 'CanalPanama', (@DayLoadPortAtUnloadingPort*@VesselIfoConsumed)*@IfoLoadPort as 'LoadPortAtUnloadingPort',(@DayCanalPanamaDischarge*@VesselIfoConsumed)*@IfoLoadPort as 'CanalPanamaDischarge' , 0 as 'UnLoadingPort',1 as IsPrice,@ServiceLiquidationId,@CurrentPortId  , @LoadPortId  , @DischargePortId  ,@IsCurrentPort
						Union All
						Select '09-MGO CONSUMED PER ROUTE (using '+ convert(varchar,@VesselMgoConsumed) +'  MT/day) ' As 'Route',	'TOTAL',		@VesselId as 'VesselId ',		0  as 'CurrentPortAtLoadPort'	, (@Quantity/@LoadingRate)*@VesselMgoConsumed as 'LoadingPort', 0 as 'CanalPanama', 0 as 'LoadPortAtUnloadingPort',0 as 'CanalPanamaDischarge' ,(@Quantity/@UnLoadingRate)*@VesselMgoConsumed as 'UnLoadingPort',0 as IsPrice,@ServiceLiquidationId,@CurrentPortId  , @LoadPortId  , @DischargePortId  ,@IsCurrentPort
						Union All
						Select '10-MGO COST IN LOAD PORT (USD per MT)' As 'Route','',@VesselId as 'VesselId ',(Case When @CurrentFirstInterval>0 then	@MgoLoadPort else 0 end)  as 'CurrentPortAtLoadPort'	,@MgoLoadPort as 'LoadingPort', 0 as 'CanalPanama',  @MgoLoadPort as 'LoadPortAtUnloadingPort',0 as 'CanalPanamaDischarge' , @MgoLoadPort as 'UnLoadingPort',2 as IsPrice,@ServiceLiquidationId,@CurrentPortId  , @LoadPortId  , @DischargePortId  ,@IsCurrentPort
						Union All
						Select '11-MGO CONSUMED (USD)' As 'Route',	'TOTAL',	@VesselId as 'VesselId ',		0  as 'CurrentPortAtLoadPort'	,((@Quantity/@LoadingRate)*@VesselMgoConsumed)*@MgoLoadPort as 'LoadingPort', 0 as 'CanalPanama', 0 as 'LoadPortAtUnloadingPort',0 as 'CanalPanamaDischarge' , ((@Quantity/@UnLoadingRate)*@VesselMgoConsumed)*@MgoLoadPort as 'UnLoadingPort',1 as IsPrice,@ServiceLiquidationId,@CurrentPortId  , @LoadPortId  , @DischargePortId  ,@IsCurrentPort
						Union all
						Select '12-Port Costs in Load/Discharge Port (USD)' As 'Route','TOTAL',@VesselId as 'VesselId ', 0  as 'CurrentPortAtLoadPort'	,@RateLoadTerminal as 'LoadingPort', 0 as 'CanalPanama', 0 as 'LoadPortAtUnloadingPort',0 as 'CanalPanamaDischarge' , @RateChargeTerminal as 'UnLoadingPort',1 as IsPrice,@ServiceLiquidationId,@CurrentPortId  , @LoadPortId  , @DischargePortId  ,@IsCurrentPort
					Update @VesselFound
					set IsProcess=1
					Where Id=@CurrentId
				End
				INSERT INTO [dbo].[ItemsLiquidation]
				   ([ServiceLiquidationId]
				   ,[Route]
				   ,[Type]
				   ,[VesselId]
				   ,[CurrentPortAtLoadPort]
				   ,[LoadingPort]
				   ,[CanalPanama]
				   ,[LoadPortAtUnloadingPort]
				   ,CanalPanamaDischarge
				   ,[UnLoadPort]
				   ,[IsPrice]
				   ,[Creation]
				   ,[UpdatedId],CurrentPortId  , LoadingPortId  , UnLoadingPortId,IsCurrentPort,
				    ValueLoadingCondition,ValueUnLoadingCondition,VesselSpeed,VesselCapacity,VesselIfoConsumed,VesselMgoConsumed,RateLoading,RateUnLoading,CurrentFirstInterval,
					HourCanalPanama,CurrentInterval,DayCurrentPortAtLoadPort,Quantity,LoadingRate,DayLoadingPort,DayLoadPortAtUnloadingPort,DayCanalPanamaDischarge,DayUnLoadingPort,
					IfoLoadPort,MgoLoadPort,IfoUnLoadPort,MgoUnLoadPort,RateLoadTerminal,RateChargeTerminal,UnLoadingRate)
				Select ServiceLiquidationId,[Route],Type,VesselId,CurrentPortAtLoadPort,LoadingPort,CanalPanama,
					   LoadPortAtUnloadingPort,CanalPanamaDischarge,UnLoadingPort,IsPrice,getdate(),@UpdatedId,CurrentPortId  , LoadingPortId  , UnLoadingPortId,IsCurrentPort,
					   @ValueLoadingCondition,@ValueUnLoadingCondition,@VesselSpeed,@VesselCapacity,@VesselIfoConsumed,@VesselMgoConsumed,@RateLoading,@RateUnLoading,@CurrentFirstInterval,
					   @HourCanalPanama,@CurrentInterval,@DayCurrentPortAtLoadPort,@Quantity,@LoadingRate,@DayLoadingPort,@DayLoadPortAtUnloadingPort,@DayCanalPanamaDischarge,@DayUnLoadingPort,
					   @IfoLoadPort,@MgoLoadPort,@IfoUnLoadPort,@MgoUnLoadPort,@RateLoadTerminal,@RateChargeTerminal,@UnLoadingRate
				From @Liquidation 
			End
			;With CTEResult as(
				Select ServiceLiquidations.Token,'TBN' as 'Vessel', StartLaycan , EndLaycan,Vessel.Id as VesselId,ServiceLiquidations.Id, dbo.GetTotalVessel(Vessel.Id,ServiceLiquidations.Id) as Total,Vessel.Name, 
						dbo.GetTotalVessel(Vessel.Id,ServiceLiquidations.Id)/@Quantity as TotalQuantityMT,
						Vessel.Demurrage,ServiceLiquidations.Status,dbo.GetTotalDayVessel(Vessel.Id,ServiceLiquidations.Id)/24 as TotalDay,
						Vessel.Token as  VesselToken
				From RequestForServices
						Inner Join ServiceLiquidations On ServiceLiquidations.RequestForServiceId=RequestForServices.Id
						Inner Join dbo.Vessel On Vessel.Id=ServiceLiquidations.VesselId and Vessel.IsActive=1
						Inner Join dbo.Products On Products.Id=@ProductId and Vessel.IsActive=1
				where RequestForServices.token=@token
			)
			Select * from CTEResult
			Order by TotalQuantityMT asc
	End
	Else
	BEgin
		Update [dbo].[ItemsLiquidation]
		Set LoadingPort=((Quantity/LoadingRate)*24)*ValueLoadingCondition,
		    UnLoadPort=((Quantity/UnLoadingRate)*24)*ValueUnLoadingCondition,
			DayLoadingPort=(Quantity/LoadingRate),
			DayUnLoadingPort=  (Quantity/UnLoadingRate)
		From ItemsLiquidation
				Inner Join ServiceLiquidations On ServiceLiquidations.Id=ItemsLiquidation.ServiceLiquidationId
		Where LEFT(route,2)='03' and ServiceLiquidations.Token=@tokenServiceLiquidation

		Update [dbo].[ItemsLiquidation]
		Set CurrentPortAtLoadPort=(DayCurrentPortAtLoadPort*RateLoading),
		    LoadingPort=(DayLoadingPort*RateLoading),
			CanalPanama=(Case When HourCanalPanama >0 Then (DayCanalPanama*RateLoading) else 0 End),
			LoadPortAtUnloadingPort=  (DayLoadPortAtUnloadingPort*RateUnLoading),
			CanalPanamaDischarge= (Case When CanalPanamaDischarge>0 then   (DayCanalPanamaDischarge*RateLoading)  else 0 end ),
			UnLoadPort=(DayUnLoadingPort*RateUnLoading)
		From ItemsLiquidation
				Inner Join ServiceLiquidations On ServiceLiquidations.Id=ItemsLiquidation.ServiceLiquidationId
		Where LEFT(route,2)='05' and ServiceLiquidations.Token=@tokenServiceLiquidation


		Update [dbo].[ItemsLiquidation]
		Set CurrentPortAtLoadPort=RateLoading,
		    LoadingPort=RateLoading,
			CanalPanama=(Case When HourCanalPanama>0 then RateLoading else 0 end),
			LoadPortAtUnloadingPort=RateUnLoading,
			CanalPanamaDischarge=(Case When CanalPanamaDischarge>0 then RateUnLoading else 0 end),
			UnLoadPort=RateUnLoading
		From ItemsLiquidation
				Inner Join ServiceLiquidations On ServiceLiquidations.Id=ItemsLiquidation.ServiceLiquidationId
		Where LEFT(route,2)='04' and ServiceLiquidations.Token=@tokenServiceLiquidation

		Update [dbo].[ItemsLiquidation]
		Set CurrentPortAtLoadPort=(Case When CurrentFirstInterval>0 then IfoLoadPort else 0 end),
		    CanalPanama=(Case When HourCanalPanama >0 Then IfoLoadPort else 0 End),
			LoadPortAtUnloadingPort=IfoLoadPort,
			CanalPanamaDischarge=  (Case When CanalPanamaDischarge >0 Then IfoLoadPort else 0 End)
		From ItemsLiquidation
				Inner Join ServiceLiquidations On ServiceLiquidations.Id=ItemsLiquidation.ServiceLiquidationId
		Where LEFT(route,2)='07' and ServiceLiquidations.Token=@tokenServiceLiquidation

		Update [dbo].[ItemsLiquidation]
		Set CurrentPortAtLoadPort=(DayCurrentPortAtLoadPort*VesselIfoConsumed)*IfoLoadPort,
		    CanalPanama=(DayCanalPanama*VesselIfoConsumed)*IfoLoadPort,
			LoadPortAtUnloadingPort=(DayLoadPortAtUnloadingPort*VesselIfoConsumed)*IfoLoadPort,
			CanalPanamaDischarge= (DayCanalPanamaDischarge*VesselIfoConsumed)*IfoLoadPort
		From ItemsLiquidation
				Inner Join ServiceLiquidations On ServiceLiquidations.Id=ItemsLiquidation.ServiceLiquidationId
		Where LEFT(route,2)='08' and ServiceLiquidations.Token=@tokenServiceLiquidation

		Update [dbo].[ItemsLiquidation]
		Set LoadingPort=(Quantity/LoadingRate)*VesselMgoConsumed,
		    UnLoadPort=(Quantity/UnLoadingRate)*VesselMgoConsumed
		From ItemsLiquidation
				Inner Join ServiceLiquidations On ServiceLiquidations.Id=ItemsLiquidation.ServiceLiquidationId
		Where LEFT(route,2)='09' and ServiceLiquidations.Token=@tokenServiceLiquidation

		Update [dbo].[ItemsLiquidation]
		Set LoadingPort=(Quantity/LoadingRate)*VesselMgoConsumed,
		    UnLoadPort=(Quantity/UnLoadingRate)*VesselMgoConsumed
		From ItemsLiquidation
				Inner Join ServiceLiquidations On ServiceLiquidations.Id=ItemsLiquidation.ServiceLiquidationId
		Where LEFT(route,2)='09' and ServiceLiquidations.Token=@tokenServiceLiquidation

		Update [dbo].[ItemsLiquidation]
		Set CurrentPortAtLoadPort=(Case When CurrentFirstInterval>0 then	MgoLoadPort else 0 end),
		    LoadingPort=MgoLoadPort,
		    LoadPortAtUnloadingPort=MgoLoadPort,
		    UnLoadPort=MgoLoadPort
		From ItemsLiquidation
				Inner Join ServiceLiquidations On ServiceLiquidations.Id=ItemsLiquidation.ServiceLiquidationId
		Where LEFT(route,2)='10' and ServiceLiquidations.Token=@tokenServiceLiquidation

		Update [dbo].[ItemsLiquidation]
		Set LoadingPort=((Quantity/LoadingRate)*VesselMgoConsumed)*MgoLoadPort,
		    UnLoadPort=((Quantity/UnLoadingRate)*VesselMgoConsumed)*MgoLoadPort
		From ItemsLiquidation
				Inner Join ServiceLiquidations On ServiceLiquidations.Id=ItemsLiquidation.ServiceLiquidationId
		Where LEFT(route,2)='11' and ServiceLiquidations.Token=@tokenServiceLiquidation

	End
	End Try
	Begin Catch
		-- there was an error
		If XACT_STATE() =-1
		Begin
			Rollback WORK
		End
		If @@trancount >0
		Begin
			Rollback WORK
		End
		If XACT_STATE() = 1
		Begin
			Commit WORK
		End
		--Getting the error description
		Set @sError  =  ERROR_MESSAGE()
		if @IsErrorTecnichal=1
		Begin
			Set @sError  =  ERROR_PROCEDURE() + 
					';  ' + convert(varchar,ERROR_LINE()) + 
					'; ' + ERROR_MESSAGE()
		End 
		RaisError(@sError,16,1)  
		Return  
	End Catch
	--------------------------------------------------------------------------------
	-- Returning a Primary Key Value
	--------------------------------------------------------------------------------
	-- - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -
END]]></Value>
			</Property>
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Relationship Name="BodyDependencies">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[varchar]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[int]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[int]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[int]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[int]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[float]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[int]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[float]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[int]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[int]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[int]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[int]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[int]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[int]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[float]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[int]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[int]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[money]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[datetime]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[datetime]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[bit]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[int]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[float]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[money]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[money]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[int]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[int]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[int]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[int]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[int]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[float]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[int]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[int]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[int]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[varchar]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[float]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[int]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[money]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[money]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[int]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[float]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[varchar]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[varchar]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[money]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[money]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[int]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[varchar]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[varchar]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[bit]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[float]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[float]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[float]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[float]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[float]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[float]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[float]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[float]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[money]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[money]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[money]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[money]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[C_Parameter_Get]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[C_Parameter_Get].[@CodeParameter]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[C_Parameter_Get].[@Value]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[DB_SearchVessel_Step2].[@ReCalcule]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[RequestForServices]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[RequestForServices].[ProductId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[RequestForServices].[StowageFactorId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[RequestForServices].[StowageFactor]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[RequestForServices].[QuantityId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[RequestForServices].[Quantity]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[RequestForServices].[ToleranceId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[RequestForServices].[Terms]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[RequestForServices].[LoadingConditionId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[RequestForServices].[UnLoadingConditionId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[RequestForServices].[LoadPortId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[RequestForServices].[LoadTerminalId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[RequestForServices].[LoadingRate]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[RequestForServices].[DischargePortId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[RequestForServices].[DischargeTerminalId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[RequestForServices].[UnLoadingRate]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[RequestForServices].[StartLaycan]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[RequestForServices].[EndLaycan]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[RequestForServices].[IsActive]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[RequestForServices].[Id]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[RequestForServices].[HourCanalPanama]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[RequestForServices].[Token]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[DB_SearchVessel_Step2].[@token]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[RankRateTerminals]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[RankRateTerminals].[Rate]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[RankRateTerminals].[Minimum]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[RankRateTerminals].[Maximum]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[RankRateTerminals].[TerminalId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[DB_SearchVessel_Step2].[@Continue]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[ItemsLiquidation]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[ServiceLiquidations]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[ServiceLiquidations].[Id]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[ItemsLiquidation].[ServiceLiquidationId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[ServiceLiquidations].[RequestForServiceId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[ServiceLiquidations].[RequestForServiceId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[ServiceLiquidations]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[ServiceLiquidations].[RequestForServiceId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Terminals]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Terminals].[ConditionValue]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Terminals].[ConditionId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Conditions]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Conditions].[Value]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Conditions].[Id]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[AvailableOpenVessels]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[AvailableOpenVessels].[VesselId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[AvailableOpenVessels].[CurrentPortId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[AvailableOpenVessels].[IsAvailable]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[AvailableOpenVessels].[IsActive]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[AvailableOpenVessels].[NextOpeningPort]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[DB_SearchVessel_Step2].[@VesselFound].[VesselId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[DB_SearchVessel_Step2].[@VesselFound].[VesselName]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[DB_SearchVessel_Step2].[@VesselFound].[VesselSpeed]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[DB_SearchVessel_Step2].[@VesselFound].[VesselCapacity]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[DB_SearchVessel_Step2].[@VesselFound].[VesselIfoConsumed]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[DB_SearchVessel_Step2].[@VesselFound].[VesselMgoConsumed]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[DB_SearchVessel_Step2].[@VesselFound].[CurrentPortId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[DB_SearchVessel_Step2].[@VesselFound].[RateLoading]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[DB_SearchVessel_Step2].[@VesselFound].[RateUnLoading]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[DB_SearchVessel_Step2].[@VesselFound].[IsCurrentPort]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Vessel]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[ProductByVessels]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[ProductByVessels].[VesselId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Vessel].[Id]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[AvailableOpenVessels].[VesselId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Vessel].[Name]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Vessel].[Speed]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Vessel].[Capacity]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Vessel].[IfoConsumed]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Vessel].[MgoConsumed]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[AvailableOpenVessels].[CurrentPortId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Vessel].[RateLoading]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Vessel].[RateUnloading]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[ProductByVessels].[ProductId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Vessel].[IsActive]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[DB_SearchVessel_Step2].[@VesselFound].[IsProcess]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[DB_SearchVessel_Step2].[@VesselFound].[Id]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[DB_SearchVessel_Step2].[@VesselFound].[IsProcess]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[ServiceLiquidations].[VesselId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[ServiceLiquidations].[Status]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[ServiceLiquidations].[Creation]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[ServiceLiquidations].[UpdatedId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[ServiceLiquidations].[CurrentPortId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[DB_SearchVessel_Step2].[@UpdatedId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[DistanceBetweenPorts]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[DistanceBetweenPorts].[Interval]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[DistanceBetweenPorts].[InputPortId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[DistanceBetweenPorts].[OutPutPortId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[DistanceBetweenPorts].[HourCanalPanama]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Ports]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Ports].[Name]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Ports].[Id]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Ports].[Ifo]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Ports].[Mgo]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[DB_SearchVessel_Step2].[@Liquidation].[Route]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[DB_SearchVessel_Step2].[@Liquidation].[Type]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[DB_SearchVessel_Step2].[@Liquidation].[VesselId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[DB_SearchVessel_Step2].[@Liquidation].[CurrentPortAtLoadPort]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[DB_SearchVessel_Step2].[@Liquidation].[LoadingPort]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[DB_SearchVessel_Step2].[@Liquidation].[CanalPanama]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[DB_SearchVessel_Step2].[@Liquidation].[LoadPortAtUnloadingPort]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[DB_SearchVessel_Step2].[@Liquidation].[CanalPanamaDischarge]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[DB_SearchVessel_Step2].[@Liquidation].[UnloadingPort]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[DB_SearchVessel_Step2].[@Liquidation].[IsPrice]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[DB_SearchVessel_Step2].[@Liquidation].[ServiceLiquidationId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[DB_SearchVessel_Step2].[@Liquidation].[CurrentPortId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[DB_SearchVessel_Step2].[@Liquidation].[LoadingPortId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[DB_SearchVessel_Step2].[@Liquidation].[UnLoadingPortId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[DB_SearchVessel_Step2].[@Liquidation].[IsCurrentPort]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[varchar]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[varchar]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[ItemsLiquidation].[ServiceLiquidationId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[ItemsLiquidation].[Route]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[ItemsLiquidation].[Type]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[ItemsLiquidation].[VesselId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[ItemsLiquidation].[CurrentPortAtLoadPort]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[ItemsLiquidation].[LoadingPort]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[ItemsLiquidation].[CanalPanama]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[ItemsLiquidation].[LoadPortAtUnloadingPort]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[ItemsLiquidation].[CanalPanamaDischarge]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[ItemsLiquidation].[UnLoadPort]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[ItemsLiquidation].[IsPrice]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[ItemsLiquidation].[Creation]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[ItemsLiquidation].[UpdatedId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[ItemsLiquidation].[CurrentPortId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[ItemsLiquidation].[LoadingPortId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[ItemsLiquidation].[UnLoadingPortId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[ItemsLiquidation].[IsCurrentPort]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[ItemsLiquidation].[ValueLoadingCondition]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[ItemsLiquidation].[ValueUnLoadingCondition]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[ItemsLiquidation].[VesselSpeed]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[ItemsLiquidation].[VesselCapacity]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[ItemsLiquidation].[VesselIfoConsumed]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[ItemsLiquidation].[VesselMgoConsumed]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[ItemsLiquidation].[RateLoading]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[ItemsLiquidation].[RateUnLoading]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[ItemsLiquidation].[CurrentFirstInterval]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[ItemsLiquidation].[HourCanalPanama]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[ItemsLiquidation].[CurrentInterval]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[ItemsLiquidation].[DayCurrentPortAtLoadPort]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[ItemsLiquidation].[Quantity]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[ItemsLiquidation].[LoadingRate]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[ItemsLiquidation].[DayLoadingPort]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[ItemsLiquidation].[DayLoadPortAtUnloadingPort]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[ItemsLiquidation].[DayCanalPanamaDischarge]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[ItemsLiquidation].[DayUnLoadingPort]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[ItemsLiquidation].[IfoLoadPort]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[ItemsLiquidation].[MgoLoadPort]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[ItemsLiquidation].[IfoUnLoadPort]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[ItemsLiquidation].[MgoUnLoadPort]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[ItemsLiquidation].[RateLoadTerminal]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[ItemsLiquidation].[RateChargeTerminal]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[ItemsLiquidation].[UnLoadingRate]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[ServiceLiquidations].[RequestForServiceId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[RequestForServices].[Id]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Vessel].[Id]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[ServiceLiquidations].[VesselId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Vessel].[IsActive]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Products]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Products].[Id]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Vessel].[IsActive]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[ServiceLiquidations].[Token]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[RequestForServices].[StartLaycan]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[RequestForServices].[EndLaycan]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Vessel].[Id]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[ServiceLiquidations].[Id]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Vessel].[Id]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[GetTotalVessel]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Vessel].[Name]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[GetTotalVessel]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Vessel].[Demurrage]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[ServiceLiquidations].[Status]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[GetTotalDayVessel]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Vessel].[Token]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[RequestForServices].[Token]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[ItemsLiquidation].[Quantity]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[ItemsLiquidation].[LoadingRate]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[ItemsLiquidation].[ValueLoadingCondition]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[ItemsLiquidation].[UnLoadingRate]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[ItemsLiquidation].[ValueUnLoadingCondition]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[ItemsLiquidation].[Route]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[ServiceLiquidations].[Token]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[DB_SearchVessel_Step2].[@tokenServiceLiquidation]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[ItemsLiquidation].[DayCurrentPortAtLoadPort]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[ItemsLiquidation].[RateLoading]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[ItemsLiquidation].[DayLoadingPort]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[ItemsLiquidation].[HourCanalPanama]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[ItemsLiquidation].[DayCanalPanama]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[ItemsLiquidation].[DayLoadPortAtUnloadingPort]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[ItemsLiquidation].[RateUnLoading]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[ItemsLiquidation].[CanalPanamaDischarge]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[ItemsLiquidation].[DayCanalPanamaDischarge]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[ItemsLiquidation].[DayUnLoadingPort]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[ItemsLiquidation].[CurrentFirstInterval]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[ItemsLiquidation].[IfoLoadPort]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[ItemsLiquidation].[VesselIfoConsumed]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[ItemsLiquidation].[VesselMgoConsumed]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[ItemsLiquidation].[MgoLoadPort]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[varchar]" />
				</Entry>
			</Relationship>
			<Relationship Name="DynamicObjects">
				<Entry>
					<Element Type="SqlDynamicColumnSource" Name="[dbo].[DB_SearchVessel_Step2].[@VesselFound]">
						<Relationship Name="Columns">
							<Entry>
								<Element Type="SqlSimpleColumn" Name="[dbo].[DB_SearchVessel_Step2].[@VesselFound].[Id]">
									<Property Name="IsNullable" Value="False" />
									<Property Name="IsIdentity" Value="True" />
									<Relationship Name="TypeSpecifier">
										<Entry>
											<Element Type="SqlTypeSpecifier">
												<Relationship Name="Type">
													<Entry>
														<References ExternalSource="BuiltIns" Name="[int]" />
													</Entry>
												</Relationship>
											</Element>
										</Entry>
									</Relationship>
								</Element>
							</Entry>
							<Entry>
								<Element Type="SqlSimpleColumn" Name="[dbo].[DB_SearchVessel_Step2].[@VesselFound].[VesselId]">
									<Relationship Name="TypeSpecifier">
										<Entry>
											<Element Type="SqlTypeSpecifier">
												<Relationship Name="Type">
													<Entry>
														<References ExternalSource="BuiltIns" Name="[int]" />
													</Entry>
												</Relationship>
											</Element>
										</Entry>
									</Relationship>
								</Element>
							</Entry>
							<Entry>
								<Element Type="SqlSimpleColumn" Name="[dbo].[DB_SearchVessel_Step2].[@VesselFound].[VesselName]">
									<Relationship Name="TypeSpecifier">
										<Entry>
											<Element Type="SqlTypeSpecifier">
												<Property Name="Length" Value="250" />
												<Relationship Name="Type">
													<Entry>
														<References ExternalSource="BuiltIns" Name="[varchar]" />
													</Entry>
												</Relationship>
											</Element>
										</Entry>
									</Relationship>
								</Element>
							</Entry>
							<Entry>
								<Element Type="SqlSimpleColumn" Name="[dbo].[DB_SearchVessel_Step2].[@VesselFound].[VesselSpeed]">
									<Relationship Name="TypeSpecifier">
										<Entry>
											<Element Type="SqlTypeSpecifier">
												<Property Name="Precision" Value="53" />
												<Relationship Name="Type">
													<Entry>
														<References ExternalSource="BuiltIns" Name="[float]" />
													</Entry>
												</Relationship>
											</Element>
										</Entry>
									</Relationship>
								</Element>
							</Entry>
							<Entry>
								<Element Type="SqlSimpleColumn" Name="[dbo].[DB_SearchVessel_Step2].[@VesselFound].[VesselCapacity]">
									<Relationship Name="TypeSpecifier">
										<Entry>
											<Element Type="SqlTypeSpecifier">
												<Relationship Name="Type">
													<Entry>
														<References ExternalSource="BuiltIns" Name="[int]" />
													</Entry>
												</Relationship>
											</Element>
										</Entry>
									</Relationship>
								</Element>
							</Entry>
							<Entry>
								<Element Type="SqlSimpleColumn" Name="[dbo].[DB_SearchVessel_Step2].[@VesselFound].[VesselIfoConsumed]">
									<Relationship Name="TypeSpecifier">
										<Entry>
											<Element Type="SqlTypeSpecifier">
												<Relationship Name="Type">
													<Entry>
														<References ExternalSource="BuiltIns" Name="[money]" />
													</Entry>
												</Relationship>
											</Element>
										</Entry>
									</Relationship>
								</Element>
							</Entry>
							<Entry>
								<Element Type="SqlSimpleColumn" Name="[dbo].[DB_SearchVessel_Step2].[@VesselFound].[VesselMgoConsumed]">
									<Relationship Name="TypeSpecifier">
										<Entry>
											<Element Type="SqlTypeSpecifier">
												<Relationship Name="Type">
													<Entry>
														<References ExternalSource="BuiltIns" Name="[money]" />
													</Entry>
												</Relationship>
											</Element>
										</Entry>
									</Relationship>
								</Element>
							</Entry>
							<Entry>
								<Element Type="SqlSimpleColumn" Name="[dbo].[DB_SearchVessel_Step2].[@VesselFound].[IsProcess]">
									<Relationship Name="TypeSpecifier">
										<Entry>
											<Element Type="SqlTypeSpecifier">
												<Relationship Name="Type">
													<Entry>
														<References ExternalSource="BuiltIns" Name="[bit]" />
													</Entry>
												</Relationship>
											</Element>
										</Entry>
									</Relationship>
								</Element>
							</Entry>
							<Entry>
								<Element Type="SqlSimpleColumn" Name="[dbo].[DB_SearchVessel_Step2].[@VesselFound].[CurrentPortId]">
									<Relationship Name="TypeSpecifier">
										<Entry>
											<Element Type="SqlTypeSpecifier">
												<Relationship Name="Type">
													<Entry>
														<References ExternalSource="BuiltIns" Name="[int]" />
													</Entry>
												</Relationship>
											</Element>
										</Entry>
									</Relationship>
								</Element>
							</Entry>
							<Entry>
								<Element Type="SqlSimpleColumn" Name="[dbo].[DB_SearchVessel_Step2].[@VesselFound].[RateLoading]">
									<Relationship Name="TypeSpecifier">
										<Entry>
											<Element Type="SqlTypeSpecifier">
												<Relationship Name="Type">
													<Entry>
														<References ExternalSource="BuiltIns" Name="[money]" />
													</Entry>
												</Relationship>
											</Element>
										</Entry>
									</Relationship>
								</Element>
							</Entry>
							<Entry>
								<Element Type="SqlSimpleColumn" Name="[dbo].[DB_SearchVessel_Step2].[@VesselFound].[RateUnLoading]">
									<Relationship Name="TypeSpecifier">
										<Entry>
											<Element Type="SqlTypeSpecifier">
												<Relationship Name="Type">
													<Entry>
														<References ExternalSource="BuiltIns" Name="[money]" />
													</Entry>
												</Relationship>
											</Element>
										</Entry>
									</Relationship>
								</Element>
							</Entry>
							<Entry>
								<Element Type="SqlSimpleColumn" Name="[dbo].[DB_SearchVessel_Step2].[@VesselFound].[IsCurrentPort]">
									<Relationship Name="TypeSpecifier">
										<Entry>
											<Element Type="SqlTypeSpecifier">
												<Relationship Name="Type">
													<Entry>
														<References ExternalSource="BuiltIns" Name="[bit]" />
													</Entry>
												</Relationship>
											</Element>
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlDynamicColumnSource" Name="[dbo].[DB_SearchVessel_Step2].[@Liquidation]">
						<Relationship Name="Columns">
							<Entry>
								<Element Type="SqlSimpleColumn" Name="[dbo].[DB_SearchVessel_Step2].[@Liquidation].[Id]">
									<Property Name="IsNullable" Value="False" />
									<Property Name="IsIdentity" Value="True" />
									<Relationship Name="TypeSpecifier">
										<Entry>
											<Element Type="SqlTypeSpecifier">
												<Relationship Name="Type">
													<Entry>
														<References ExternalSource="BuiltIns" Name="[int]" />
													</Entry>
												</Relationship>
											</Element>
										</Entry>
									</Relationship>
								</Element>
							</Entry>
							<Entry>
								<Element Type="SqlSimpleColumn" Name="[dbo].[DB_SearchVessel_Step2].[@Liquidation].[Route]">
									<Relationship Name="TypeSpecifier">
										<Entry>
											<Element Type="SqlTypeSpecifier">
												<Property Name="Length" Value="150" />
												<Relationship Name="Type">
													<Entry>
														<References ExternalSource="BuiltIns" Name="[varchar]" />
													</Entry>
												</Relationship>
											</Element>
										</Entry>
									</Relationship>
								</Element>
							</Entry>
							<Entry>
								<Element Type="SqlSimpleColumn" Name="[dbo].[DB_SearchVessel_Step2].[@Liquidation].[Type]">
									<Relationship Name="TypeSpecifier">
										<Entry>
											<Element Type="SqlTypeSpecifier">
												<Property Name="Length" Value="50" />
												<Relationship Name="Type">
													<Entry>
														<References ExternalSource="BuiltIns" Name="[varchar]" />
													</Entry>
												</Relationship>
											</Element>
										</Entry>
									</Relationship>
								</Element>
							</Entry>
							<Entry>
								<Element Type="SqlSimpleColumn" Name="[dbo].[DB_SearchVessel_Step2].[@Liquidation].[VesselId]">
									<Relationship Name="TypeSpecifier">
										<Entry>
											<Element Type="SqlTypeSpecifier">
												<Relationship Name="Type">
													<Entry>
														<References ExternalSource="BuiltIns" Name="[int]" />
													</Entry>
												</Relationship>
											</Element>
										</Entry>
									</Relationship>
								</Element>
							</Entry>
							<Entry>
								<Element Type="SqlSimpleColumn" Name="[dbo].[DB_SearchVessel_Step2].[@Liquidation].[CurrentPortAtLoadPort]">
									<Relationship Name="TypeSpecifier">
										<Entry>
											<Element Type="SqlTypeSpecifier">
												<Relationship Name="Type">
													<Entry>
														<References ExternalSource="BuiltIns" Name="[money]" />
													</Entry>
												</Relationship>
											</Element>
										</Entry>
									</Relationship>
								</Element>
							</Entry>
							<Entry>
								<Element Type="SqlSimpleColumn" Name="[dbo].[DB_SearchVessel_Step2].[@Liquidation].[LoadingPort]">
									<Relationship Name="TypeSpecifier">
										<Entry>
											<Element Type="SqlTypeSpecifier">
												<Relationship Name="Type">
													<Entry>
														<References ExternalSource="BuiltIns" Name="[money]" />
													</Entry>
												</Relationship>
											</Element>
										</Entry>
									</Relationship>
								</Element>
							</Entry>
							<Entry>
								<Element Type="SqlSimpleColumn" Name="[dbo].[DB_SearchVessel_Step2].[@Liquidation].[CanalPanama]">
									<Relationship Name="TypeSpecifier">
										<Entry>
											<Element Type="SqlTypeSpecifier">
												<Relationship Name="Type">
													<Entry>
														<References ExternalSource="BuiltIns" Name="[money]" />
													</Entry>
												</Relationship>
											</Element>
										</Entry>
									</Relationship>
								</Element>
							</Entry>
							<Entry>
								<Element Type="SqlSimpleColumn" Name="[dbo].[DB_SearchVessel_Step2].[@Liquidation].[LoadPortAtUnloadingPort]">
									<Relationship Name="TypeSpecifier">
										<Entry>
											<Element Type="SqlTypeSpecifier">
												<Relationship Name="Type">
													<Entry>
														<References ExternalSource="BuiltIns" Name="[money]" />
													</Entry>
												</Relationship>
											</Element>
										</Entry>
									</Relationship>
								</Element>
							</Entry>
							<Entry>
								<Element Type="SqlSimpleColumn" Name="[dbo].[DB_SearchVessel_Step2].[@Liquidation].[CanalPanamaDischarge]">
									<Relationship Name="TypeSpecifier">
										<Entry>
											<Element Type="SqlTypeSpecifier">
												<Relationship Name="Type">
													<Entry>
														<References ExternalSource="BuiltIns" Name="[money]" />
													</Entry>
												</Relationship>
											</Element>
										</Entry>
									</Relationship>
								</Element>
							</Entry>
							<Entry>
								<Element Type="SqlSimpleColumn" Name="[dbo].[DB_SearchVessel_Step2].[@Liquidation].[UnloadingPort]">
									<Relationship Name="TypeSpecifier">
										<Entry>
											<Element Type="SqlTypeSpecifier">
												<Relationship Name="Type">
													<Entry>
														<References ExternalSource="BuiltIns" Name="[money]" />
													</Entry>
												</Relationship>
											</Element>
										</Entry>
									</Relationship>
								</Element>
							</Entry>
							<Entry>
								<Element Type="SqlSimpleColumn" Name="[dbo].[DB_SearchVessel_Step2].[@Liquidation].[IsPrice]">
									<Relationship Name="TypeSpecifier">
										<Entry>
											<Element Type="SqlTypeSpecifier">
												<Relationship Name="Type">
													<Entry>
														<References ExternalSource="BuiltIns" Name="[int]" />
													</Entry>
												</Relationship>
											</Element>
										</Entry>
									</Relationship>
								</Element>
							</Entry>
							<Entry>
								<Element Type="SqlSimpleColumn" Name="[dbo].[DB_SearchVessel_Step2].[@Liquidation].[ServiceLiquidationId]">
									<Relationship Name="TypeSpecifier">
										<Entry>
											<Element Type="SqlTypeSpecifier">
												<Relationship Name="Type">
													<Entry>
														<References ExternalSource="BuiltIns" Name="[int]" />
													</Entry>
												</Relationship>
											</Element>
										</Entry>
									</Relationship>
								</Element>
							</Entry>
							<Entry>
								<Element Type="SqlSimpleColumn" Name="[dbo].[DB_SearchVessel_Step2].[@Liquidation].[CurrentPortId]">
									<Relationship Name="TypeSpecifier">
										<Entry>
											<Element Type="SqlTypeSpecifier">
												<Relationship Name="Type">
													<Entry>
														<References ExternalSource="BuiltIns" Name="[int]" />
													</Entry>
												</Relationship>
											</Element>
										</Entry>
									</Relationship>
								</Element>
							</Entry>
							<Entry>
								<Element Type="SqlSimpleColumn" Name="[dbo].[DB_SearchVessel_Step2].[@Liquidation].[LoadingPortId]">
									<Relationship Name="TypeSpecifier">
										<Entry>
											<Element Type="SqlTypeSpecifier">
												<Relationship Name="Type">
													<Entry>
														<References ExternalSource="BuiltIns" Name="[int]" />
													</Entry>
												</Relationship>
											</Element>
										</Entry>
									</Relationship>
								</Element>
							</Entry>
							<Entry>
								<Element Type="SqlSimpleColumn" Name="[dbo].[DB_SearchVessel_Step2].[@Liquidation].[UnLoadingPortId]">
									<Relationship Name="TypeSpecifier">
										<Entry>
											<Element Type="SqlTypeSpecifier">
												<Relationship Name="Type">
													<Entry>
														<References ExternalSource="BuiltIns" Name="[int]" />
													</Entry>
												</Relationship>
											</Element>
										</Entry>
									</Relationship>
								</Element>
							</Entry>
							<Entry>
								<Element Type="SqlSimpleColumn" Name="[dbo].[DB_SearchVessel_Step2].[@Liquidation].[IsCurrentPort]">
									<Relationship Name="TypeSpecifier">
										<Entry>
											<Element Type="SqlTypeSpecifier">
												<Relationship Name="Type">
													<Entry>
														<References ExternalSource="BuiltIns" Name="[bit]" />
													</Entry>
												</Relationship>
											</Element>
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlDynamicColumnSource" Name="[dbo].[DB_SearchVessel_Step2].[CTE1].[CTEAvailability]">
						<Relationship Name="Columns">
							<Entry>
								<Element Type="SqlComputedColumn" Name="[dbo].[DB_SearchVessel_Step2].[CTE1].[CTEAvailability].[VesselId]">
									<Relationship Name="ExpressionDependencies">
										<Entry>
											<References Name="[dbo].[AvailableOpenVessels].[VesselId]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
							<Entry>
								<Element Type="SqlComputedColumn" Name="[dbo].[DB_SearchVessel_Step2].[CTE1].[CTEAvailability].[CurrentPortId]">
									<Relationship Name="ExpressionDependencies">
										<Entry>
											<References Name="[dbo].[AvailableOpenVessels].[CurrentPortId]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
							<Entry>
								<Element Type="SqlComputedColumn" Name="[dbo].[DB_SearchVessel_Step2].[CTE1].[CTEAvailability].[IsCurrentPort]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlDynamicColumnSource" Name="[dbo].[DB_SearchVessel_Step2].[CTE2].[CTEResult]">
						<Relationship Name="Columns">
							<Entry>
								<Element Type="SqlComputedColumn" Name="[dbo].[DB_SearchVessel_Step2].[CTE2].[CTEResult].[Token]">
									<Relationship Name="ExpressionDependencies">
										<Entry>
											<References Name="[dbo].[ServiceLiquidations].[Token]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
							<Entry>
								<Element Type="SqlComputedColumn" Name="[dbo].[DB_SearchVessel_Step2].[CTE2].[CTEResult].[Vessel]" />
							</Entry>
							<Entry>
								<Element Type="SqlComputedColumn" Name="[dbo].[DB_SearchVessel_Step2].[CTE2].[CTEResult].[StartLaycan]">
									<Relationship Name="ExpressionDependencies">
										<Entry>
											<References Name="[dbo].[RequestForServices].[StartLaycan]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
							<Entry>
								<Element Type="SqlComputedColumn" Name="[dbo].[DB_SearchVessel_Step2].[CTE2].[CTEResult].[EndLaycan]">
									<Relationship Name="ExpressionDependencies">
										<Entry>
											<References Name="[dbo].[RequestForServices].[EndLaycan]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
							<Entry>
								<Element Type="SqlComputedColumn" Name="[dbo].[DB_SearchVessel_Step2].[CTE2].[CTEResult].[VesselId]">
									<Relationship Name="ExpressionDependencies">
										<Entry>
											<References Name="[dbo].[Vessel].[Id]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
							<Entry>
								<Element Type="SqlComputedColumn" Name="[dbo].[DB_SearchVessel_Step2].[CTE2].[CTEResult].[Id]">
									<Relationship Name="ExpressionDependencies">
										<Entry>
											<References Name="[dbo].[ServiceLiquidations].[Id]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
							<Entry>
								<Element Type="SqlComputedColumn" Name="[dbo].[DB_SearchVessel_Step2].[CTE2].[CTEResult].[Total]">
									<Relationship Name="ExpressionDependencies">
										<Entry>
											<References Name="[dbo].[GetTotalVessel]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
							<Entry>
								<Element Type="SqlComputedColumn" Name="[dbo].[DB_SearchVessel_Step2].[CTE2].[CTEResult].[Name]">
									<Relationship Name="ExpressionDependencies">
										<Entry>
											<References Name="[dbo].[Vessel].[Name]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
							<Entry>
								<Element Type="SqlComputedColumn" Name="[dbo].[DB_SearchVessel_Step2].[CTE2].[CTEResult].[TotalQuantityMT]" />
							</Entry>
							<Entry>
								<Element Type="SqlComputedColumn" Name="[dbo].[DB_SearchVessel_Step2].[CTE2].[CTEResult].[Demurrage]">
									<Relationship Name="ExpressionDependencies">
										<Entry>
											<References Name="[dbo].[Vessel].[Demurrage]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
							<Entry>
								<Element Type="SqlComputedColumn" Name="[dbo].[DB_SearchVessel_Step2].[CTE2].[CTEResult].[Status]">
									<Relationship Name="ExpressionDependencies">
										<Entry>
											<References Name="[dbo].[ServiceLiquidations].[Status]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
							<Entry>
								<Element Type="SqlComputedColumn" Name="[dbo].[DB_SearchVessel_Step2].[CTE2].[CTEResult].[TotalDay]" />
							</Entry>
							<Entry>
								<Element Type="SqlComputedColumn" Name="[dbo].[DB_SearchVessel_Step2].[CTE2].[CTEResult].[VesselToken]">
									<Relationship Name="ExpressionDependencies">
										<Entry>
											<References Name="[dbo].[Vessel].[Token]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="Parameters">
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[DB_SearchVessel_Step2].[@token]">
						<Property Name="DefaultExpressionScript">
							<Value><![CDATA[null]]></Value>
						</Property>
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[uniqueidentifier]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[DB_SearchVessel_Step2].[@Status]">
						<Property Name="DefaultExpressionScript">
							<Value><![CDATA['PENDING']]></Value>
						</Property>
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Property Name="Length" Value="25" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[varchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[DB_SearchVessel_Step2].[@Continue]">
						<Property Name="DefaultExpressionScript">
							<Value><![CDATA[0]]></Value>
						</Property>
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[bit]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[DB_SearchVessel_Step2].[@UpdatedId]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[DB_SearchVessel_Step2].[@ReCalcule]">
						<Property Name="DefaultExpressionScript">
							<Value><![CDATA[0]]></Value>
						</Property>
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[DB_SearchVessel_Step2].[@tokenServiceLiquidation]">
						<Property Name="DefaultExpressionScript">
							<Value><![CDATA[null]]></Value>
						</Property>
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[uniqueidentifier]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="Schema">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<Annotation Type="SysCommentsObjectAnnotation">
				<Property Name="CreateOffset" Value="293" />
				<Property Name="Length" Value="24106" />
				<Property Name="StartLine" Value="1" />
				<Property Name="StartColumn" Value="1" />
				<Property Name="HeaderContents" Value="-- =============================================&#xD;&#xA;-- Author:&#x9;&#x9;&lt;Author,,Name&gt;&#xD;&#xA;-- Create date: &lt;Create Date,,&gt;&#xD;&#xA;-- Description:&#x9;&lt;Description,,&gt;&#xD;&#xA;-- =============================================&#xD;&#xA;--[dbo].[DB_SearchVessel_Step2]  @token ='95aae792-36e3-405e-91d0-04fd93f21fac' ,@UpdatedId =33&#xD;&#xA;&#xD;&#xA;CREATE PROCEDURE [dbo].[DB_SearchVessel_Step2] &#xD;&#xA;&#x9;-- Add the parameters for the stored procedure here&#xD;&#xA;&#x9;  @token uniqueidentifier=null&#xD;&#xA;&#x9; ,@Status varchar(25)='PENDING'&#xD;&#xA;&#x9; ,@Continue bit=0&#xD;&#xA;     ,@UpdatedId int&#xD;&#xA;&#x9; ,@ReCalcule int=0&#xD;&#xA;&#x9; ,@tokenServiceLiquidation uniqueidentifier=null&#xD;&#xA;AS" />
			</Annotation>
		</Element>
		<Element Type="SqlProcedure" Name="[dbo].[DB_ServiceLiquidationsForRquest_List]">
			<Property Name="BodyScript">
				<Value><![CDATA[
Begin


	/*------------------------------------------------------------------------------
		-- getting xml main list only range: records_[begin,end], setting record status.
		--------------------------------------------------------------------------------*/
		Declare @RequestForServiceId int
		Select @RequestForServiceId= Id From RequestForServices Where Token=@Token
		Select @TotalRecords=count(*) From ServiceLiquidations
									Inner Join Vessel On Vessel.Id=ServiceLiquidations.VesselId
									Inner Join RequestForServices On RequestForServices.Id=ServiceLiquidations.RequestForServiceId
		Where RequestForServiceId=@RequestForServiceId and ServiceLiquidations.IsActive=1
		------------------------------------------------------------------------------
		-- getting user list
		------------------------------------------------------------------------------	
		Select ServiceLiquidations.Token, @Token as TokenKey, RequestForServices.Id,
				(Case When [dbo].[GetProfile](@UpdatedId)='CUSTOMERS' Then 'TBN' else  Vessel.Name End) as Vessel , ServiceLiquidations.Status, ServiceLiquidations.Creation,
				RequestForServices.StartLaycan, RequestForServices.EndLaycan,Vessel.Demurrage,
				dbo.GetTotalVessel(Vessel.Id,ServiceLiquidations.Id)/Quantity as  TotalQuantityMT,
				dbo.GetTotalDayVessel(Vessel.Id,ServiceLiquidations.Id)/24 as TotalDay,Vessel.Token as VesselToken, Isnull(ServiceLiquidations.PriceMT,0) as PriceMT
				,Isnull(ServiceLiquidations.PriceMTNew,0) as PriceMTNew
		From ServiceLiquidations
			Inner Join Vessel On Vessel.Id=ServiceLiquidations.VesselId
			Inner Join RequestForServices On RequestForServices.Id=ServiceLiquidations.RequestForServiceId
		Where RequestForServiceId=@RequestForServiceId and ServiceLiquidations.IsActive=1 and ServiceLiquidations.Status!='PENDING'
		ORDER BY CURRENT_TIMESTAMP OFFSET (@PageIndex-1)*@PageSize ROWS FETCH FIRST @PageSize ROWS ONLY
		/*-- - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -*/
End]]></Value>
			</Property>
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Relationship Name="BodyDependencies">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[int]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[RequestForServices]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[RequestForServices].[Id]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[RequestForServices].[Token]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[DB_ServiceLiquidationsForRquest_List].[@Token]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[ServiceLiquidations]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Vessel]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Vessel].[Id]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[ServiceLiquidations].[VesselId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[RequestForServices].[Id]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[ServiceLiquidations].[RequestForServiceId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[DB_ServiceLiquidationsForRquest_List].[@TotalRecords]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[ServiceLiquidations].[RequestForServiceId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[ServiceLiquidations].[IsActive]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[ServiceLiquidations].[Token]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[GetProfile]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[DB_ServiceLiquidationsForRquest_List].[@UpdatedId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Vessel].[Name]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[ServiceLiquidations].[Status]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[ServiceLiquidations].[Creation]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[RequestForServices].[StartLaycan]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[RequestForServices].[EndLaycan]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Vessel].[Demurrage]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[GetTotalVessel]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Vessel].[Id]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[ServiceLiquidations].[Id]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[RequestForServices].[Quantity]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[GetTotalDayVessel]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Vessel].[Token]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[ServiceLiquidations].[PriceMT]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[ServiceLiquidations].[PriceMTNew]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[DB_ServiceLiquidationsForRquest_List].[@PageIndex]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[DB_ServiceLiquidationsForRquest_List].[@PageSize]" />
				</Entry>
			</Relationship>
			<Relationship Name="Parameters">
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[DB_ServiceLiquidationsForRquest_List].[@PageIndex]">
						<Property Name="DefaultExpressionScript">
							<Value><![CDATA[1]]></Value>
						</Property>
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[DB_ServiceLiquidationsForRquest_List].[@PageSize]">
						<Property Name="DefaultExpressionScript">
							<Value><![CDATA[10]]></Value>
						</Property>
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[DB_ServiceLiquidationsForRquest_List].[@TotalRecords]">
						<Property Name="IsOutput" Value="True" />
						<Property Name="DefaultExpressionScript">
							<Value><![CDATA[0]]></Value>
						</Property>
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[DB_ServiceLiquidationsForRquest_List].[@Token]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[uniqueidentifier]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[DB_ServiceLiquidationsForRquest_List].[@UpdatedId]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="Schema">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<Annotation Type="SysCommentsObjectAnnotation">
				<Property Name="Length" Value="2214" />
				<Property Name="StartLine" Value="1" />
				<Property Name="StartColumn" Value="1" />
				<Property Name="HeaderContents" Value="CREATE PROCEDURE [dbo].[DB_ServiceLiquidationsForRquest_List]&#xD;&#xA;&#x9;@PageIndex [int] = 1,&#xD;&#xA;&#x9;@PageSize [int] = 10,&#xD;&#xA;&#x9;@TotalRecords [int] = 0 OUTPUT,&#xD;&#xA;&#x9;@Token uniqueidentifier,&#xD;&#xA;&#x9;@UpdatedId int&#xD;&#xA;AS" />
			</Annotation>
		</Element>
		<Element Type="SqlProcedure" Name="[dbo].[DB_StowageFactor_Delete]">
			<Property Name="BodyScript">
				<Value><![CDATA[
Begin

	--------------------------------------------------------------------------------
	Declare  @sError Varchar(Max) ,@IsErrorTecnichal int
	Execute C_Parameter_Get @CodeParameter= 'ERROR_TECNICHAL', @Value= @IsErrorTecnichal OUTPUT
	--------------------------------------------------------------------------------
	-- Validating parameters
	--------------------------------------------------------------------------------
	--------------------------------------------------------------------------------
	-- Activate/Inactivate Record
	--------------------------------------------------------------------------------
	Begin Try
	--------------------------------------------------------------------------------
	-- Validating parameters
	--------------------------------------------------------------------------------
	If Exists (Select top 1 * 
			   From dbo.StowageFactorByProducts
					Inner Join StowageFactors On StowageFactors.Id=dbo.StowageFactorByProducts.StowageFactorId
			   Where dbo.StowageFactors.Token= @Token)
	Begin
		RaisError('Relationship of row with other table',16,1)
		Return
	End
	Begin Transaction
			Delete From dbo.StowageFactors 
			Where Token= @Token

			-- check for errors
			If @@rowcount= 0 
			Begin 
    			RaisError('SQLDELETE_FAILD',16,1)
			End 

	-- if we reach here, success!
	Commit Transaction
	End Try
	Begin Catch
			-- there was an error
			If XACT_STATE() =-1
			Begin
    				Rollback WORK
			End
			If @@trancount >0
			Begin
    				Rollback WORK
			End
			If XACT_STATE() = 1
			Begin
    				Commit WORK
			End
			--Getting the error description
			Set @sError  =   ERROR_MESSAGE()
			if @IsErrorTecnichal=1
			Begin
				Set @sError  =  ERROR_PROCEDURE() + 
					';  ' + convert(varchar,ERROR_LINE()) + 
					'; ' + ERROR_MESSAGE()
			End 
			--Getting the error description
			RaisError (@sError,16,1) 
			Return  
	End Catch
	--------------------------------------------------------------------------------
	-- Returning a Value
	--------------------------------------------------------------------------------
	Select  1
	-- - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -
End]]></Value>
			</Property>
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Relationship Name="BodyDependencies">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[varchar]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[int]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[C_Parameter_Get]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[C_Parameter_Get].[@CodeParameter]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[C_Parameter_Get].[@Value]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[StowageFactorByProducts]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[StowageFactors]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[StowageFactors].[Id]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[StowageFactorByProducts].[StowageFactorId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[StowageFactors].[Token]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[DB_StowageFactor_Delete].[@Token]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[StowageFactors].[Token]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[varchar]" />
				</Entry>
			</Relationship>
			<Relationship Name="Parameters">
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[DB_StowageFactor_Delete].[@Token]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[uniqueidentifier]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="Schema">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<Annotation Type="SysCommentsObjectAnnotation">
				<Property Name="Length" Value="2332" />
				<Property Name="StartLine" Value="1" />
				<Property Name="StartColumn" Value="1" />
				<Property Name="HeaderContents" Value="CREATE PROCEDURE [dbo].[DB_StowageFactor_Delete]&#xD;&#xA;&#x9;@Token uniqueidentifier&#xD;&#xA;--WITH ENCRYPTION&#xD;&#xA;AS" />
			</Annotation>
		</Element>
		<Element Type="SqlProcedure" Name="[dbo].[DB_StowageFactor_Get]">
			<Property Name="BodyScript">
				<Value><![CDATA[
BEGIN
		------------------------------------------------------------------------------
		-- Declaring tables
		------------------------------------------------------------------------------
		SELECT *
		FROM StowageFactors
		Where Token= @Token
		-- - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -
END]]></Value>
			</Property>
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Relationship Name="BodyDependencies">
				<Entry>
					<References Name="[dbo].[StowageFactors]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[StowageFactors].[Token]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[DB_StowageFactor_Get].[@Token]" />
				</Entry>
			</Relationship>
			<Relationship Name="Parameters">
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[DB_StowageFactor_Get].[@Token]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[uniqueidentifier]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="Schema">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<Annotation Type="SysCommentsObjectAnnotation">
				<Property Name="Length" Value="425" />
				<Property Name="StartLine" Value="1" />
				<Property Name="StartColumn" Value="1" />
				<Property Name="HeaderContents" Value="Create PROCEDURE DB_StowageFactor_Get&#xD;&#xA;&#x9;@Token uniqueidentifier&#xD;&#xA;--WITH ENCRYPTION&#xD;&#xA;AS" />
			</Annotation>
		</Element>
		<Element Type="SqlProcedure" Name="[dbo].[DB_StowageFactor_List]">
			<Property Name="BodyScript">
				<Value><![CDATA[

	/*------------------------------------------------------------------------------
		-- getting xml main list only range: records_[begin,end], setting record status.
		--------------------------------------------------------------------------------*/
		Select @TotalRecords=count(*) From StowageFactors


		if(@ProductId>0)
		Begin
			;With CteByProduct as (
					Select StowageFactorId,Products.Measure
					From StowageFactorByProducts
							Inner Join Products on Products.Id=StowageFactorByProducts.ProductId
					Where ProductId=@ProductId 
			)
			------------------------------------------------------------------------------
			-- getting user list
			------------------------------------------------------------------------------						   
			Select StowageFactors.*,CteByProduct.Measure
			From StowageFactors
				Inner Join CteByProduct on CteByProduct.StowageFactorId=StowageFactors.Id
			Where StowageFactors.IsActive=1
			ORDER BY Value
			/*-- - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -*/
		End
		Else
		Begin
			Select StowageFactors.*
			From StowageFactors
			Where  (StowageFactors.Name like '%'+ @Filter  +'%' or Isnull(@Filter,'')='') 
			ORDER BY Value asc, CURRENT_TIMESTAMP OFFSET (@PageIndex-1)*@PageSize ROWS FETCH FIRST @PageSize ROWS ONLY
		End]]></Value>
			</Property>
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Relationship Name="BodyDependencies">
				<Entry>
					<References Name="[dbo].[StowageFactors]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[DB_StowageFactor_List].[@TotalRecords]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[DB_StowageFactor_List].[@ProductId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[StowageFactorByProducts]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Products]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Products].[Id]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[StowageFactorByProducts].[ProductId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[StowageFactorByProducts].[StowageFactorId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Products].[Measure]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[StowageFactorByProducts].[ProductId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[StowageFactorByProducts].[StowageFactorId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[StowageFactors].[Id]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Products].[Measure]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[StowageFactors].[IsActive]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[StowageFactors].[Value]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[StowageFactors].[Name]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[DB_StowageFactor_List].[@Filter]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[DB_StowageFactor_List].[@PageIndex]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[DB_StowageFactor_List].[@PageSize]" />
				</Entry>
			</Relationship>
			<Relationship Name="DynamicObjects">
				<Entry>
					<Element Type="SqlDynamicColumnSource" Name="[dbo].[DB_StowageFactor_List].[CTE1].[CteByProduct]">
						<Relationship Name="Columns">
							<Entry>
								<Element Type="SqlComputedColumn" Name="[dbo].[DB_StowageFactor_List].[CTE1].[CteByProduct].[StowageFactorId]">
									<Relationship Name="ExpressionDependencies">
										<Entry>
											<References Name="[dbo].[StowageFactorByProducts].[StowageFactorId]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
							<Entry>
								<Element Type="SqlComputedColumn" Name="[dbo].[DB_StowageFactor_List].[CTE1].[CteByProduct].[Measure]">
									<Relationship Name="ExpressionDependencies">
										<Entry>
											<References Name="[dbo].[Products].[Measure]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="Parameters">
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[DB_StowageFactor_List].[@PageIndex]">
						<Property Name="DefaultExpressionScript">
							<Value><![CDATA[1]]></Value>
						</Property>
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[DB_StowageFactor_List].[@PageSize]">
						<Property Name="DefaultExpressionScript">
							<Value><![CDATA[10]]></Value>
						</Property>
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[DB_StowageFactor_List].[@ProductId]">
						<Property Name="DefaultExpressionScript">
							<Value><![CDATA[0]]></Value>
						</Property>
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[DB_StowageFactor_List].[@TotalRecords]">
						<Property Name="IsOutput" Value="True" />
						<Property Name="DefaultExpressionScript">
							<Value><![CDATA[0]]></Value>
						</Property>
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[DB_StowageFactor_List].[@Filter]">
						<Property Name="DefaultExpressionScript">
							<Value><![CDATA['']]></Value>
						</Property>
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Property Name="Length" Value="200" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[varchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="Schema">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<Annotation Type="SysCommentsObjectAnnotation">
				<Property Name="Length" Value="1540" />
				<Property Name="StartLine" Value="1" />
				<Property Name="StartColumn" Value="1" />
				<Property Name="HeaderContents" Value="CREATE PROCEDURE [dbo].[DB_StowageFactor_List]&#xD;&#xA;&#x9;@PageIndex [int] = 1,&#xD;&#xA;&#x9;@PageSize [int] = 10,&#xD;&#xA;&#x9;@ProductId [int] = 0,&#xD;&#xA;&#x9;@TotalRecords [int] = 0 OUTPUT,&#xD;&#xA;&#x9;@Filter varchar(200) =''&#xD;&#xA;--WITH ENCRYPTION&#xD;&#xA;AS" />
			</Annotation>
		</Element>
		<Element Type="SqlProcedure" Name="[dbo].[DB_StowageFactor_Save]">
			<Property Name="BodyScript">
				<Value><![CDATA[
Begin
	--------------------------------------------------------------------------------
	-- IMPORTANT: Set this option ON: if do you wants stop and rollback transaction.
	--------------------------------------------------------------------------------
	SET XACT_ABORT ON
	--------------------------------------------------------------------------------
	-- Declaration of Variables
	--------------------------------------------------------------------------------
	Declare  @sError Varchar(Max) ,@IsErrorTecnichal int,@Id int
	Execute C_Parameter_Get @CodeParameter= 'ERROR_TECNICHAL', @Value= @IsErrorTecnichal OUTPUT
	-- - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -
	Begin Try
	IF Exists(Select Top 1 * From dbo.StowageFactors Where Token<>@Token and Name=@Name)
	Begin
		RaisError('The duplicate key value is %s.',16,1,@Name)  
		return
	End
	--------------------------------------------------------------------------------
	-- Insert or Update Record
	--------------------------------------------------------------------------------
	Select @Id=Id From dbo.StowageFactors Where Token=@Token
	Begin Transaction
	IF Not Exists(Select Top 1 * From dbo.StowageFactors Where Token=@Token)
	Begin
		INSERT INTO [dbo].[StowageFactors]
				   ([Token]
				   ,[Name]
				   ,[Value]
				   ,[Creation]
				   ,[Updated]
				   ,[IsActive]
				   ,[UpdatedId])
			 VALUES
				   (NewId()
				   ,@Name
				   ,@Value
				   ,getdate()
				   ,getdate()
				   ,@IsActive
				   ,@UpdatedId)
			Set @Id=SCOPE_IDENTITY()
	End
	Else
	Begin
		UPDATE [dbo].[StowageFactors]
		   SET [Token] = @Token
			  ,[Name] = @Name
			  ,[Value] = @Value
			  ,[Updated] = getdate()
			  ,[IsActive] = @IsActive
			  ,[UpdatedId] = @UpdatedId
		Where Token =  @Token
		If @@rowcount= 0
		Begin
			RaisError('SQLUPDATE_FAILD',16,1)  
		End
	End
	Delete QP From StowageFactorByProducts  as QP
			Inner Join dbo.StowageFactors On dbo.StowageFactors.Id=QP.StowageFactorId
	Where dbo.StowageFactors.Id=@Id 
	INSERT INTO [dbo].[StowageFactorByProducts]
				([Token]
				,[ProductId]
				,[StowageFactorId]
				,[Creation]
				,[Updated]
				,[IsActive]
				,[UpdatedId])
	Select NewId(), item,@Id, getdate(),getdate(),1,@UpdatedId  from [dbo].[TableSplit](@Products,',')
	Commit Transaction
	End Try
	Begin Catch
		-- there was an error
		If XACT_STATE() =-1
		Begin
			Rollback WORK
		End
		If @@trancount >0
		Begin
			Rollback WORK
		End
		If XACT_STATE() = 1
		Begin
			Commit WORK
		End
		--Getting the error description
		Set @sError  =  ERROR_MESSAGE()
		if @IsErrorTecnichal=1
		Begin
			Set @sError  =  ERROR_PROCEDURE() + 
					';  ' + convert(varchar,ERROR_LINE()) + 
					'; ' + ERROR_MESSAGE()
		End 
		RaisError(@sError,16,1)  
		Return  
	End Catch
	--------------------------------------------------------------------------------
	-- Returning a Primary Key Value
	--------------------------------------------------------------------------------
	-- - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -
End]]></Value>
			</Property>
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Relationship Name="BodyDependencies">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[varchar]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[int]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[int]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[C_Parameter_Get]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[C_Parameter_Get].[@CodeParameter]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[C_Parameter_Get].[@Value]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[StowageFactors]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[StowageFactors].[Token]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[DB_StowageFactor_Save].[@Token]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[StowageFactors].[Name]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[DB_StowageFactor_Save].[@Name]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[StowageFactors].[Id]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[StowageFactors].[Token]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[StowageFactors].[Name]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[StowageFactors].[Value]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[StowageFactors].[Creation]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[StowageFactors].[Updated]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[StowageFactors].[IsActive]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[StowageFactors].[UpdatedId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[DB_StowageFactor_Save].[@Value]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[DB_StowageFactor_Save].[@IsActive]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[DB_StowageFactor_Save].[@UpdatedId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[StowageFactorByProducts]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[StowageFactors].[Id]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[StowageFactorByProducts].[StowageFactorId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[StowageFactorByProducts].[Token]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[StowageFactorByProducts].[ProductId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[StowageFactorByProducts].[StowageFactorId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[StowageFactorByProducts].[Creation]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[StowageFactorByProducts].[Updated]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[StowageFactorByProducts].[IsActive]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[StowageFactorByProducts].[UpdatedId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[DB_StowageFactor_Save].[@Products]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[TableSplit]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[TableSplit].[item]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[varchar]" />
				</Entry>
			</Relationship>
			<Relationship Name="Parameters">
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[DB_StowageFactor_Save].[@Token]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[uniqueidentifier]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[DB_StowageFactor_Save].[@Name]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Property Name="Length" Value="100" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[varchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[DB_StowageFactor_Save].[@Value]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Property Name="Precision" Value="53" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[float]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[DB_StowageFactor_Save].[@IsActive]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[bit]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[DB_StowageFactor_Save].[@Products]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Property Name="IsMax" Value="True" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[varchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[DB_StowageFactor_Save].[@UpdatedId]">
						<Property Name="DefaultExpressionScript">
							<Value><![CDATA[Null]]></Value>
						</Property>
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="Schema">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<Annotation Type="SysCommentsObjectAnnotation">
				<Property Name="Length" Value="3360" />
				<Property Name="StartLine" Value="1" />
				<Property Name="StartColumn" Value="1" />
				<Property Name="HeaderContents" Value="CREATE PROCEDURE [dbo].[DB_StowageFactor_Save]&#xD;&#xA;&#x9; @Token uniqueidentifier&#xD;&#xA;&#x9;,@Name varchar(100)&#xD;&#xA;&#x9;,@Value Float&#xD;&#xA;&#x9;,@IsActive bit &#xD;&#xA;&#x9;,@Products varchar(max)&#xD;&#xA;&#x9;,@UpdatedId [int] = Null&#xD;&#xA;--WITH ENCRYPTION&#xD;&#xA;AS" />
			</Annotation>
		</Element>
		<Element Type="SqlProcedure" Name="[dbo].[DB_StowageFactor_StatusUpdate]">
			<Property Name="BodyScript">
				<Value><![CDATA[
BEGIN
		/*------------------------------------------------------------------------------
		-- getting xml main list only range: records_[begin,end], setting record status.
		------------------------------------------------------------------------------*/
		Declare @sError Varchar(Max) ,@IsErrorTecnichal int
		Execute C_Parameter_Get @CodeParameter= 'ERROR_TECNICHAL', @Value= @IsErrorTecnichal OUTPUT
		Begin Try
		Begin Transaction
			Update StowageFactors 
			SET Updated=getdate(),
				IsActive=@IsActive
			where Token=@Token
		Commit Transaction
	------------------------------------------------------------------------------
	-- send back answer
	------------------------------------------------------------------------------
	-- - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -
	End Try
	Begin Catch
		-- there was an error
		If XACT_STATE() =-1
		Begin
    			Rollback WORK
		End
		If @@trancount >0
		Begin
    			Rollback WORK
		End
		If XACT_STATE() = 1
		Begin
    			Commit WORK
		End
		--Getting the error description
		Set @sError  =   ERROR_MESSAGE()
		if @IsErrorTecnichal=1
		Begin
			Set @sError  =  ERROR_PROCEDURE() + 
					';  ' + convert(varchar,ERROR_LINE()) + 
					'; ' + ERROR_MESSAGE()
		End 
		RaisError (@sError,16,1)   
		Return
	End Catch
END]]></Value>
			</Property>
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Relationship Name="BodyDependencies">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[varchar]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[int]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[C_Parameter_Get]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[C_Parameter_Get].[@CodeParameter]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[C_Parameter_Get].[@Value]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[StowageFactors]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[StowageFactors].[Updated]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[StowageFactors].[IsActive]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[DB_StowageFactor_StatusUpdate].[@IsActive]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[StowageFactors].[Token]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[DB_StowageFactor_StatusUpdate].[@Token]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[varchar]" />
				</Entry>
			</Relationship>
			<Relationship Name="Parameters">
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[DB_StowageFactor_StatusUpdate].[@UpdatedId]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[DB_StowageFactor_StatusUpdate].[@Token]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[uniqueidentifier]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[DB_StowageFactor_StatusUpdate].[@IsActive]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="Schema">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<Annotation Type="SysCommentsObjectAnnotation">
				<Property Name="CreateOffset" Value="3" />
				<Property Name="Length" Value="1483" />
				<Property Name="StartLine" Value="1" />
				<Property Name="StartColumn" Value="1" />
				<Property Name="HeaderContents" Value=" &#xD;&#xA;Create PROCEDURE DB_StowageFactor_StatusUpdate&#xD;&#xA;&#x9;@UpdatedId [int],&#xD;&#xA;&#x9;@Token uniqueidentifier,&#xD;&#xA;&#x9;@IsActive int&#xD;&#xA;--WITH ENCRYPTION&#xD;&#xA;AS" />
			</Annotation>
		</Element>
		<Element Type="SqlProcedure" Name="[dbo].[DB_StowageFactorProduct_Assigned]">
			<Property Name="BodyScript">
				<Value><![CDATA[
BEGIN
		------------------------------------------------------------------------------
		-- Declaring tables
		------------------------------------------------------------------------------
		Declare @Id int

		Select @Id=Id
		From StowageFactors
		Where Token=@Token


		Select Products.Name ,Products.Id
		from Products 
		Where Id Not in (Select Products.Id
						from StowageFactorByProducts 
							Inner Join  Products On Products.Id=StowageFactorByProducts.ProductId
						Where StowageFactorId=@Id)

		Select Products.Name ,Products.Id
		from StowageFactorByProducts 
			Inner Join  Products On Products.Id=StowageFactorByProducts.ProductId
		Where StowageFactorId=@Id

		-- - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -
END]]></Value>
			</Property>
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Relationship Name="BodyDependencies">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[int]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[StowageFactors]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[StowageFactors].[Id]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[StowageFactors].[Token]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[DB_StowageFactorProduct_Assigned].[@Token]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Products]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Products].[Name]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Products].[Id]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Products].[Id]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[StowageFactorByProducts]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Products]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Products].[Id]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[StowageFactorByProducts].[ProductId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[StowageFactorByProducts].[StowageFactorId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[StowageFactorByProducts]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Products].[Id]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[StowageFactorByProducts].[ProductId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Products].[Name]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[StowageFactorByProducts].[StowageFactorId]" />
				</Entry>
			</Relationship>
			<Relationship Name="Parameters">
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[DB_StowageFactorProduct_Assigned].[@Token]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[uniqueidentifier]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="Schema">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<Annotation Type="SysCommentsObjectAnnotation">
				<Property Name="Length" Value="886" />
				<Property Name="StartLine" Value="1" />
				<Property Name="StartColumn" Value="1" />
				<Property Name="HeaderContents" Value="Create PROCEDURE DB_StowageFactorProduct_Assigned&#xD;&#xA;&#x9;@Token uniqueidentifier&#xD;&#xA;--WITH ENCRYPTION&#xD;&#xA;AS" />
			</Annotation>
		</Element>
		<Element Type="SqlProcedure" Name="[dbo].[DB_Terminal_Delete]">
			<Property Name="BodyScript">
				<Value><![CDATA[
Begin

	--------------------------------------------------------------------------------
	Declare  @sError Varchar(Max) ,@IsErrorTecnichal int
	Execute C_Parameter_Get @CodeParameter= 'ERROR_TECNICHAL', @Value= @IsErrorTecnichal OUTPUT
	--------------------------------------------------------------------------------
	-- Validating parameters
	--------------------------------------------------------------------------------
	--------------------------------------------------------------------------------
	-- Activate/Inactivate Record
	--------------------------------------------------------------------------------
	Begin Try
	If Exists (Select top 1 * 
			   From dbo.Cities
					Inner Join Terminals On Terminals.CityId=dbo.Cities.CityId
			   Where dbo.Terminals.Token= @Token)
	Begin
		RaisError('Relationship of row with other table',16,1)
		Return
	End
	Begin Transaction
			
			Delete t From dbo.TerminalByProducts as t
				   Inner Join dbo.Terminals  On dbo.Terminals.Id=t.TerminalId
			Where dbo.Terminals.Token= @Token

			Delete From dbo.Terminals 
			Where Token= @Token

			-- check for errors
			If @@rowcount= 0 
			Begin 
    			RaisError('SQLDELETE_FAILD',16,1)
			End 

	-- if we reach here, success!
	Commit Transaction
	End Try
	Begin Catch
			-- there was an error
			If XACT_STATE() =-1
			Begin
    				Rollback WORK
			End
			If @@trancount >0
			Begin
    				Rollback WORK
			End
			If XACT_STATE() = 1
			Begin
    				Commit WORK
			End
			--Getting the error description
			Set @sError  =   ERROR_MESSAGE()
			if @IsErrorTecnichal=1
			Begin
				Set @sError  =  ERROR_PROCEDURE() + 
					';  ' + convert(varchar,ERROR_LINE()) + 
					'; ' + ERROR_MESSAGE()
			End 
			--Getting the error description
			RaisError (@sError,16,1) 
			Return  
	End Catch
	--------------------------------------------------------------------------------
	-- Returning a Value
	--------------------------------------------------------------------------------
	Select  1
	-- - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -
End]]></Value>
			</Property>
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Relationship Name="BodyDependencies">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[varchar]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[int]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[C_Parameter_Get]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[C_Parameter_Get].[@CodeParameter]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[C_Parameter_Get].[@Value]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Cities]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Terminals]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Terminals].[CityId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Cities].[CityId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Terminals].[Token]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[DB_Terminal_Delete].[@Token]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[TerminalByProducts]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Terminals].[Id]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[TerminalByProducts].[TerminalId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Terminals].[Token]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Terminals].[Token]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[varchar]" />
				</Entry>
			</Relationship>
			<Relationship Name="Parameters">
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[DB_Terminal_Delete].[@Token]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[uniqueidentifier]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="Schema">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<Annotation Type="SysCommentsObjectAnnotation">
				<Property Name="Length" Value="2233" />
				<Property Name="StartLine" Value="1" />
				<Property Name="StartColumn" Value="1" />
				<Property Name="HeaderContents" Value="CREATE PROCEDURE [dbo].[DB_Terminal_Delete]&#xD;&#xA;&#x9;@Token uniqueidentifier&#xD;&#xA;--WITH ENCRYPTION&#xD;&#xA;AS" />
			</Annotation>
		</Element>
		<Element Type="SqlProcedure" Name="[dbo].[DB_Terminal_Get]">
			<Property Name="BodyScript">
				<Value><![CDATA[
BEGIN
		------------------------------------------------------------------------------
		-- Declaring tables
		------------------------------------------------------------------------------
		SELECT Terminals.*,Ports.Name as PortName
		FROM Terminals
			Inner Join Ports On Terminals.PortId=Ports.Id
		Where Terminals.Token= @Token
		-- - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -
END]]></Value>
			</Property>
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Relationship Name="BodyDependencies">
				<Entry>
					<References Name="[dbo].[Terminals]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Ports]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Terminals].[PortId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Ports].[Id]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Ports].[Name]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Terminals].[Token]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[DB_Terminal_Get].[@Token]" />
				</Entry>
			</Relationship>
			<Relationship Name="Parameters">
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[DB_Terminal_Get].[@Token]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[uniqueidentifier]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="Schema">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<Annotation Type="SysCommentsObjectAnnotation">
				<Property Name="Length" Value="516" />
				<Property Name="StartLine" Value="1" />
				<Property Name="StartColumn" Value="1" />
				<Property Name="HeaderContents" Value="CREATE PROCEDURE [dbo].[DB_Terminal_Get]&#xD;&#xA;&#x9;@Token uniqueidentifier&#xD;&#xA;--WITH ENCRYPTION&#xD;&#xA;AS" />
			</Annotation>
		</Element>
		<Element Type="SqlProcedure" Name="[dbo].[DB_Terminal_List]">
			<Property Name="BodyScript">
				<Value><![CDATA[

	/*------------------------------------------------------------------------------
		-- getting xml main list only range: records_[begin,end], setting record status.
		--------------------------------------------------------------------------------*/
		Select @TotalRecords=count(*) From Terminals where IsActive=1
		if(@ProductId>0)
		Begin
			;With CteByProduct as (
					Select TerminalId,LoadingRate,UnLoadingRate
					From TerminalByProducts
					Where ProductId=@ProductId 
			)
			------------------------------------------------------------------------------
			-- getting user list
			------------------------------------------------------------------------------						   
			Select Terminals.*,Conditions.Name as ConditionName,CteByProduct.LoadingRate,CteByProduct.UnLoadingRate
			From Terminals
			Left Join CteByProduct on CteByProduct.TerminalId=Terminals.Id
			Inner Join Conditions On Conditions.Id=Terminals.ConditionId 
			Where Terminals.PortId=@PortId and (Terminals.Name like '%'+ @Filter  +'%' or Isnull(@Filter,'')='') 
				  And Terminals.IsActive=1
			ORDER BY  Terminals._Order asc,Terminals.Name asc
		End
		Else
		Begin 
		Select Terminals.*,Conditions.Name as ConditionName,Ports.Name as PortName,Cities.City as CityName
		From Terminals
			Inner Join Conditions On Conditions.Id=Terminals.ConditionId 
			Inner Join Ports On Ports.Id=Terminals.PortId 
			Inner Join Cities On Cities.CityId=Terminals.CityId 
			Where (Terminals.Name like '%'+ @Filter  +'%' or Isnull(@Filter,'')='') 
			ORDER BY CURRENT_TIMESTAMP OFFSET (@PageIndex-1)*@PageSize ROWS FETCH FIRST @PageSize ROWS ONLY
		end]]></Value>
			</Property>
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Relationship Name="BodyDependencies">
				<Entry>
					<References Name="[dbo].[Terminals]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[DB_Terminal_List].[@TotalRecords]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Terminals].[IsActive]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[DB_Terminal_List].[@ProductId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[TerminalByProducts]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[TerminalByProducts].[TerminalId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[TerminalByProducts].[LoadingRate]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[TerminalByProducts].[UnloadingRate]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[TerminalByProducts].[ProductId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[TerminalByProducts].[TerminalId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Terminals].[Id]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Conditions]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Conditions].[Id]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Terminals].[ConditionId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Conditions].[Name]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[TerminalByProducts].[LoadingRate]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[TerminalByProducts].[UnloadingRate]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Terminals].[PortId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[DB_Terminal_List].[@PortId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Terminals].[Name]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[DB_Terminal_List].[@Filter]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Terminals].[IsActive]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Terminals].[_Order]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Ports]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Ports].[Id]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Terminals].[PortId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Cities]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Cities].[CityId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Terminals].[CityId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Conditions].[Name]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Ports].[Name]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Cities].[City]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Terminals].[Name]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[DB_Terminal_List].[@PageIndex]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[DB_Terminal_List].[@PageSize]" />
				</Entry>
			</Relationship>
			<Relationship Name="DynamicObjects">
				<Entry>
					<Element Type="SqlDynamicColumnSource" Name="[dbo].[DB_Terminal_List].[CTE1].[CteByProduct]">
						<Relationship Name="Columns">
							<Entry>
								<Element Type="SqlComputedColumn" Name="[dbo].[DB_Terminal_List].[CTE1].[CteByProduct].[TerminalId]">
									<Relationship Name="ExpressionDependencies">
										<Entry>
											<References Name="[dbo].[TerminalByProducts].[TerminalId]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
							<Entry>
								<Element Type="SqlComputedColumn" Name="[dbo].[DB_Terminal_List].[CTE1].[CteByProduct].[LoadingRate]">
									<Relationship Name="ExpressionDependencies">
										<Entry>
											<References Name="[dbo].[TerminalByProducts].[LoadingRate]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
							<Entry>
								<Element Type="SqlComputedColumn" Name="[dbo].[DB_Terminal_List].[CTE1].[CteByProduct].[UnLoadingRate]">
									<Relationship Name="ExpressionDependencies">
										<Entry>
											<References Name="[dbo].[TerminalByProducts].[UnloadingRate]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="Parameters">
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[DB_Terminal_List].[@PageIndex]">
						<Property Name="DefaultExpressionScript">
							<Value><![CDATA[1]]></Value>
						</Property>
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[DB_Terminal_List].[@PageSize]">
						<Property Name="DefaultExpressionScript">
							<Value><![CDATA[10]]></Value>
						</Property>
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[DB_Terminal_List].[@ProductId]">
						<Property Name="DefaultExpressionScript">
							<Value><![CDATA[0]]></Value>
						</Property>
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[DB_Terminal_List].[@TotalRecords]">
						<Property Name="IsOutput" Value="True" />
						<Property Name="DefaultExpressionScript">
							<Value><![CDATA[0]]></Value>
						</Property>
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[DB_Terminal_List].[@Filter]">
						<Property Name="DefaultExpressionScript">
							<Value><![CDATA['']]></Value>
						</Property>
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Property Name="Length" Value="200" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[varchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[DB_Terminal_List].[@PortId]">
						<Property Name="DefaultExpressionScript">
							<Value><![CDATA[0]]></Value>
						</Property>
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="Schema">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<Annotation Type="SysCommentsObjectAnnotation">
				<Property Name="Length" Value="1866" />
				<Property Name="StartLine" Value="1" />
				<Property Name="StartColumn" Value="1" />
				<Property Name="HeaderContents" Value="CREATE PROCEDURE [dbo].[DB_Terminal_List]&#xD;&#xA;&#x9;@PageIndex [int] = 1,&#xD;&#xA;&#x9;@PageSize [int] = 10,&#xD;&#xA;&#x9;@ProductId [int] = 0,&#xD;&#xA;&#x9;@TotalRecords [int] = 0 OUTPUT,&#xD;&#xA;&#x9;@Filter varchar(200) ='',&#xD;&#xA;&#x9;@PortId int=0&#xD;&#xA;--WITH ENCRYPTION&#xD;&#xA;AS" />
			</Annotation>
		</Element>
		<Element Type="SqlProcedure" Name="[dbo].[DB_Terminal_Save]">
			<Property Name="BodyScript">
				<Value><![CDATA[
Begin
	--------------------------------------------------------------------------------
	-- IMPORTANT: Set this option ON: if do you wants stop and rollback transaction.
	--------------------------------------------------------------------------------
	SET XACT_ABORT ON
	--------------------------------------------------------------------------------
	-- Declaration of Variables
	--------------------------------------------------------------------------------
	Declare  @sError Varchar(Max) ,@IsErrorTecnichal int, @Id int,@id_record int,@Count int, @item varchar(max)
	Declare  @LoadingRate money, @UnLoadingRate money, @ProductId int
	Declare @Minimum float ,@Maximum float, @Rate float
	Execute C_Parameter_Get @CodeParameter= 'ERROR_TECNICHAL', @Value= @IsErrorTecnichal OUTPUT
	-- - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -
	Begin Try
	IF Exists(Select Top 1 * From dbo.Terminals Where Token<>@Token and Name=@Name)
	Begin
		RaisError('The duplicate key value is %s.',16,1,@Name)  
		return
	End
	--------------------------------------------------------------------------------
	-- Insert or Update Record
	--------------------------------------------------------------------------------
	Begin Transaction
	IF Not Exists(Select Top 1 * From dbo.Terminals Where Token=@Token)
	Begin
			INSERT INTO [dbo].[Terminals]
					   ([Token]
					   ,[PortId]
					   ,[Name]
					   ,[Address]
					   ,[Contants]
					   ,[CityId]
					   ,[Phone]
					   ,[Xaxis]
					   ,[Yaxis]
					   ,[Email]
					   ,[Creation]
					   ,[Updated]
					   ,[IsActive]
					   ,[UpdatedId]
					   ,[ConditionId]
					   ,[ConditionValue])
				 VALUES
					   (NewId()
					   ,@PortId   
					   ,@Name 
					   ,@Address 
					   ,@Contants 
					   ,@CityId 
					   ,@Phone 
					   ,@Xaxis   
					   ,@Yaxis   
					   ,@Email 
					   ,getdate()
					   ,getdate()
					   ,@IsActive   
					   ,@UpdatedId   
					   ,@ConditionId   
					   ,@ConditionValue   )
			Set @Id= SCOPE_IDENTITY()

			
	End
	Else
	Begin
	UPDATE [dbo].[Terminals]
	   SET [Token] = @Token 
		  ,[PortId] = @PortId 
		  ,[Name] = @Name 
		  ,[Address] = @Address 
		  ,[Contants] = @Contants 
		  ,[CityId] = @CityId 
		  ,[Phone] = @Phone 
		  ,[Xaxis] = @Xaxis 
		  ,[Yaxis] = @Yaxis 
		  ,[Email] = @Email 
		  ,[Updated] = getdate()
		  ,[IsActive] = @IsActive 
		  ,[UpdatedId] = @UpdatedId 
		  ,[ConditionId] = @ConditionId 
		  ,[ConditionValue] = @ConditionValue 
		Where Token =  @Token

		Select  @Id= Id
		From [dbo].[Terminals]
		Where Token =  @Token

		If @@rowcount= 0
		Begin
			RaisError('SQLUPDATE_FAILD',16,1)  
		End
	End
	
	Delete From TerminalByProducts where TerminalId=@Id
	Select @Count=Count(1) From [dbo].[TableSplit](@Products,'x')
	Set @id_record=1
	While(@Count>=@id_record)
	Begin

		Select @item=item
		From [dbo].[TableSplit](@Products,'x')
		Where id_record=@id_record
		Select @ProductId=Convert(int,item) From [dbo].[TableSplit](@item,'|') Where id_record=1
		Select @LoadingRate=Convert(money,item)  From [dbo].[TableSplit](@item,'|') Where id_record=2
		Select @UnLoadingRate=Convert(money,item)  From [dbo].[TableSplit](@item,'|') Where id_record=3
		Select @IsActive=Convert(bit,item)  From [dbo].[TableSplit](@item,'|') Where id_record=4

		INSERT INTO [dbo].[TerminalByProducts]
					([Token]
					,[TerminalId]
					,[ProductId]
					,[LoadingRate]
					,[UnloadingRate]
					,[Creation]
					,[IsActive]
					,[UpdatedId])
		Select NewId(), @Id,@ProductId,@LoadingRate,@UnLoadingRate,getdate(),@IsActive,@UpdatedId  
		Set @id_record=@id_record+1 

		
	End

	Delete From RankRateTerminals where TerminalId=@Id
	Select @Count=Count(1) From [dbo].[TableSplit](@RankRate,'x')
	Set @id_record=1
	While(@Count>=@id_record)
	Begin

		Select @item=item
		From [dbo].[TableSplit](@RankRate,'x')
		Where id_record=@id_record

	
		Select @Minimum=Convert(int,item) From [dbo].[TableSplit](@item,'|') Where id_record=1
		Select @Maximum=Convert(money,item)  From [dbo].[TableSplit](@item,'|') Where id_record=2
		Select @Rate=Convert(money,item)  From [dbo].[TableSplit](@item,'|') Where id_record=3

		INSERT INTO [dbo].[RankRateTerminals]
					([Token]
					,[TerminalId]
					,[Minimum]
					,[Maximum]
					,[Rate]
					,[Creation]
					,[IsActive]
					,[UpdatedId])
		Select NewId(), @Id,@Minimum,@Maximum,@Rate,getdate(),1,@UpdatedId  
		Set @id_record=@id_record+1

	End

	Commit Transaction
	End Try
	Begin Catch
		-- there was an error
		If XACT_STATE() =-1
		Begin
			Rollback WORK
		End
		If @@trancount >0
		Begin
			Rollback WORK
		End
		If XACT_STATE() = 1
		Begin
			Commit WORK
		End
		--Getting the error description
		Set @sError  =  ERROR_MESSAGE()
		if @IsErrorTecnichal=1
		Begin
			Set @sError  =  ERROR_PROCEDURE() + 
					';  ' + convert(varchar,ERROR_LINE()) + 
					'; ' + ERROR_MESSAGE()
		End 
		RaisError(@sError,16,1)  
		Return  
	End Catch
	--------------------------------------------------------------------------------
	-- Returning a Primary Key Value
	--------------------------------------------------------------------------------
	-- - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -
End]]></Value>
			</Property>
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Relationship Name="BodyDependencies">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[varchar]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[int]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[int]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[int]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[int]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[varchar]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[money]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[money]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[int]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[float]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[float]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[float]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[C_Parameter_Get]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[C_Parameter_Get].[@CodeParameter]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[C_Parameter_Get].[@Value]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Terminals]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Terminals].[Token]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[DB_Terminal_Save].[@Token]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Terminals].[Name]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[DB_Terminal_Save].[@Name]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Terminals].[Token]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Terminals].[PortId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Terminals].[Name]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Terminals].[Address]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Terminals].[Contants]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Terminals].[CityId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Terminals].[Phone]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Terminals].[Xaxis]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Terminals].[Yaxis]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Terminals].[Email]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Terminals].[Creation]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Terminals].[Updated]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Terminals].[IsActive]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Terminals].[UpdatedId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Terminals].[ConditionId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Terminals].[ConditionValue]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[DB_Terminal_Save].[@PortId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[DB_Terminal_Save].[@Address]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[DB_Terminal_Save].[@Contants]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[DB_Terminal_Save].[@CityId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[DB_Terminal_Save].[@Phone]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[DB_Terminal_Save].[@Xaxis]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[DB_Terminal_Save].[@Yaxis]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[DB_Terminal_Save].[@Email]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[DB_Terminal_Save].[@IsActive]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[DB_Terminal_Save].[@UpdatedId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[DB_Terminal_Save].[@ConditionId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[DB_Terminal_Save].[@ConditionValue]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Terminals].[Id]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[TerminalByProducts]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[TerminalByProducts].[TerminalId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[DB_Terminal_Save].[@Products]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[TableSplit]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[TableSplit].[item]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[TableSplit].[id_record]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[int]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[money]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[money]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[bit]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[TerminalByProducts].[Token]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[TerminalByProducts].[ProductId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[TerminalByProducts].[LoadingRate]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[TerminalByProducts].[UnloadingRate]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[TerminalByProducts].[Creation]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[TerminalByProducts].[IsActive]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[TerminalByProducts].[UpdatedId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[RankRateTerminals]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[RankRateTerminals].[TerminalId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[DB_Terminal_Save].[@RankRate]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[int]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[money]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[money]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[RankRateTerminals].[Token]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[RankRateTerminals].[Minimum]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[RankRateTerminals].[Maximum]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[RankRateTerminals].[Rate]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[RankRateTerminals].[Creation]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[RankRateTerminals].[IsActive]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[RankRateTerminals].[UpdatedId]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[varchar]" />
				</Entry>
			</Relationship>
			<Relationship Name="Parameters">
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[DB_Terminal_Save].[@Token]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[uniqueidentifier]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[DB_Terminal_Save].[@PortId]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[DB_Terminal_Save].[@Name]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Property Name="Length" Value="25" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[varchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[DB_Terminal_Save].[@Address]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Property Name="Length" Value="200" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[varchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[DB_Terminal_Save].[@Contants]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Property Name="Length" Value="200" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[varchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[DB_Terminal_Save].[@CityId]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[DB_Terminal_Save].[@Phone]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Property Name="Length" Value="50" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[varchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[DB_Terminal_Save].[@Xaxis]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Property Name="Precision" Value="53" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[float]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[DB_Terminal_Save].[@Yaxis]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Property Name="Precision" Value="53" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[float]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[DB_Terminal_Save].[@Email]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Property Name="Length" Value="80" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[varchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[DB_Terminal_Save].[@IsActive]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[bit]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[DB_Terminal_Save].[@ConditionId]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[DB_Terminal_Save].[@ConditionValue]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Property Name="Precision" Value="53" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[float]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[DB_Terminal_Save].[@Products]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Property Name="IsMax" Value="True" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[varchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[DB_Terminal_Save].[@UpdatedId]">
						<Property Name="DefaultExpressionScript">
							<Value><![CDATA[Null]]></Value>
						</Property>
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[DB_Terminal_Save].[@RankRate]">
						<Property Name="DefaultExpressionScript">
							<Value><![CDATA['']]></Value>
						</Property>
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Property Name="IsMax" Value="True" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[varchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="Schema">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<Annotation Type="SysCommentsObjectAnnotation">
				<Property Name="Length" Value="5809" />
				<Property Name="StartLine" Value="1" />
				<Property Name="StartColumn" Value="1" />
				<Property Name="HeaderContents" Value="CREATE PROCEDURE [dbo].[DB_Terminal_Save]&#xD;&#xA;&#x9; @Token uniqueidentifier&#xD;&#xA;&#x9;,@PortId int &#xD;&#xA;&#x9;,@Name varchar(25) &#xD;&#xA;&#x9;,@Address varchar(200) &#xD;&#xA;&#x9;,@Contants varchar(200) &#xD;&#xA;&#x9;,@CityId int &#xD;&#xA;&#x9;,@Phone varchar(50) &#xD;&#xA;&#x9;,@Xaxis float &#xD;&#xA;&#x9;,@Yaxis float &#xD;&#xA;&#x9;,@Email varchar(80) &#xD;&#xA;&#x9;,@IsActive bit &#xD;&#xA;&#x9;,@ConditionId int &#xD;&#xA;&#x9;,@ConditionValue float &#xD;&#xA;&#x9;,@Products varchar(max)&#xD;&#xA;&#x9;,@UpdatedId [int] = Null&#xD;&#xA;&#x9;,@RankRate varchar(max)=''&#xD;&#xA;--WITH ENCRYPTION&#xD;&#xA;AS" />
			</Annotation>
		</Element>
		<Element Type="SqlProcedure" Name="[dbo].[DB_Terminal_StatusUpdate]">
			<Property Name="BodyScript">
				<Value><![CDATA[
BEGIN
		/*------------------------------------------------------------------------------
		-- getting xml main list only range: records_[begin,end], setting record status.
		------------------------------------------------------------------------------*/
		Declare @sError Varchar(Max) ,@IsErrorTecnichal int
		Execute C_Parameter_Get @CodeParameter= 'ERROR_TECNICHAL', @Value= @IsErrorTecnichal OUTPUT
		Begin Try
		Begin Transaction
			Update Terminals 
			SET Updated=getdate(),
				IsActive=@IsActive
			where Token=@Token
		Commit Transaction
	------------------------------------------------------------------------------
	-- send back answer
	------------------------------------------------------------------------------
	-- - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -
	End Try
	Begin Catch
		-- there was an error
		If XACT_STATE() =-1
		Begin
    			Rollback WORK
		End
		If @@trancount >0
		Begin
    			Rollback WORK
		End
		If XACT_STATE() = 1
		Begin
    			Commit WORK
		End
		--Getting the error description
		Set @sError  =   ERROR_MESSAGE()
		if @IsErrorTecnichal=1
		Begin
			Set @sError  =  ERROR_PROCEDURE() + 
					';  ' + convert(varchar,ERROR_LINE()) + 
					'; ' + ERROR_MESSAGE()
		End 
		RaisError (@sError,16,1)   
		Return
	End Catch
END]]></Value>
			</Property>
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Relationship Name="BodyDependencies">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[varchar]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[int]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[C_Parameter_Get]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[C_Parameter_Get].[@CodeParameter]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[C_Parameter_Get].[@Value]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Terminals]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Terminals].[Updated]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Terminals].[IsActive]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[DB_Terminal_StatusUpdate].[@IsActive]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Terminals].[Token]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[DB_Terminal_StatusUpdate].[@Token]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[varchar]" />
				</Entry>
			</Relationship>
			<Relationship Name="Parameters">
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[DB_Terminal_StatusUpdate].[@UpdatedId]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[DB_Terminal_StatusUpdate].[@Token]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[uniqueidentifier]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[DB_Terminal_StatusUpdate].[@IsActive]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="Schema">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<Annotation Type="SysCommentsObjectAnnotation">
				<Property Name="CreateOffset" Value="3" />
				<Property Name="Length" Value="1473" />
				<Property Name="StartLine" Value="1" />
				<Property Name="StartColumn" Value="1" />
				<Property Name="HeaderContents" Value=" &#xD;&#xA;Create PROCEDURE DB_Terminal_StatusUpdate&#xD;&#xA;&#x9;@UpdatedId [int],&#xD;&#xA;&#x9;@Token uniqueidentifier,&#xD;&#xA;&#x9;@IsActive int&#xD;&#xA;--WITH ENCRYPTION&#xD;&#xA;AS" />
			</Annotation>
		</Element>
		<Element Type="SqlProcedure" Name="[dbo].[DB_TerminalByProducts_Get]">
			<Property Name="BodyScript">
				<Value><![CDATA[
BEGIN
		------------------------------------------------------------------------------
		-- Declaring tables
		------------------------------------------------------------------------------
		if(@type=1)
		Begin
			Select Products.Id,Products.Name,TerminalByProducts.LoadingRate,TerminalByProducts.UnloadingRate,TerminalByProducts.IsActive
			From TerminalByProducts
				 Inner Join Terminals On Terminals.Id=TerminalByProducts.TerminalId
				 Inner Join Products On Products.Id=TerminalByProducts.ProductId
			Where Terminals.Token= @Token
			union 
			Select Id,Name,0 as LoadingRate, 0 as UnLoadingRage,0 as IsActive
			From Products
			Where Products.Id not in (Select Products.Id From TerminalByProducts
											 Inner Join Terminals On Terminals.Id=TerminalByProducts.TerminalId
											 Inner Join Products On Products.Id=TerminalByProducts.ProductId
										Where Terminals.Token= @Token)
		end
		Else
		Begin
			Select Id,Name,0 as LoadingRate, 0 as UnLoadingRage,0 as IsActive
			From Products
		End
		-- - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -
END]]></Value>
			</Property>
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Relationship Name="BodyDependencies">
				<Entry>
					<References Name="[dbo].[DB_TerminalByProducts_Get].[@type]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[TerminalByProducts]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Terminals]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Terminals].[Id]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[TerminalByProducts].[TerminalId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Products]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Products].[Id]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[TerminalByProducts].[ProductId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Products].[Name]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[TerminalByProducts].[LoadingRate]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[TerminalByProducts].[UnloadingRate]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[TerminalByProducts].[IsActive]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Terminals].[Token]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[DB_TerminalByProducts_Get].[@Token]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Products].[Id]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Products].[Name]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Products].[Id]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[TerminalByProducts]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Terminals]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Terminals].[Id]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[TerminalByProducts].[TerminalId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Products]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Products].[Id]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[TerminalByProducts].[ProductId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Terminals].[Token]" />
				</Entry>
			</Relationship>
			<Relationship Name="Parameters">
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[DB_TerminalByProducts_Get].[@Token]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[uniqueidentifier]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[DB_TerminalByProducts_Get].[@type]">
						<Property Name="DefaultExpressionScript">
							<Value><![CDATA[0]]></Value>
						</Property>
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="Schema">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<Annotation Type="SysCommentsObjectAnnotation">
				<Property Name="CreateOffset" Value="83" />
				<Property Name="Length" Value="1308" />
				<Property Name="StartLine" Value="1" />
				<Property Name="StartColumn" Value="1" />
				<Property Name="HeaderContents" Value="--DB_TerminalByProducts_Get @Token='4ad7f332-e8da-4f45-bc06-0b753449a557',@type=1&#xD;&#xA;CREATE PROCEDURE [dbo].[DB_TerminalByProducts_Get]&#xD;&#xA;&#x9;@Token uniqueidentifier,&#xD;&#xA;&#x9;@type int =0&#xD;&#xA;AS" />
			</Annotation>
		</Element>
		<Element Type="SqlProcedure" Name="[dbo].[DB_TerminalProduct_Assigned]">
			<Property Name="BodyScript">
				<Value><![CDATA[
BEGIN
		------------------------------------------------------------------------------
		-- Declaring tables
		------------------------------------------------------------------------------
		Declare @Id int

		Select @Id=Id
		From Terminals
		Where Token=@Token


		Select Products.Name ,Products.Id
		from Products 
		Where Id Not in (Select Products.Id
						from TerminalByProducts 
							Inner Join  Products On Products.Id=TerminalByProducts.ProductId
						Where TerminalId=@Id)

		Select Products.Name ,Products.Id
		from TerminalByProducts 
			Inner Join  Products On Products.Id=TerminalByProducts.ProductId
		Where TerminalId=@Id

		-- - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -
END]]></Value>
			</Property>
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Relationship Name="BodyDependencies">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[int]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Terminals]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Terminals].[Id]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Terminals].[Token]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[DB_TerminalProduct_Assigned].[@Token]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Products]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Products].[Name]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Products].[Id]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Products].[Id]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[TerminalByProducts]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Products]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Products].[Id]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[TerminalByProducts].[ProductId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[TerminalByProducts].[TerminalId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[TerminalByProducts]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Products].[Id]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[TerminalByProducts].[ProductId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Products].[Name]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[TerminalByProducts].[TerminalId]" />
				</Entry>
			</Relationship>
			<Relationship Name="Parameters">
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[DB_TerminalProduct_Assigned].[@Token]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[uniqueidentifier]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="Schema">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<Annotation Type="SysCommentsObjectAnnotation">
				<Property Name="Length" Value="846" />
				<Property Name="StartLine" Value="1" />
				<Property Name="StartColumn" Value="1" />
				<Property Name="HeaderContents" Value="Create PROCEDURE DB_TerminalProduct_Assigned&#xD;&#xA;&#x9;@Token uniqueidentifier&#xD;&#xA;--WITH ENCRYPTION&#xD;&#xA;AS" />
			</Annotation>
		</Element>
		<Element Type="SqlProcedure" Name="[dbo].[DB_Tolerance_Delete]">
			<Property Name="BodyScript">
				<Value><![CDATA[
Begin

	--------------------------------------------------------------------------------
	Declare  @sError Varchar(Max) ,@IsErrorTecnichal int
	Execute C_Parameter_Get @CodeParameter= 'ERROR_TECNICHAL', @Value= @IsErrorTecnichal OUTPUT
	--------------------------------------------------------------------------------
	-- Validating parameters
	--------------------------------------------------------------------------------
	--------------------------------------------------------------------------------
	-- Activate/Inactivate Record
	--------------------------------------------------------------------------------
	Begin Try
	Begin Transaction
			
			Delete From dbo.Tolerance 
			Where Token= @Token

			-- check for errors
			If @@rowcount= 0 
			Begin 
    			RaisError('SQLDELETE_FAILD',16,1)
			End 

	-- if we reach here, success!
	Commit Transaction
	End Try
	Begin Catch
			-- there was an error
			If XACT_STATE() =-1
			Begin
    				Rollback WORK
			End
			If @@trancount >0
			Begin
    				Rollback WORK
			End
			If XACT_STATE() = 1
			Begin
    				Commit WORK
			End
			--Getting the error description
			Set @sError  =   ERROR_MESSAGE()
			if @IsErrorTecnichal=1
			Begin
				Set @sError  =  ERROR_PROCEDURE() + 
					';  ' + convert(varchar,ERROR_LINE()) + 
					'; ' + ERROR_MESSAGE()
			End 
			--Getting the error description
			RaisError (@sError,16,1) 
			Return  
	End Catch
	--------------------------------------------------------------------------------
	-- Returning a Value
	--------------------------------------------------------------------------------
	Select  1
	-- - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -
End]]></Value>
			</Property>
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Relationship Name="BodyDependencies">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[varchar]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[int]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[C_Parameter_Get]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[C_Parameter_Get].[@CodeParameter]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[C_Parameter_Get].[@Value]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Tolerance]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Tolerance].[Token]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[DB_Tolerance_Delete].[@Token]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[varchar]" />
				</Entry>
			</Relationship>
			<Relationship Name="Parameters">
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[DB_Tolerance_Delete].[@Token]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[uniqueidentifier]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="Schema">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<Annotation Type="SysCommentsObjectAnnotation">
				<Property Name="Length" Value="1832" />
				<Property Name="StartLine" Value="1" />
				<Property Name="StartColumn" Value="1" />
				<Property Name="HeaderContents" Value="Create PROCEDURE DB_Tolerance_Delete&#xD;&#xA;&#x9;@Token uniqueidentifier&#xD;&#xA;--WITH ENCRYPTION&#xD;&#xA;AS" />
			</Annotation>
		</Element>
		<Element Type="SqlProcedure" Name="[dbo].[DB_Tolerance_Get]">
			<Property Name="BodyScript">
				<Value><![CDATA[
BEGIN
		------------------------------------------------------------------------------
		-- Declaring tables
		------------------------------------------------------------------------------
		SELECT * 
		FROM Tolerance
		Where Token= @Token
		-- - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -
END]]></Value>
			</Property>
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Relationship Name="BodyDependencies">
				<Entry>
					<References Name="[dbo].[Tolerance]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Tolerance].[Token]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[DB_Tolerance_Get].[@Token]" />
				</Entry>
			</Relationship>
			<Relationship Name="Parameters">
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[DB_Tolerance_Get].[@Token]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[uniqueidentifier]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="Schema">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<Annotation Type="SysCommentsObjectAnnotation">
				<Property Name="Length" Value="417" />
				<Property Name="StartLine" Value="1" />
				<Property Name="StartColumn" Value="1" />
				<Property Name="HeaderContents" Value="Create PROCEDURE DB_Tolerance_Get&#xD;&#xA;&#x9;@Token uniqueidentifier&#xD;&#xA;--WITH ENCRYPTION&#xD;&#xA;AS" />
			</Annotation>
		</Element>
		<Element Type="SqlProcedure" Name="[dbo].[DB_Tolerance_List]">
			<Property Name="BodyScript">
				<Value><![CDATA[

	/*------------------------------------------------------------------------------
		-- getting xml main list only range: records_[begin,end], setting record status.
		--------------------------------------------------------------------------------*/
		Select @TotalRecords=count(*) From Tolerance
		------------------------------------------------------------------------------
		-- getting user list
		------------------------------------------------------------------------------						   
		Select *
		From Tolerance
		Where (Tolerance.Name like '%'+ @Filter  +'%' or Isnull(@Filter,'')='') 
		ORDER BY CURRENT_TIMESTAMP OFFSET (@PageIndex-1)*@PageSize ROWS FETCH FIRST @PageSize ROWS ONLY
		/*-- - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -*/]]></Value>
			</Property>
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Relationship Name="BodyDependencies">
				<Entry>
					<References Name="[dbo].[Tolerance]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[DB_Tolerance_List].[@TotalRecords]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Tolerance].[Name]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[DB_Tolerance_List].[@Filter]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[DB_Tolerance_List].[@PageIndex]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[DB_Tolerance_List].[@PageSize]" />
				</Entry>
			</Relationship>
			<Relationship Name="Parameters">
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[DB_Tolerance_List].[@PageIndex]">
						<Property Name="DefaultExpressionScript">
							<Value><![CDATA[1]]></Value>
						</Property>
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[DB_Tolerance_List].[@PageSize]">
						<Property Name="DefaultExpressionScript">
							<Value><![CDATA[10]]></Value>
						</Property>
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[DB_Tolerance_List].[@TotalRecords]">
						<Property Name="IsOutput" Value="True" />
						<Property Name="DefaultExpressionScript">
							<Value><![CDATA[0]]></Value>
						</Property>
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[DB_Tolerance_List].[@Filter]">
						<Property Name="DefaultExpressionScript">
							<Value><![CDATA['']]></Value>
						</Property>
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Property Name="Length" Value="200" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[varchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="Schema">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<Annotation Type="SysCommentsObjectAnnotation">
				<Property Name="Length" Value="965" />
				<Property Name="StartLine" Value="1" />
				<Property Name="StartColumn" Value="1" />
				<Property Name="HeaderContents" Value="CREATE PROCEDURE [dbo].[DB_Tolerance_List]&#xD;&#xA;&#x9;@PageIndex [int] = 1,&#xD;&#xA;&#x9;@PageSize [int] = 10,&#xD;&#xA;&#x9;@TotalRecords [int] = 0 OUTPUT,&#xD;&#xA;&#x9;@Filter varchar(200) =''&#xD;&#xA;--WITH ENCRYPTION&#xD;&#xA;AS" />
			</Annotation>
		</Element>
		<Element Type="SqlProcedure" Name="[dbo].[DB_Tolerance_Save]">
			<Property Name="BodyScript">
				<Value><![CDATA[
Begin
	--------------------------------------------------------------------------------
	-- IMPORTANT: Set this option ON: if do you wants stop and rollback transaction.
	--------------------------------------------------------------------------------
	SET XACT_ABORT ON
	--------------------------------------------------------------------------------
	-- Declaration of Variables
	--------------------------------------------------------------------------------
	Declare  @sError Varchar(Max) ,@IsErrorTecnichal int
	Execute C_Parameter_Get @CodeParameter= 'ERROR_TECNICHAL', @Value= @IsErrorTecnichal OUTPUT
	-- - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -
	Begin Try
	IF Exists(Select Top 1 * From dbo.Tolerance Where Token<>@Token and Name=@Name)
	Begin
		RaisError('The duplicate key value is %s.',16,1,@Name)  
		return
	End
	--------------------------------------------------------------------------------
	-- Insert or Update Record
	--------------------------------------------------------------------------------
	Begin Transaction
	IF Not Exists(Select Top 1 * From dbo.Tolerance Where Token=@Token)
	Begin
		INSERT INTO [dbo].[Tolerance]
				   ([Token]
				   ,[Name]
				   ,[Value]
				   ,[Creation]
				   ,[Updated]
				   ,[IsActive]
				   ,[UpdatedId])
			 VALUES
				   (NewId()
				   ,@Name
				   ,@Value
				   ,getdate()
				   ,getdate()
				   ,@IsActive
				   ,@UpdatedId)
	End
	Else
	Begin
		UPDATE [dbo].[Tolerance]
		   SET [Token] = @Token
			  ,[Name] = @Name
			  ,[Value] = @Value
			  ,[Updated] = getdate()
			  ,[IsActive] = @IsActive
			  ,[UpdatedId] = @UpdatedId
		Where Token =  @Token
		If @@rowcount= 0
		Begin
			RaisError('SQLUPDATE_FAILD',16,1)  
		End
	End
	Commit Transaction
	End Try
	Begin Catch
		-- there was an error
		If XACT_STATE() =-1
		Begin
			Rollback WORK
		End
		If @@trancount >0
		Begin
			Rollback WORK
		End
		If XACT_STATE() = 1
		Begin
			Commit WORK
		End
		--Getting the error description
		Set @sError  =  ERROR_MESSAGE()
		if @IsErrorTecnichal=1
		Begin
			Set @sError  =  ERROR_PROCEDURE() + 
					';  ' + convert(varchar,ERROR_LINE()) + 
					'; ' + ERROR_MESSAGE()
		End 
		RaisError(@sError,16,1)  
		Return  
	End Catch
	--------------------------------------------------------------------------------
	-- Returning a Primary Key Value
	--------------------------------------------------------------------------------
	-- - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -
End]]></Value>
			</Property>
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Relationship Name="BodyDependencies">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[varchar]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[int]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[C_Parameter_Get]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[C_Parameter_Get].[@CodeParameter]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[C_Parameter_Get].[@Value]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Tolerance]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Tolerance].[Token]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[DB_Tolerance_Save].[@Token]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Tolerance].[Name]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[DB_Tolerance_Save].[@Name]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Tolerance].[Token]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Tolerance].[Name]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Tolerance].[Value]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Tolerance].[Creation]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Tolerance].[Updated]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Tolerance].[IsActive]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Tolerance].[UpdatedId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[DB_Tolerance_Save].[@Value]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[DB_Tolerance_Save].[@IsActive]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[DB_Tolerance_Save].[@UpdatedId]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[varchar]" />
				</Entry>
			</Relationship>
			<Relationship Name="Parameters">
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[DB_Tolerance_Save].[@Token]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[uniqueidentifier]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[DB_Tolerance_Save].[@Name]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Property Name="Length" Value="25" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[varchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[DB_Tolerance_Save].[@Value]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[DB_Tolerance_Save].[@IsActive]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[bit]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[DB_Tolerance_Save].[@UpdatedId]">
						<Property Name="DefaultExpressionScript">
							<Value><![CDATA[Null]]></Value>
						</Property>
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="Schema">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<Annotation Type="SysCommentsObjectAnnotation">
				<Property Name="Length" Value="2778" />
				<Property Name="StartLine" Value="1" />
				<Property Name="StartColumn" Value="1" />
				<Property Name="HeaderContents" Value="CREATE PROCEDURE [dbo].[DB_Tolerance_Save]&#xD;&#xA;&#x9; @Token uniqueidentifier&#xD;&#xA;&#x9;,@Name varchar(25)&#xD;&#xA;&#x9;,@Value int&#xD;&#xA;&#x9;,@IsActive bit &#xD;&#xA;&#x9;,@UpdatedId [int] = Null&#xD;&#xA;--WITH ENCRYPTION&#xD;&#xA;AS" />
			</Annotation>
		</Element>
		<Element Type="SqlProcedure" Name="[dbo].[DB_Tolerance_StatusUpdate]">
			<Property Name="BodyScript">
				<Value><![CDATA[
BEGIN
		/*------------------------------------------------------------------------------
		-- getting xml main list only range: records_[begin,end], setting record status.
		------------------------------------------------------------------------------*/
		Declare @sError Varchar(Max) ,@IsErrorTecnichal int
		Execute C_Parameter_Get @CodeParameter= 'ERROR_TECNICHAL', @Value= @IsErrorTecnichal OUTPUT
		Begin Try
		Begin Transaction
			Update Tolerance 
			SET Updated=getdate(),
				IsActive=@IsActive
			where Token=@Token
		Commit Transaction
	------------------------------------------------------------------------------
	-- send back answer
	------------------------------------------------------------------------------
	-- - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -
	End Try
	Begin Catch
		-- there was an error
		If XACT_STATE() =-1
		Begin
    			Rollback WORK
		End
		If @@trancount >0
		Begin
    			Rollback WORK
		End
		If XACT_STATE() = 1
		Begin
    			Commit WORK
		End
		--Getting the error description
		Set @sError  =   ERROR_MESSAGE()
		if @IsErrorTecnichal=1
		Begin
			Set @sError  =  ERROR_PROCEDURE() + 
					';  ' + convert(varchar,ERROR_LINE()) + 
					'; ' + ERROR_MESSAGE()
		End 
		RaisError (@sError,16,1)   
		Return
	End Catch
END]]></Value>
			</Property>
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Relationship Name="BodyDependencies">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[varchar]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[int]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[C_Parameter_Get]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[C_Parameter_Get].[@CodeParameter]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[C_Parameter_Get].[@Value]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Tolerance]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Tolerance].[Updated]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Tolerance].[IsActive]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[DB_Tolerance_StatusUpdate].[@IsActive]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Tolerance].[Token]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[DB_Tolerance_StatusUpdate].[@Token]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[varchar]" />
				</Entry>
			</Relationship>
			<Relationship Name="Parameters">
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[DB_Tolerance_StatusUpdate].[@UpdatedId]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[DB_Tolerance_StatusUpdate].[@Token]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[uniqueidentifier]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[DB_Tolerance_StatusUpdate].[@IsActive]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="Schema">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<Annotation Type="SysCommentsObjectAnnotation">
				<Property Name="CreateOffset" Value="3" />
				<Property Name="Length" Value="1474" />
				<Property Name="StartLine" Value="1" />
				<Property Name="StartColumn" Value="1" />
				<Property Name="HeaderContents" Value=" &#xD;&#xA;Create PROCEDURE DB_Tolerance_StatusUpdate&#xD;&#xA;&#x9;@UpdatedId [int],&#xD;&#xA;&#x9;@Token uniqueidentifier,&#xD;&#xA;&#x9;@IsActive int&#xD;&#xA;--WITH ENCRYPTION&#xD;&#xA;AS" />
			</Annotation>
		</Element>
		<Element Type="SqlProcedure" Name="[dbo].[DB_Type_List]">
			<Property Name="BodyScript">
				<Value><![CDATA[

	/*------------------------------------------------------------------------------
		-- getting xml main list only range: records_[begin,end], setting record status.
		--------------------------------------------------------------------------------*/
		Select @TotalRecords=count(*) From Types
		------------------------------------------------------------------------------
		-- getting user list
		------------------------------------------------------------------------------						   
		Select *
		From Types
		ORDER BY CURRENT_TIMESTAMP OFFSET (@PageIndex-1)*@PageSize ROWS FETCH FIRST @PageSize ROWS ONLY
		/*-- - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -*/]]></Value>
			</Property>
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Relationship Name="BodyDependencies">
				<Entry>
					<References Name="[dbo].[Types]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[DB_Type_List].[@TotalRecords]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[DB_Type_List].[@PageIndex]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[DB_Type_List].[@PageSize]" />
				</Entry>
			</Relationship>
			<Relationship Name="Parameters">
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[DB_Type_List].[@PageIndex]">
						<Property Name="DefaultExpressionScript">
							<Value><![CDATA[1]]></Value>
						</Property>
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[DB_Type_List].[@PageSize]">
						<Property Name="DefaultExpressionScript">
							<Value><![CDATA[10]]></Value>
						</Property>
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[DB_Type_List].[@TotalRecords]">
						<Property Name="IsOutput" Value="True" />
						<Property Name="DefaultExpressionScript">
							<Value><![CDATA[0]]></Value>
						</Property>
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="Schema">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<Annotation Type="SysCommentsObjectAnnotation">
				<Property Name="Length" Value="848" />
				<Property Name="StartLine" Value="1" />
				<Property Name="StartColumn" Value="1" />
				<Property Name="HeaderContents" Value="CREATE PROCEDURE [dbo].[DB_Type_List]&#xD;&#xA;&#x9;@PageIndex [int] = 1,&#xD;&#xA;&#x9;@PageSize [int] = 10,&#xD;&#xA;&#x9;@TotalRecords [int] = 0 OUTPUT&#xD;&#xA;--WITH ENCRYPTION&#xD;&#xA;AS" />
			</Annotation>
		</Element>
		<Element Type="SqlProcedure" Name="[dbo].[DB_UpdateRequestForThisVessel]">
			<Property Name="BodyScript">
				<Value><![CDATA[
BEGIN
	-- SET NOCOUNT ON added to prevent extra result sets from
	-- interfering with SELECT statements.
	--------------------------------------------------------------------------------
	-- IMPORTANT: Set this option ON: if do you wants stop and rollback transaction.
	--------------------------------------------------------------------------------
	SET XACT_ABORT ON
	SET NOCOUNT ON;
	Declare @RequestToken uniqueidentifier, @ServiceLiquidationToken uniqueidentifier, @Id int,@Count int
	Declare @TokeRecalculate table(Id int, RequestToken uniqueidentifier, ServiceLiquidationToken uniqueidentifier)
	Declare @sError varchar(max) ,@IsErrorTecnichal int
	Execute C_Parameter_Get @CodeParameter= 'ERROR_TECNICHAL', @Value= @IsErrorTecnichal OUTPUT
	Begin Try
	if(@Run=0)
	Begin
		;With CTERecalculate as (
			Select RequestForServices.Token as RequestToken,ServiceLiquidations.Token as TokenServiceLiquidation,ROW_NUMBER() OVER(ORDER BY RequestForServices.Id ASC) AS Id
			From RequestForServices
					Inner join ServiceLiquidations On RequestForServices.Id=ServiceLiquidations.RequestForServiceId and ServiceLiquidations.Status='REQUEST'
					Inner Join Vessel On Vessel.Id=ServiceLiquidations.VesselId
			Where Vessel.Token=@Token
		)
		Insert into SchedulerRequestByVesselForRecalculate(IdAutomatic, RequestToken, ServiceLiquidationToken)
		Select Id, RequestToken, TokenServiceLiquidation 
		From CTERecalculate
		
	End
	Else
	Begin
		Begin Transaction
			Select @Count=Max(Id) 
			From @TokeRecalculate
			Set @Id=1

			While(@Count>@Id)
			Begin
				Select @RequestToken=RequestToken,
					   @ServiceLiquidationToken=ServiceLiquidationToken
				From @TokeRecalculate
				Where Id=@Id
				
				Exec [dbo].[DB_SearchVessel_Step2]  @token =@RequestToken ,@UpdatedId =@UpdatedId
				Exec DB_SearchVessel_Continue @RequestToken,@ServiceLiquidationToken,@UpdatedId

				Set @Id=@Id+1
			End
		Commit Transaction
	End
	------------------------------------------------------------------------------
	-- send back answer
	------------------------------------------------------------------------------
	-- - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -
	End Try
	Begin Catch
		-- there was an error
		If XACT_STATE() =-1
		Begin
    			Rollback WORK
		End
		If @@trancount >0
		Begin
    			Rollback WORK
		End
		If XACT_STATE() = 1
		Begin
    			Commit WORK
		End
		--Getting the error description
		Set @sError  =   ERROR_MESSAGE()
		if @IsErrorTecnichal=1
		Begin
			Set @sError   =  ERROR_PROCEDURE() + 
					';  ' + convert(varchar,ERROR_LINE()) + 
					'; ' + ERROR_MESSAGE()
		End 
		RaisError (@sError,16,1) 
		Return
	End Catch
END]]></Value>
			</Property>
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Relationship Name="BodyDependencies">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[uniqueidentifier]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[uniqueidentifier]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[int]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[int]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[varchar]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[int]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[C_Parameter_Get]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[C_Parameter_Get].[@CodeParameter]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[C_Parameter_Get].[@Value]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[DB_UpdateRequestForThisVessel].[@Run]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[RequestForServices]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[ServiceLiquidations]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[RequestForServices].[Id]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[ServiceLiquidations].[RequestForServiceId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[ServiceLiquidations].[Status]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Vessel]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Vessel].[Id]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[ServiceLiquidations].[VesselId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[RequestForServices].[Token]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[ServiceLiquidations].[Token]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[RequestForServices].[Id]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Vessel].[Token]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[DB_UpdateRequestForThisVessel].[@Token]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[SchedulerRequestByVesselForRecalculate]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[SchedulerRequestByVesselForRecalculate].[IdAutomatic]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[SchedulerRequestByVesselForRecalculate].[RequestToken]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[SchedulerRequestByVesselForRecalculate].[ServiceLiquidationToken]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[RequestForServices].[Token]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[ServiceLiquidations].[Token]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[DB_UpdateRequestForThisVessel].[@TokeRecalculate].[Id]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[DB_UpdateRequestForThisVessel].[@TokeRecalculate].[RequestToken]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[DB_UpdateRequestForThisVessel].[@TokeRecalculate].[ServiceLiquidationToken]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[DB_SearchVessel_Step2]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[DB_SearchVessel_Step2].[@token]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[DB_SearchVessel_Step2].[@UpdatedId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[DB_UpdateRequestForThisVessel].[@UpdatedId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[DB_SearchVessel_Continue]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[varchar]" />
				</Entry>
			</Relationship>
			<Relationship Name="DynamicObjects">
				<Entry>
					<Element Type="SqlDynamicColumnSource" Name="[dbo].[DB_UpdateRequestForThisVessel].[@TokeRecalculate]">
						<Relationship Name="Columns">
							<Entry>
								<Element Type="SqlSimpleColumn" Name="[dbo].[DB_UpdateRequestForThisVessel].[@TokeRecalculate].[Id]">
									<Relationship Name="TypeSpecifier">
										<Entry>
											<Element Type="SqlTypeSpecifier">
												<Relationship Name="Type">
													<Entry>
														<References ExternalSource="BuiltIns" Name="[int]" />
													</Entry>
												</Relationship>
											</Element>
										</Entry>
									</Relationship>
								</Element>
							</Entry>
							<Entry>
								<Element Type="SqlSimpleColumn" Name="[dbo].[DB_UpdateRequestForThisVessel].[@TokeRecalculate].[RequestToken]">
									<Relationship Name="TypeSpecifier">
										<Entry>
											<Element Type="SqlTypeSpecifier">
												<Relationship Name="Type">
													<Entry>
														<References ExternalSource="BuiltIns" Name="[uniqueidentifier]" />
													</Entry>
												</Relationship>
											</Element>
										</Entry>
									</Relationship>
								</Element>
							</Entry>
							<Entry>
								<Element Type="SqlSimpleColumn" Name="[dbo].[DB_UpdateRequestForThisVessel].[@TokeRecalculate].[ServiceLiquidationToken]">
									<Relationship Name="TypeSpecifier">
										<Entry>
											<Element Type="SqlTypeSpecifier">
												<Relationship Name="Type">
													<Entry>
														<References ExternalSource="BuiltIns" Name="[uniqueidentifier]" />
													</Entry>
												</Relationship>
											</Element>
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlDynamicColumnSource" Name="[dbo].[DB_UpdateRequestForThisVessel].[CTE1].[CTERecalculate]">
						<Relationship Name="Columns">
							<Entry>
								<Element Type="SqlComputedColumn" Name="[dbo].[DB_UpdateRequestForThisVessel].[CTE1].[CTERecalculate].[RequestToken]">
									<Relationship Name="ExpressionDependencies">
										<Entry>
											<References Name="[dbo].[RequestForServices].[Token]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
							<Entry>
								<Element Type="SqlComputedColumn" Name="[dbo].[DB_UpdateRequestForThisVessel].[CTE1].[CTERecalculate].[TokenServiceLiquidation]">
									<Relationship Name="ExpressionDependencies">
										<Entry>
											<References Name="[dbo].[ServiceLiquidations].[Token]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
							<Entry>
								<Element Type="SqlComputedColumn" Name="[dbo].[DB_UpdateRequestForThisVessel].[CTE1].[CTERecalculate].[Id]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="Parameters">
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[DB_UpdateRequestForThisVessel].[@Token]">
						<Property Name="DefaultExpressionScript">
							<Value><![CDATA[null]]></Value>
						</Property>
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[uniqueidentifier]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[DB_UpdateRequestForThisVessel].[@UpdatedId]">
						<Property Name="DefaultExpressionScript">
							<Value><![CDATA[0]]></Value>
						</Property>
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[DB_UpdateRequestForThisVessel].[@Run]">
						<Property Name="DefaultExpressionScript">
							<Value><![CDATA[0]]></Value>
						</Property>
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[bit]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="Schema">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<Annotation Type="SysCommentsObjectAnnotation">
				<Property Name="Length" Value="2878" />
				<Property Name="StartLine" Value="1" />
				<Property Name="StartColumn" Value="1" />
				<Property Name="HeaderContents" Value="CREATE PROCEDURE [dbo].[DB_UpdateRequestForThisVessel]&#xD;&#xA;&#x9;  @Token uniqueidentifier=null&#xD;&#xA;     ,@UpdatedId int=0&#xD;&#xA;&#x9; ,@Run bit=0&#xD;&#xA;AS" />
			</Annotation>
		</Element>
		<Element Type="SqlProcedure" Name="[dbo].[DB_UpdateVariableLiquidation]">
			<Property Name="BodyScript">
				<Value><![CDATA[
BEGIN
	-- SET NOCOUNT ON added to prevent extra result sets from
	-- interfering with SELECT statements.
	--------------------------------------------------------------------------------
	-- IMPORTANT: Set this option ON: if do you wants stop and rollback transaction.
	--------------------------------------------------------------------------------
	SET XACT_ABORT ON
	SET NOCOUNT ON;
	Declare @sError varchar(max) ,@IsErrorTecnichal int
	Execute C_Parameter_Get @CodeParameter= 'ERROR_TECNICHAL', @Value= @IsErrorTecnichal OUTPUT
	Begin Try
	Begin Transaction
		 Update ItemsLiquidation
		 Set RateLoading=@RateLoading,
			 RateUnLoading=@RateLoading,
			 ValueLoadingCondition=@ValueLoadingCondition,
			 ValueUnLoadingCondition=@ValueUnLoadingCondition,
			 Quantity=@Quantity,
			 IfoLoadPort=@IfoLoadPort,
			 MgoLoadPort=@MgoLoadPort,
			 LoadingRate=@LoadingRate,
			 UnLoadingRate=@UnLoadingRate,
			 VesselSpeed=@VesselSpeed,
			 VesselIfoConsumed=@VesselIfoConsumed,
			 VesselMgoConsumed=@VesselMgoConsumed,
			 UpdatedId=@UpdatedId
		 From ItemsLiquidation
			Inner Join ServiceLiquidations On ServiceLiquidations.Id=ItemsLiquidation.ServiceLiquidationId
		 Where ServiceLiquidations.Token=@token
	Commit Transaction

	Execute DB_SearchVessel_Step2 @tokenServiceLiquidation=@token,@ReCalcule=1,@UpdatedId=@UpdatedId
	------------------------------------------------------------------------------
	-- send back answer
	------------------------------------------------------------------------------
	-- - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -
	End Try
	Begin Catch
		-- there was an error
		If XACT_STATE() =-1
		Begin
    			Rollback WORK
		End
		If @@trancount >0
		Begin
    			Rollback WORK
		End
		If XACT_STATE() = 1
		Begin
    			Commit WORK
		End
		--Getting the error description
		Set @sError  =   ERROR_MESSAGE()
		if @IsErrorTecnichal=1
		Begin
			Set @sError   =  ERROR_PROCEDURE() + 
					';  ' + convert(varchar,ERROR_LINE()) + 
					'; ' + ERROR_MESSAGE()
		End 
		RaisError (@sError,16,1) 
		Return
	End Catch
END]]></Value>
			</Property>
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Relationship Name="BodyDependencies">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[varchar]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[int]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[C_Parameter_Get]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[C_Parameter_Get].[@CodeParameter]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[C_Parameter_Get].[@Value]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[ItemsLiquidation]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[ServiceLiquidations]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[ServiceLiquidations].[Id]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[ItemsLiquidation].[ServiceLiquidationId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[ItemsLiquidation].[RateLoading]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[DB_UpdateVariableLiquidation].[@RateLoading]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[ItemsLiquidation].[RateUnLoading]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[ItemsLiquidation].[ValueLoadingCondition]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[DB_UpdateVariableLiquidation].[@ValueLoadingCondition]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[ItemsLiquidation].[ValueUnLoadingCondition]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[DB_UpdateVariableLiquidation].[@ValueUnLoadingCondition]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[ItemsLiquidation].[Quantity]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[DB_UpdateVariableLiquidation].[@Quantity]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[ItemsLiquidation].[IfoLoadPort]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[DB_UpdateVariableLiquidation].[@IfoLoadPort]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[ItemsLiquidation].[MgoLoadPort]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[DB_UpdateVariableLiquidation].[@MgoLoadPort]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[ItemsLiquidation].[LoadingRate]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[DB_UpdateVariableLiquidation].[@LoadingRate]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[ItemsLiquidation].[UnLoadingRate]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[DB_UpdateVariableLiquidation].[@UnLoadingRate]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[ItemsLiquidation].[VesselSpeed]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[DB_UpdateVariableLiquidation].[@VesselSpeed]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[ItemsLiquidation].[VesselIfoConsumed]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[DB_UpdateVariableLiquidation].[@VesselIfoConsumed]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[ItemsLiquidation].[VesselMgoConsumed]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[DB_UpdateVariableLiquidation].[@VesselMgoConsumed]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[ItemsLiquidation].[UpdatedId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[DB_UpdateVariableLiquidation].[@UpdatedId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[ServiceLiquidations].[Token]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[DB_UpdateVariableLiquidation].[@token]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[DB_SearchVessel_Step2]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[DB_SearchVessel_Step2].[@tokenServiceLiquidation]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[DB_SearchVessel_Step2].[@ReCalcule]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[DB_SearchVessel_Step2].[@UpdatedId]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[varchar]" />
				</Entry>
			</Relationship>
			<Relationship Name="Parameters">
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[DB_UpdateVariableLiquidation].[@token]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Property Name="IsMax" Value="True" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[varchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[DB_UpdateVariableLiquidation].[@RateLoading]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[money]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[DB_UpdateVariableLiquidation].[@RateUnLoading]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[money]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[DB_UpdateVariableLiquidation].[@ValueLoadingCondition]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Property Name="Precision" Value="53" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[float]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[DB_UpdateVariableLiquidation].[@ValueUnLoadingCondition]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Property Name="Precision" Value="53" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[float]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[DB_UpdateVariableLiquidation].[@Quantity]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Property Name="Precision" Value="53" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[float]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[DB_UpdateVariableLiquidation].[@IfoLoadPort]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[money]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[DB_UpdateVariableLiquidation].[@MgoLoadPort]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[money]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[DB_UpdateVariableLiquidation].[@LoadingRate]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[money]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[DB_UpdateVariableLiquidation].[@UnLoadingRate]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[money]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[DB_UpdateVariableLiquidation].[@VesselSpeed]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[money]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[DB_UpdateVariableLiquidation].[@VesselIfoConsumed]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[money]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[DB_UpdateVariableLiquidation].[@VesselMgoConsumed]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[money]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[DB_UpdateVariableLiquidation].[@UpdatedId]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="Schema">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<Annotation Type="SysCommentsObjectAnnotation">
				<Property Name="Length" Value="2594" />
				<Property Name="StartLine" Value="1" />
				<Property Name="StartColumn" Value="1" />
				<Property Name="HeaderContents" Value="CREATE PROCEDURE [dbo].[DB_UpdateVariableLiquidation]&#xD;&#xA;&#x9;-- Add the parameters for the stored procedure here&#xD;&#xA;&#x9; @token varchar(max)&#xD;&#xA;&#x9;,@RateLoading money&#xD;&#xA;&#x9;,@RateUnLoading money&#xD;&#xA;&#x9;,@ValueLoadingCondition float&#xD;&#xA;&#x9;,@ValueUnLoadingCondition float&#xD;&#xA;&#x9;,@Quantity float&#xD;&#xA;&#x9;,@IfoLoadPort money&#xD;&#xA;&#x9;,@MgoLoadPort money&#xD;&#xA;&#x9;,@LoadingRate money&#xD;&#xA;&#x9;,@UnLoadingRate money&#xD;&#xA;&#x9;,@VesselSpeed money&#xD;&#xA;&#x9;,@VesselIfoConsumed money&#xD;&#xA;&#x9;,@VesselMgoConsumed money&#xD;&#xA;&#x9;,@UpdatedId int&#xD;&#xA;AS" />
			</Annotation>
		</Element>
		<Element Type="SqlProcedure" Name="[dbo].[DB_VariableLiquidation_Get]">
			<Property Name="BodyScript">
				<Value><![CDATA[
BEGIN
	-- SET NOCOUNT ON added to prevent extra result sets from
	-- interfering with SELECT statements.
	--------------------------------------------------------------------------------
	-- IMPORTANT: Set this option ON: if do you wants stop and rollback transaction.
	--------------------------------------------------------------------------------
	SET XACT_ABORT ON
	SET NOCOUNT ON;
	Declare @sError varchar(max) ,@IsErrorTecnichal int
	Execute C_Parameter_Get @CodeParameter= 'ERROR_TECNICHAL', @Value= @IsErrorTecnichal OUTPUT
	Begin Try
	Begin Transaction
		Select Top 1 ItemsLiquidation.* From  ItemsLiquidation
				Inner Join ServiceLiquidations On ServiceLiquidations.Id=ItemsLiquidation.ServiceLiquidationId
		Where ServiceLiquidations.Token=@token
	Commit Transaction
	------------------------------------------------------------------------------
	-- send back answer
	------------------------------------------------------------------------------
	-- - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -
	End Try
	Begin Catch
		-- there was an error
		If XACT_STATE() =-1
		Begin
    			Rollback WORK
		End
		If @@trancount >0
		Begin
    			Rollback WORK
		End
		If XACT_STATE() = 1
		Begin
    			Commit WORK
		End
		--Getting the error description
		Set @sError  =   ERROR_MESSAGE()
		if @IsErrorTecnichal=1
		Begin
			Set @sError   =  ERROR_PROCEDURE() + 
					';  ' + convert(varchar,ERROR_LINE()) + 
					'; ' + ERROR_MESSAGE()
		End 
		RaisError (@sError,16,1) 
		Return
	End Catch
END]]></Value>
			</Property>
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Relationship Name="BodyDependencies">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[varchar]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[int]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[C_Parameter_Get]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[C_Parameter_Get].[@CodeParameter]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[C_Parameter_Get].[@Value]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[ItemsLiquidation]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[ServiceLiquidations]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[ServiceLiquidations].[Id]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[ItemsLiquidation].[ServiceLiquidationId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[ServiceLiquidations].[Token]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[DB_VariableLiquidation_Get].[@token]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[varchar]" />
				</Entry>
			</Relationship>
			<Relationship Name="Parameters">
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[DB_VariableLiquidation_Get].[@token]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Property Name="IsMax" Value="True" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[varchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="Schema">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<Annotation Type="SysCommentsObjectAnnotation">
				<Property Name="CreateOffset" Value="71" />
				<Property Name="Length" Value="1780" />
				<Property Name="StartLine" Value="1" />
				<Property Name="StartColumn" Value="1" />
				<Property Name="HeaderContents" Value="&#xD;&#xA;--DB_VariableLiquidation_Get 'DF9B73FD-DFD7-47F7-B08A-C08101D435DE'&#xD;&#xA;CREATE PROCEDURE [dbo].[DB_VariableLiquidation_Get]&#xD;&#xA;&#x9;-- Add the parameters for the stored procedure here&#xD;&#xA;&#x9; @token varchar(max)&#xD;&#xA;AS" />
			</Annotation>
		</Element>
		<Element Type="SqlProcedure" Name="[dbo].[DB_Vessel_Get]">
			<Property Name="BodyScript">
				<Value><![CDATA[
BEGIN
		
		------------------------------------------------------------------------------
		-- Declaring tables
		------------------------------------------------------------------------------
		;With CTEAvailableVessel as (
			Select NextOpeningOn,NextOpeningPort,CurrentPortId,VesselId,Ports.Name as PortName, Terminals.Name as TerminalName
			From dbo.AvailableOpenVessels 
				Inner Join Ports On Ports.Id=CurrentPortId
				Inner Join Terminals On Terminals.Id=CurrentTerminalId
			Where IsAvailable=1
		)
		SELECT *, Cities.City, AppUsers.Name as OwnerName,CTEAvailableVessel.NextOpeningOn,CTEAvailableVessel.NextOpeningPort,CTEAvailableVessel.PortName,
				Countries.Code as Country, Countries.CountryId
		FROM Vessel
			Inner Join Cities On Cities.CityId=Vessel.CityId
			Inner Join Countries On Cities.CountryId=Countries.CountryId
			Inner Join AppUsers On AppUsers.UserId=Vessel.Owner
			Left Join CTEAvailableVessel On CTEAvailableVessel.VesselId=Vessel.Id
		Where (Vessel.Token= @Token Or Vessel.Id=@Id)
		-- - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -
END]]></Value>
			</Property>
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Relationship Name="BodyDependencies">
				<Entry>
					<References Name="[dbo].[AvailableOpenVessels]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Ports]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Ports].[Id]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[AvailableOpenVessels].[CurrentPortId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Terminals]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Terminals].[Id]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[AvailableOpenVessels].[CurrentTerminalId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[AvailableOpenVessels].[NextOpeningOn]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[AvailableOpenVessels].[NextOpeningPort]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[AvailableOpenVessels].[CurrentPortId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[AvailableOpenVessels].[VesselId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Ports].[Name]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Terminals].[Name]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[AvailableOpenVessels].[IsAvailable]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Vessel]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Cities]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Cities].[CityId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Vessel].[CityId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Countries]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Cities].[CountryId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Countries].[CountryId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[AppUsers]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[AppUsers].[UserId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Vessel].[Owner]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[AvailableOpenVessels].[VesselId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Vessel].[Id]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Cities].[City]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[AppUsers].[Name]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[AvailableOpenVessels].[NextOpeningOn]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[AvailableOpenVessels].[NextOpeningPort]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Ports].[Name]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Countries].[Code]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Countries].[CountryId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Vessel].[Token]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[DB_Vessel_Get].[@Token]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[DB_Vessel_Get].[@Id]" />
				</Entry>
			</Relationship>
			<Relationship Name="DynamicObjects">
				<Entry>
					<Element Type="SqlDynamicColumnSource" Name="[dbo].[DB_Vessel_Get].[CTE1].[CTEAvailableVessel]">
						<Relationship Name="Columns">
							<Entry>
								<Element Type="SqlComputedColumn" Name="[dbo].[DB_Vessel_Get].[CTE1].[CTEAvailableVessel].[NextOpeningOn]">
									<Relationship Name="ExpressionDependencies">
										<Entry>
											<References Name="[dbo].[AvailableOpenVessels].[NextOpeningOn]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
							<Entry>
								<Element Type="SqlComputedColumn" Name="[dbo].[DB_Vessel_Get].[CTE1].[CTEAvailableVessel].[NextOpeningPort]">
									<Relationship Name="ExpressionDependencies">
										<Entry>
											<References Name="[dbo].[AvailableOpenVessels].[NextOpeningPort]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
							<Entry>
								<Element Type="SqlComputedColumn" Name="[dbo].[DB_Vessel_Get].[CTE1].[CTEAvailableVessel].[CurrentPortId]">
									<Relationship Name="ExpressionDependencies">
										<Entry>
											<References Name="[dbo].[AvailableOpenVessels].[CurrentPortId]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
							<Entry>
								<Element Type="SqlComputedColumn" Name="[dbo].[DB_Vessel_Get].[CTE1].[CTEAvailableVessel].[VesselId]">
									<Relationship Name="ExpressionDependencies">
										<Entry>
											<References Name="[dbo].[AvailableOpenVessels].[VesselId]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
							<Entry>
								<Element Type="SqlComputedColumn" Name="[dbo].[DB_Vessel_Get].[CTE1].[CTEAvailableVessel].[PortName]">
									<Relationship Name="ExpressionDependencies">
										<Entry>
											<References Name="[dbo].[Ports].[Name]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
							<Entry>
								<Element Type="SqlComputedColumn" Name="[dbo].[DB_Vessel_Get].[CTE1].[CTEAvailableVessel].[TerminalName]">
									<Relationship Name="ExpressionDependencies">
										<Entry>
											<References Name="[dbo].[Terminals].[Name]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="Parameters">
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[DB_Vessel_Get].[@Token]">
						<Property Name="DefaultExpressionScript">
							<Value><![CDATA[null]]></Value>
						</Property>
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[uniqueidentifier]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[DB_Vessel_Get].[@Id]">
						<Property Name="DefaultExpressionScript">
							<Value><![CDATA[0]]></Value>
						</Property>
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="Schema">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<Annotation Type="SysCommentsObjectAnnotation">
				<Property Name="CreateOffset" Value="26" />
				<Property Name="Length" Value="1254" />
				<Property Name="StartLine" Value="1" />
				<Property Name="StartColumn" Value="1" />
				<Property Name="HeaderContents" Value="-- DB_Vessel_Get null, 8&#xD;&#xA;CREATE PROCEDURE [dbo].[DB_Vessel_Get]&#xD;&#xA;&#x9;@Token uniqueidentifier=null,&#xD;&#xA;&#x9;@Id int=0&#xD;&#xA;--WITH ENCRYPTION&#xD;&#xA;AS" />
			</Annotation>
		</Element>
		<Element Type="SqlProcedure" Name="[dbo].[DB_Vessel_List]">
			<Property Name="BodyScript">
				<Value><![CDATA[

	/*------------------------------------------------------------------------------
		-- getting xml main list only range: records_[begin,end], setting record status.
		--------------------------------------------------------------------------------*/
	--	Declare  @NexOpeningOn Date,
	--@NexOpeningPort Date,
	--@CurrentPortId [int],
		Select @TotalRecords=count(*) From Vessel

		;With CTEAvailableVessel as (
			Select NextOpeningOn,NextOpeningPort,CurrentPortId,VesselId,Ports.Name as PortName, Terminals.Name as TerminalName
			From dbo.AvailableOpenVessels 
				Inner Join Ports On Ports.Id=CurrentPortId
				Inner Join Terminals On Terminals.Id=CurrentTerminalId
			Where IsAvailable=1
		), PivotCTE AS
		(
			Select *
			From (Select PropertyVessel.Name,PropertyValueVessel.Value, PropertyValueVessel.VesselId,
					NextOpeningOn,NextOpeningPort,CurrentPortId,CTEAvailableVessel.PortName,CTEAvailableVessel.TerminalName
					From PropertyVessel
					right Join PropertyValueVessel On PropertyValueVessel.PropertyVesselId=PropertyVessel.PropertyVesselId
					Left Join CTEAvailableVessel On CTEAvailableVessel.VesselId=PropertyValueVessel.VesselId) as Property

			Pivot(Max(Value) for Name in ([DWT], [GRT], [Cubitfeetcapacity], [Tankercapacity], [LOA], [Beam], [Draft], [Year]
											, [YesNo], [Quantity], [Capacity], [Vesselside], [Reach])) as PVT
		)
		------------------------------------------------------------------------------
		-- getting user list
		------------------------------------------------------------------------------						   
		Select *
		From Vessel
			 Left Join PivotCTE On PivotCTE.VesselId=Vessel.Id
		Where Owner=@Owner
		ORDER BY CURRENT_TIMESTAMP OFFSET (@PageIndex-1)*@PageSize ROWS FETCH FIRST @PageSize ROWS ONLY
		/*-- - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -*/]]></Value>
			</Property>
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Relationship Name="BodyDependencies">
				<Entry>
					<References Name="[dbo].[Vessel]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[DB_Vessel_List].[@TotalRecords]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[AvailableOpenVessels]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Ports]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Ports].[Id]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[AvailableOpenVessels].[CurrentPortId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Terminals]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Terminals].[Id]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[AvailableOpenVessels].[CurrentTerminalId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[AvailableOpenVessels].[NextOpeningOn]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[AvailableOpenVessels].[NextOpeningPort]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[AvailableOpenVessels].[CurrentPortId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[AvailableOpenVessels].[VesselId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Ports].[Name]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Terminals].[Name]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[AvailableOpenVessels].[IsAvailable]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[PropertyVessel]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[PropertyValueVessel]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[PropertyValueVessel].[PropertyVesselId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[PropertyVessel].[PropertyVesselId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[AvailableOpenVessels].[VesselId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[PropertyValueVessel].[VesselId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[PropertyVessel].[Name]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[PropertyValueVessel].[Value]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[AvailableOpenVessels].[NextOpeningOn]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[AvailableOpenVessels].[NextOpeningPort]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[AvailableOpenVessels].[CurrentPortId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Ports].[Name]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Terminals].[Name]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[PropertyValueVessel].[Value]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[PropertyVessel].[Name]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[DB_Vessel_List].[PV2].[PVT].[VesselId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Vessel].[Id]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Vessel].[Owner]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[DB_Vessel_List].[@Owner]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[DB_Vessel_List].[@PageIndex]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[DB_Vessel_List].[@PageSize]" />
				</Entry>
			</Relationship>
			<Relationship Name="DynamicObjects">
				<Entry>
					<Element Type="SqlDynamicColumnSource" Name="[dbo].[DB_Vessel_List].[CTE1].[CTEAvailableVessel]">
						<Relationship Name="Columns">
							<Entry>
								<Element Type="SqlComputedColumn" Name="[dbo].[DB_Vessel_List].[CTE1].[CTEAvailableVessel].[NextOpeningOn]">
									<Relationship Name="ExpressionDependencies">
										<Entry>
											<References Name="[dbo].[AvailableOpenVessels].[NextOpeningOn]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
							<Entry>
								<Element Type="SqlComputedColumn" Name="[dbo].[DB_Vessel_List].[CTE1].[CTEAvailableVessel].[NextOpeningPort]">
									<Relationship Name="ExpressionDependencies">
										<Entry>
											<References Name="[dbo].[AvailableOpenVessels].[NextOpeningPort]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
							<Entry>
								<Element Type="SqlComputedColumn" Name="[dbo].[DB_Vessel_List].[CTE1].[CTEAvailableVessel].[CurrentPortId]">
									<Relationship Name="ExpressionDependencies">
										<Entry>
											<References Name="[dbo].[AvailableOpenVessels].[CurrentPortId]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
							<Entry>
								<Element Type="SqlComputedColumn" Name="[dbo].[DB_Vessel_List].[CTE1].[CTEAvailableVessel].[VesselId]">
									<Relationship Name="ExpressionDependencies">
										<Entry>
											<References Name="[dbo].[AvailableOpenVessels].[VesselId]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
							<Entry>
								<Element Type="SqlComputedColumn" Name="[dbo].[DB_Vessel_List].[CTE1].[CTEAvailableVessel].[PortName]">
									<Relationship Name="ExpressionDependencies">
										<Entry>
											<References Name="[dbo].[Ports].[Name]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
							<Entry>
								<Element Type="SqlComputedColumn" Name="[dbo].[DB_Vessel_List].[CTE1].[CTEAvailableVessel].[TerminalName]">
									<Relationship Name="ExpressionDependencies">
										<Entry>
											<References Name="[dbo].[Terminals].[Name]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlDynamicColumnSource" Name="[dbo].[DB_Vessel_List].[PV2].[PVT]">
						<Relationship Name="Columns">
							<Entry>
								<Element Type="SqlComputedColumn" Name="[dbo].[DB_Vessel_List].[PV2].[PVT].[VesselId]">
									<Relationship Name="ExpressionDependencies">
										<Entry>
											<References Name="[dbo].[PropertyValueVessel].[VesselId]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
							<Entry>
								<Element Type="SqlComputedColumn" Name="[dbo].[DB_Vessel_List].[PV2].[PVT].[NextOpeningOn]">
									<Relationship Name="ExpressionDependencies">
										<Entry>
											<References Name="[dbo].[AvailableOpenVessels].[NextOpeningOn]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
							<Entry>
								<Element Type="SqlComputedColumn" Name="[dbo].[DB_Vessel_List].[PV2].[PVT].[NextOpeningPort]">
									<Relationship Name="ExpressionDependencies">
										<Entry>
											<References Name="[dbo].[AvailableOpenVessels].[NextOpeningPort]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
							<Entry>
								<Element Type="SqlComputedColumn" Name="[dbo].[DB_Vessel_List].[PV2].[PVT].[CurrentPortId]">
									<Relationship Name="ExpressionDependencies">
										<Entry>
											<References Name="[dbo].[AvailableOpenVessels].[CurrentPortId]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
							<Entry>
								<Element Type="SqlComputedColumn" Name="[dbo].[DB_Vessel_List].[PV2].[PVT].[PortName]">
									<Relationship Name="ExpressionDependencies">
										<Entry>
											<References Name="[dbo].[Ports].[Name]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
							<Entry>
								<Element Type="SqlComputedColumn" Name="[dbo].[DB_Vessel_List].[PV2].[PVT].[TerminalName]">
									<Relationship Name="ExpressionDependencies">
										<Entry>
											<References Name="[dbo].[Terminals].[Name]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
							<Entry>
								<Element Type="SqlComputedColumn" Name="[dbo].[DB_Vessel_List].[PV2].[PVT].[DWT]" />
							</Entry>
							<Entry>
								<Element Type="SqlComputedColumn" Name="[dbo].[DB_Vessel_List].[PV2].[PVT].[GRT]" />
							</Entry>
							<Entry>
								<Element Type="SqlComputedColumn" Name="[dbo].[DB_Vessel_List].[PV2].[PVT].[Cubitfeetcapacity]" />
							</Entry>
							<Entry>
								<Element Type="SqlComputedColumn" Name="[dbo].[DB_Vessel_List].[PV2].[PVT].[Tankercapacity]" />
							</Entry>
							<Entry>
								<Element Type="SqlComputedColumn" Name="[dbo].[DB_Vessel_List].[PV2].[PVT].[LOA]" />
							</Entry>
							<Entry>
								<Element Type="SqlComputedColumn" Name="[dbo].[DB_Vessel_List].[PV2].[PVT].[Beam]" />
							</Entry>
							<Entry>
								<Element Type="SqlComputedColumn" Name="[dbo].[DB_Vessel_List].[PV2].[PVT].[Draft]" />
							</Entry>
							<Entry>
								<Element Type="SqlComputedColumn" Name="[dbo].[DB_Vessel_List].[PV2].[PVT].[Year]" />
							</Entry>
							<Entry>
								<Element Type="SqlComputedColumn" Name="[dbo].[DB_Vessel_List].[PV2].[PVT].[YesNo]" />
							</Entry>
							<Entry>
								<Element Type="SqlComputedColumn" Name="[dbo].[DB_Vessel_List].[PV2].[PVT].[Quantity]" />
							</Entry>
							<Entry>
								<Element Type="SqlComputedColumn" Name="[dbo].[DB_Vessel_List].[PV2].[PVT].[Capacity]" />
							</Entry>
							<Entry>
								<Element Type="SqlComputedColumn" Name="[dbo].[DB_Vessel_List].[PV2].[PVT].[Vesselside]" />
							</Entry>
							<Entry>
								<Element Type="SqlComputedColumn" Name="[dbo].[DB_Vessel_List].[PV2].[PVT].[Reach]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlDynamicColumnSource" Name="[dbo].[DB_Vessel_List].[CTE1].[PivotCTE]">
						<Relationship Name="Columns">
							<Entry>
								<Element Type="SqlComputedColumn" Name="[dbo].[DB_Vessel_List].[CTE1].[PivotCTE].[VesselId]">
									<Relationship Name="ExpressionDependencies">
										<Entry>
											<References Name="[dbo].[DB_Vessel_List].[PV2].[PVT].[VesselId]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
							<Entry>
								<Element Type="SqlComputedColumn" Name="[dbo].[DB_Vessel_List].[CTE1].[PivotCTE].[NextOpeningOn]">
									<Relationship Name="ExpressionDependencies">
										<Entry>
											<References Name="[dbo].[DB_Vessel_List].[PV2].[PVT].[NextOpeningOn]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
							<Entry>
								<Element Type="SqlComputedColumn" Name="[dbo].[DB_Vessel_List].[CTE1].[PivotCTE].[NextOpeningPort]">
									<Relationship Name="ExpressionDependencies">
										<Entry>
											<References Name="[dbo].[DB_Vessel_List].[PV2].[PVT].[NextOpeningPort]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
							<Entry>
								<Element Type="SqlComputedColumn" Name="[dbo].[DB_Vessel_List].[CTE1].[PivotCTE].[CurrentPortId]">
									<Relationship Name="ExpressionDependencies">
										<Entry>
											<References Name="[dbo].[DB_Vessel_List].[PV2].[PVT].[CurrentPortId]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
							<Entry>
								<Element Type="SqlComputedColumn" Name="[dbo].[DB_Vessel_List].[CTE1].[PivotCTE].[PortName]">
									<Relationship Name="ExpressionDependencies">
										<Entry>
											<References Name="[dbo].[DB_Vessel_List].[PV2].[PVT].[PortName]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
							<Entry>
								<Element Type="SqlComputedColumn" Name="[dbo].[DB_Vessel_List].[CTE1].[PivotCTE].[TerminalName]">
									<Relationship Name="ExpressionDependencies">
										<Entry>
											<References Name="[dbo].[DB_Vessel_List].[PV2].[PVT].[TerminalName]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
							<Entry>
								<Element Type="SqlComputedColumn" Name="[dbo].[DB_Vessel_List].[CTE1].[PivotCTE].[DWT]">
									<Relationship Name="ExpressionDependencies">
										<Entry>
											<References Name="[dbo].[DB_Vessel_List].[PV2].[PVT].[DWT]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
							<Entry>
								<Element Type="SqlComputedColumn" Name="[dbo].[DB_Vessel_List].[CTE1].[PivotCTE].[GRT]">
									<Relationship Name="ExpressionDependencies">
										<Entry>
											<References Name="[dbo].[DB_Vessel_List].[PV2].[PVT].[GRT]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
							<Entry>
								<Element Type="SqlComputedColumn" Name="[dbo].[DB_Vessel_List].[CTE1].[PivotCTE].[Cubitfeetcapacity]">
									<Relationship Name="ExpressionDependencies">
										<Entry>
											<References Name="[dbo].[DB_Vessel_List].[PV2].[PVT].[Cubitfeetcapacity]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
							<Entry>
								<Element Type="SqlComputedColumn" Name="[dbo].[DB_Vessel_List].[CTE1].[PivotCTE].[Tankercapacity]">
									<Relationship Name="ExpressionDependencies">
										<Entry>
											<References Name="[dbo].[DB_Vessel_List].[PV2].[PVT].[Tankercapacity]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
							<Entry>
								<Element Type="SqlComputedColumn" Name="[dbo].[DB_Vessel_List].[CTE1].[PivotCTE].[LOA]">
									<Relationship Name="ExpressionDependencies">
										<Entry>
											<References Name="[dbo].[DB_Vessel_List].[PV2].[PVT].[LOA]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
							<Entry>
								<Element Type="SqlComputedColumn" Name="[dbo].[DB_Vessel_List].[CTE1].[PivotCTE].[Beam]">
									<Relationship Name="ExpressionDependencies">
										<Entry>
											<References Name="[dbo].[DB_Vessel_List].[PV2].[PVT].[Beam]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
							<Entry>
								<Element Type="SqlComputedColumn" Name="[dbo].[DB_Vessel_List].[CTE1].[PivotCTE].[Draft]">
									<Relationship Name="ExpressionDependencies">
										<Entry>
											<References Name="[dbo].[DB_Vessel_List].[PV2].[PVT].[Draft]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
							<Entry>
								<Element Type="SqlComputedColumn" Name="[dbo].[DB_Vessel_List].[CTE1].[PivotCTE].[Year]">
									<Relationship Name="ExpressionDependencies">
										<Entry>
											<References Name="[dbo].[DB_Vessel_List].[PV2].[PVT].[Year]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
							<Entry>
								<Element Type="SqlComputedColumn" Name="[dbo].[DB_Vessel_List].[CTE1].[PivotCTE].[YesNo]">
									<Relationship Name="ExpressionDependencies">
										<Entry>
											<References Name="[dbo].[DB_Vessel_List].[PV2].[PVT].[YesNo]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
							<Entry>
								<Element Type="SqlComputedColumn" Name="[dbo].[DB_Vessel_List].[CTE1].[PivotCTE].[Quantity]">
									<Relationship Name="ExpressionDependencies">
										<Entry>
											<References Name="[dbo].[DB_Vessel_List].[PV2].[PVT].[Quantity]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
							<Entry>
								<Element Type="SqlComputedColumn" Name="[dbo].[DB_Vessel_List].[CTE1].[PivotCTE].[Capacity]">
									<Relationship Name="ExpressionDependencies">
										<Entry>
											<References Name="[dbo].[DB_Vessel_List].[PV2].[PVT].[Capacity]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
							<Entry>
								<Element Type="SqlComputedColumn" Name="[dbo].[DB_Vessel_List].[CTE1].[PivotCTE].[Vesselside]">
									<Relationship Name="ExpressionDependencies">
										<Entry>
											<References Name="[dbo].[DB_Vessel_List].[PV2].[PVT].[Vesselside]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
							<Entry>
								<Element Type="SqlComputedColumn" Name="[dbo].[DB_Vessel_List].[CTE1].[PivotCTE].[Reach]">
									<Relationship Name="ExpressionDependencies">
										<Entry>
											<References Name="[dbo].[DB_Vessel_List].[PV2].[PVT].[Reach]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="Parameters">
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[DB_Vessel_List].[@PageIndex]">
						<Property Name="DefaultExpressionScript">
							<Value><![CDATA[1]]></Value>
						</Property>
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[DB_Vessel_List].[@PageSize]">
						<Property Name="DefaultExpressionScript">
							<Value><![CDATA[10]]></Value>
						</Property>
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[DB_Vessel_List].[@TotalRecords]">
						<Property Name="IsOutput" Value="True" />
						<Property Name="DefaultExpressionScript">
							<Value><![CDATA[0]]></Value>
						</Property>
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[DB_Vessel_List].[@Owner]">
						<Property Name="DefaultExpressionScript">
							<Value><![CDATA[52]]></Value>
						</Property>
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="Schema">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<Annotation Type="SysCommentsObjectAnnotation">
				<Property Name="Length" Value="2039" />
				<Property Name="StartLine" Value="1" />
				<Property Name="StartColumn" Value="1" />
				<Property Name="HeaderContents" Value="CREATE PROCEDURE [dbo].[DB_Vessel_List]&#xD;&#xA;&#x9;@PageIndex [int] = 1,&#xD;&#xA;&#x9;@PageSize [int] = 10,&#xD;&#xA;&#x9;@TotalRecords [int] = 0 OUTPUT,&#xD;&#xA;&#x9;@Owner int=52&#xD;&#xA;--WITH ENCRYPTION&#xD;&#xA;AS" />
			</Annotation>
		</Element>
		<Element Type="SqlProcedure" Name="[dbo].[DB_Vessel_Save]">
			<Property Name="BodyScript">
				<Value><![CDATA[
Begin
	--------------------------------------------------------------------------------
	-- IMPORTANT: Set this option ON: if do you wants stop and rollback transaction.
	--------------------------------------------------------------------------------
	SET XACT_ABORT ON
	--------------------------------------------------------------------------------
	-- Declaration of Variables
	--------------------------------------------------------------------------------
	Declare  @sError Varchar(Max) ,@IsErrorTecnichal int
	Declare  @Id int
	Execute C_Parameter_Get @CodeParameter= 'ERROR_TECNICHAL', @Value= @IsErrorTecnichal OUTPUT
	-- - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -
	Begin Try
	IF Exists(Select Top 1 * From dbo.Vessel Where Token<>@Token and Name=@Name)
	Begin
		RaisError('The duplicate key value is %s.',16,1,@Name)  
		return
	End
	--------------------------------------------------------------------------------
	-- Insert or Update Record
	--------------------------------------------------------------------------------
	Begin Transaction
	IF Not Exists(Select Top 1 * From dbo.Vessel Where Token=@Token)
	Begin
		INSERT INTO [dbo].[Vessel]
				([Token]
				,[Name]
				,[Description]
				,[Phone]
				,[Email]
				,[Contact]
				,[CityId]
				,[Speed]
				,[TypeId]
				,[Capacity]
				,[Demurrage]
				,[RateLoading]
				,[RateUnloading]
				,[IfoConsumed]
				,[MgoConsumed]
				,[Creation]
				,[Updated]
				,[IsActive]
				,[Owner]
				,[UpdatedId])
			VALUES
				(NEWID() 
				,@Name 
				,@Description 
				,@Phone 
				,@Email 
				,@Contact 
				,@CityId  
				,@Speed  
				,@TypeId  
				,@Capacity  
				,@Demurrage  
				,@RateLoading  
				,@RateUnloading  
				,@IfoConsumed  
				,@MgoConsumed  
				,Getdate()
				,Getdate()
				,@IsActive  
				,@Owner  
				,@UpdatedId  )
		Set @Id= SCOPE_IDENTITY()
	End
	Else
	Begin
			UPDATE [dbo].[Vessel]
			SET [Name] = @Name
				,[Description] = @Description
				,[Phone] = @Phone
				,[Email] = @Email
				,[Contact] = @Contact
				,[CityId] = @CityId
				,[Speed] = @Speed
				,[TypeId] = @TypeId
				,[Capacity] = @Capacity
				,[Demurrage] = @Demurrage
				,[RateLoading] = @RateLoading
				,[RateUnloading] = @RateUnloading
				,[IfoConsumed] = @IfoConsumed
				,[MgoConsumed] = @MgoConsumed
				,[Updated] = Getdate()
				,[IsActive] = @IsActive 
				,[UpdatedId] = @UpdatedId
			Where Token =  @Token

			Select  @Id= Id
			From [dbo].[Vessel]
			Where Token =  @Token

			If @@rowcount= 0
			Begin
				RaisError('SQLUPDATE_FAILD',16,1)  
			End
	End

	Delete From ProductByVessels where VesselId=@Id
	INSERT INTO [dbo].[ProductByVessels]
				([Token]
				,[VesselId]
				,[ProductId]
				,[Creation]
				,[Updated]
				,[IsActive]
				,[UpdatedId])
	Select NewId(), @Id,item,Getdate(),Getdate(),1,@UpdatedId  
	From [dbo].[TableSplit](@Products,',')


	Declare @Count int,@id_record int,@item varchar(max),@PropertyVesselId int,@Value varchar(max)
	Delete From PropertyValueVessel where VesselId=@Id
	Select @Count=Count(1) From [dbo].[TableSplit](@Property,'?')
	Set @id_record=1
	While(@Count>=@id_record)
	Begin
		Select @item=item
		From [dbo].[TableSplit](@Property,'?')
		Where id_record=@id_record

		Select @PropertyVesselId=Convert(int,item) From [dbo].[TableSplit](@item,'|') Where id_record=1
		Select @Value=item  From [dbo].[TableSplit](@item,'|') Where id_record=2

		INSERT INTO [dbo].[PropertyValueVessel]
				   ([Token]
				   ,[VesselId]
				   ,[PropertyVesselId]
				   ,[Value]
				   ,[Creation]
				   ,[Updated]
				   ,[IsActive]
				   ,[UpdatedId])
		Select NewId(), @Id,@PropertyVesselId,@Value,getdate(),getdate(),1,@UpdatedId  

		Set @id_record=@id_record+1
	End

	Commit Transaction
	End Try
	Begin Catch
		-- there was an error
		If XACT_STATE() =-1
		Begin
			Rollback WORK
		End
		If @@trancount >0
		Begin
			Rollback WORK
		End
		If XACT_STATE() = 1
		Begin
			Commit WORK
		End
		--Getting the error description
		Set @sError  =  ERROR_MESSAGE()
		if @IsErrorTecnichal=1
		Begin
			Set @sError  =  ERROR_PROCEDURE() + 
					';  ' + convert(varchar,ERROR_LINE()) + 
					'; ' + ERROR_MESSAGE()
		End 
		RaisError(@sError,16,1)  
		Return  
	End Catch
	--------------------------------------------------------------------------------
	-- Returning a Primary Key Value
	--------------------------------------------------------------------------------
	-- - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -
End]]></Value>
			</Property>
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Relationship Name="BodyDependencies">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[varchar]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[int]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[int]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[int]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[int]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[varchar]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[int]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[varchar]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[C_Parameter_Get]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[C_Parameter_Get].[@CodeParameter]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[C_Parameter_Get].[@Value]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Vessel]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Vessel].[Token]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[DB_Vessel_Save].[@Token]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Vessel].[Name]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[DB_Vessel_Save].[@Name]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Vessel].[Token]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Vessel].[Name]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Vessel].[Description]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Vessel].[Phone]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Vessel].[Email]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Vessel].[Contact]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Vessel].[CityId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Vessel].[Speed]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Vessel].[TypeId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Vessel].[Capacity]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Vessel].[Demurrage]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Vessel].[RateLoading]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Vessel].[RateUnloading]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Vessel].[IfoConsumed]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Vessel].[MgoConsumed]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Vessel].[Creation]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Vessel].[Updated]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Vessel].[IsActive]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Vessel].[Owner]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Vessel].[UpdatedId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[DB_Vessel_Save].[@Description]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[DB_Vessel_Save].[@Phone]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[DB_Vessel_Save].[@Email]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[DB_Vessel_Save].[@Contact]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[DB_Vessel_Save].[@CityId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[DB_Vessel_Save].[@Speed]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[DB_Vessel_Save].[@TypeId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[DB_Vessel_Save].[@Capacity]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[DB_Vessel_Save].[@Demurrage]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[DB_Vessel_Save].[@RateLoading]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[DB_Vessel_Save].[@RateUnloading]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[DB_Vessel_Save].[@IfoConsumed]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[DB_Vessel_Save].[@MgoConsumed]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[DB_Vessel_Save].[@IsActive]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[DB_Vessel_Save].[@Owner]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[DB_Vessel_Save].[@UpdatedId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Vessel].[Id]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[ProductByVessels]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[ProductByVessels].[VesselId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[ProductByVessels].[Token]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[ProductByVessels].[ProductId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[ProductByVessels].[Creation]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[ProductByVessels].[Updated]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[ProductByVessels].[IsActive]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[ProductByVessels].[UpdatedId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[DB_Vessel_Save].[@Products]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[TableSplit]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[TableSplit].[item]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[PropertyValueVessel]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[PropertyValueVessel].[VesselId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[DB_Vessel_Save].[@Property]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[TableSplit].[id_record]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[int]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[PropertyValueVessel].[Token]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[PropertyValueVessel].[PropertyVesselId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[PropertyValueVessel].[Value]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[PropertyValueVessel].[Creation]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[PropertyValueVessel].[Updated]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[PropertyValueVessel].[IsActive]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[PropertyValueVessel].[UpdatedId]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[varchar]" />
				</Entry>
			</Relationship>
			<Relationship Name="Parameters">
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[DB_Vessel_Save].[@Token]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[uniqueidentifier]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[DB_Vessel_Save].[@Name]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Property Name="Length" Value="25" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[varchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[DB_Vessel_Save].[@Description]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Property Name="Length" Value="250" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[varchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[DB_Vessel_Save].[@Phone]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Property Name="Length" Value="25" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[varchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[DB_Vessel_Save].[@Email]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Property Name="Length" Value="80" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[varchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[DB_Vessel_Save].[@Contact]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Property Name="Length" Value="50" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[varchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[DB_Vessel_Save].[@CityId]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[DB_Vessel_Save].[@Speed]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Property Name="Precision" Value="53" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[float]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[DB_Vessel_Save].[@TypeId]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[DB_Vessel_Save].[@Capacity]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[DB_Vessel_Save].[@Demurrage]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[money]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[DB_Vessel_Save].[@RateLoading]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[money]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[DB_Vessel_Save].[@RateUnloading]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[money]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[DB_Vessel_Save].[@IfoConsumed]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[money]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[DB_Vessel_Save].[@MgoConsumed]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[money]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[DB_Vessel_Save].[@IsActive]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[bit]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[DB_Vessel_Save].[@Owner]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[DB_Vessel_Save].[@UpdatedId]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[DB_Vessel_Save].[@Products]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Property Name="IsMax" Value="True" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[varchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[DB_Vessel_Save].[@Property]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Property Name="IsMax" Value="True" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[varchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="Schema">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<Annotation Type="SysCommentsObjectAnnotation">
				<Property Name="Length" Value="5149" />
				<Property Name="StartLine" Value="1" />
				<Property Name="StartColumn" Value="1" />
				<Property Name="HeaderContents" Value="CREATE PROCEDURE [dbo].[DB_Vessel_Save]&#xD;&#xA;&#x9;&#x9; @Token uniqueidentifier&#xD;&#xA;&#x9;&#x9;,@Name varchar(25)&#xD;&#xA;&#x9;&#x9;,@Description varchar(250)&#xD;&#xA;&#x9;&#x9;,@Phone varchar(25)&#xD;&#xA;&#x9;&#x9;,@Email varchar(80)&#xD;&#xA;&#x9;&#x9;,@Contact varchar(50)&#xD;&#xA;&#x9;&#x9;,@CityId int&#xD;&#xA;&#x9;&#x9;,@Speed float&#xD;&#xA;&#x9;&#x9;,@TypeId int&#xD;&#xA;&#x9;&#x9;,@Capacity int&#xD;&#xA;&#x9;&#x9;,@Demurrage money&#xD;&#xA;&#x9;&#x9;,@RateLoading money&#xD;&#xA;&#x9;&#x9;,@RateUnloading money&#xD;&#xA;&#x9;&#x9;,@IfoConsumed money&#xD;&#xA;&#x9;&#x9;,@MgoConsumed money&#xD;&#xA;&#x9;&#x9;,@IsActive bit&#xD;&#xA;&#x9;&#x9;,@Owner int&#xD;&#xA;&#x9;&#x9;,@UpdatedId int&#xD;&#xA;&#x9;&#x9;,@Products varchar(max)&#xD;&#xA;&#x9;&#x9;,@Property  varchar(max)&#xD;&#xA;AS" />
			</Annotation>
		</Element>
		<Element Type="SqlProcedure" Name="[dbo].[DB_Vessel_StatusUpdate]">
			<Property Name="BodyScript">
				<Value><![CDATA[
BEGIN
		/*------------------------------------------------------------------------------
		-- getting xml main list only range: records_[begin,end], setting record status.
		------------------------------------------------------------------------------*/
		Declare @sError Varchar(Max) ,@IsErrorTecnichal int
		Execute C_Parameter_Get @CodeParameter= 'ERROR_TECNICHAL', @Value= @IsErrorTecnichal OUTPUT
		Begin Try
		Begin Transaction
			Update Vessel 
				SET Updated=getdate(),
					IsActive=@IsActive
			where Token=@Token
		Commit Transaction
	------------------------------------------------------------------------------
	-- send back answer
	------------------------------------------------------------------------------
	-- - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -
	End Try
	Begin Catch
		-- there was an error
		If XACT_STATE() =-1
		Begin
    			Rollback WORK
		End
		If @@trancount >0
		Begin
    			Rollback WORK
		End
		If XACT_STATE() = 1
		Begin
    			Commit WORK
		End
		--Getting the error description
		Set @sError  =   ERROR_MESSAGE()
		if @IsErrorTecnichal=1
		Begin
			Set @sError  =  ERROR_PROCEDURE() + 
					';  ' + convert(varchar,ERROR_LINE()) + 
					'; ' + ERROR_MESSAGE()
		End 
		RaisError (@sError,16,1)   
		Return
	End Catch
END]]></Value>
			</Property>
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Relationship Name="BodyDependencies">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[varchar]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[int]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[C_Parameter_Get]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[C_Parameter_Get].[@CodeParameter]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[C_Parameter_Get].[@Value]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Vessel]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Vessel].[Updated]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Vessel].[IsActive]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[DB_Vessel_StatusUpdate].[@IsActive]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Vessel].[Token]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[DB_Vessel_StatusUpdate].[@Token]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[varchar]" />
				</Entry>
			</Relationship>
			<Relationship Name="Parameters">
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[DB_Vessel_StatusUpdate].[@UpdatedId]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[DB_Vessel_StatusUpdate].[@Token]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[uniqueidentifier]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[DB_Vessel_StatusUpdate].[@IsActive]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="Schema">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<Annotation Type="SysCommentsObjectAnnotation">
				<Property Name="Length" Value="1475" />
				<Property Name="StartLine" Value="1" />
				<Property Name="StartColumn" Value="1" />
				<Property Name="HeaderContents" Value="Create PROCEDURE [dbo].[DB_Vessel_StatusUpdate]&#xD;&#xA;&#x9;@UpdatedId [int],&#xD;&#xA;&#x9;@Token uniqueidentifier,&#xD;&#xA;&#x9;@IsActive int&#xD;&#xA;--WITH ENCRYPTION&#xD;&#xA;AS" />
			</Annotation>
		</Element>
		<Element Type="SqlProcedure" Name="[dbo].[DB_VesselChange_Save]">
			<Property Name="BodyScript">
				<Value><![CDATA[
BEGIN
	-- SET NOCOUNT ON added to prevent extra result sets from
	-- interfering with SELECT statements.
	--------------------------------------------------------------------------------
	-- IMPORTANT: Set this option ON: if do you wants stop and rollback transaction.
	--------------------------------------------------------------------------------
	SET XACT_ABORT ON
	SET NOCOUNT ON;
	Declare @sError varchar(max) ,@IsErrorTecnichal int
	Execute C_Parameter_Get @CodeParameter= 'ERROR_TECNICHAL', @Value= @IsErrorTecnichal OUTPUT
	Begin Try
	Begin Transaction
		 Update Vessel
		 Set RateLoading=@DailyHire,
			 RateUnloading=@DailyHire,
			 UpdatedId=@UpdatedId,
			 Updated=getdate()
		Where Token=@token
	Commit Transaction

	Select RequestForServices.Owner, Vessel.Name,Vessel.RateLoading
	From RequestForServices 
		Inner Join ServiceLiquidations On ServiceLiquidations.RequestForServiceId=RequestForServices.Id
		Inner Join Vessel On Vessel.Id=ServiceLiquidations.VesselId
	Where ServiceLiquidations.Status='REQUEST'
	      and Vessel.Token=@token
	------------------------------------------------------------------------------
	-- send back answer
	------------------------------------------------------------------------------
	-- - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -
	End Try
	Begin Catch
		-- there was an error
		If XACT_STATE() =-1
		Begin
    			Rollback WORK
		End
		If @@trancount >0
		Begin
    			Rollback WORK
		End
		If XACT_STATE() = 1
		Begin
    			Commit WORK
		End
		--Getting the error description
		Set @sError  =   ERROR_MESSAGE()
		if @IsErrorTecnichal=1
		Begin
			Set @sError   =  ERROR_PROCEDURE() + 
					';  ' + convert(varchar,ERROR_LINE()) + 
					'; ' + ERROR_MESSAGE()
		End 
		RaisError (@sError,16,1) 
		Return
	End Catch
END]]></Value>
			</Property>
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Relationship Name="BodyDependencies">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[varchar]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[int]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[C_Parameter_Get]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[C_Parameter_Get].[@CodeParameter]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[C_Parameter_Get].[@Value]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Vessel]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Vessel].[RateLoading]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[DB_VesselChange_Save].[@DailyHire]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Vessel].[RateUnloading]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Vessel].[UpdatedId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[DB_VesselChange_Save].[@UpdatedId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Vessel].[Updated]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Vessel].[Token]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[DB_VesselChange_Save].[@token]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[RequestForServices]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[ServiceLiquidations]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[ServiceLiquidations].[RequestForServiceId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[RequestForServices].[Id]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Vessel].[Id]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[ServiceLiquidations].[VesselId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[RequestForServices].[Owner]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Vessel].[Name]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Vessel].[RateLoading]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[ServiceLiquidations].[Status]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Vessel].[Token]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[varchar]" />
				</Entry>
			</Relationship>
			<Relationship Name="Parameters">
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[DB_VesselChange_Save].[@token]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Property Name="IsMax" Value="True" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[varchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[DB_VesselChange_Save].[@DailyHire]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[money]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[DB_VesselChange_Save].[@UpdatedId]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="Schema">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<Annotation Type="SysCommentsObjectAnnotation">
				<Property Name="CreateOffset" Value="194" />
				<Property Name="Length" Value="2228" />
				<Property Name="StartLine" Value="1" />
				<Property Name="StartColumn" Value="1" />
				<Property Name="HeaderContents" Value="-- =============================================&#xD;&#xA;-- Author:&#x9;&#x9;&lt;Author,,Name&gt;&#xD;&#xA;-- Create date: &lt;Create Date,,&gt;&#xD;&#xA;-- Description:&#x9;&lt;Description,,&gt;&#xD;&#xA;-- =============================================&#xD;&#xA;CREATE PROCEDURE [dbo].[DB_VesselChange_Save]&#xD;&#xA;&#x9;-- Add the parameters for the stored procedure here&#xD;&#xA;&#x9;  @token varchar(max)&#xD;&#xA;&#x9; ,@DailyHire money&#xD;&#xA;     ,@UpdatedId int&#xD;&#xA;AS" />
			</Annotation>
		</Element>
		<Element Type="SqlProcedure" Name="[dbo].[DB_VesselProduct_Assigned]">
			<Property Name="BodyScript">
				<Value><![CDATA[
BEGIN
		------------------------------------------------------------------------------
		-- Declaring tables
		------------------------------------------------------------------------------
		Declare @Id int

		Select @Id=Id
		From Vessel
		Where Token=@Token

		Select Products.Name ,Products.Id
		from Products 
		Where Id Not in (Select Products.Id
						from ProductByVessels 
							Inner Join  Products On Products.Id=ProductByVessels.ProductId
						Where VesselId=@Id)

		Select Products.Name ,Products.Id
		from ProductByVessels 
			Inner Join  Products On Products.Id=ProductByVessels.ProductId
		Where VesselId=@Id

		-- - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -
END]]></Value>
			</Property>
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Relationship Name="BodyDependencies">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[int]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Vessel]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Vessel].[Id]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Vessel].[Token]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[DB_VesselProduct_Assigned].[@Token]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Products]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Products].[Name]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Products].[Id]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Products].[Id]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[ProductByVessels]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Products]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Products].[Id]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[ProductByVessels].[ProductId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[ProductByVessels].[VesselId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[ProductByVessels]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Products].[Id]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[ProductByVessels].[ProductId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Products].[Name]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[ProductByVessels].[VesselId]" />
				</Entry>
			</Relationship>
			<Relationship Name="Parameters">
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[DB_VesselProduct_Assigned].[@Token]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[uniqueidentifier]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="Schema">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<Annotation Type="SysCommentsObjectAnnotation">
				<Property Name="CreateOffset" Value="69" />
				<Property Name="Length" Value="904" />
				<Property Name="StartLine" Value="1" />
				<Property Name="StartColumn" Value="1" />
				<Property Name="HeaderContents" Value="-- DB_VesselProduct_Assigned '13eca2a8-a615-4d02-8cba-efe11e91e39a'&#xD;&#xA;CREATE PROCEDURE [dbo].[DB_VesselProduct_Assigned]&#xD;&#xA;&#x9;@Token uniqueidentifier&#xD;&#xA;--WITH ENCRYPTION&#xD;&#xA;AS" />
			</Annotation>
		</Element>
		<Element Type="SqlTable" Name="[dbo].[DetailNegotiationsOfRequests]">
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Relationship Name="Columns">
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[DetailNegotiationsOfRequests].[Id]">
						<Property Name="IsNullable" Value="False" />
						<Property Name="IsIdentity" Value="True" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[DetailNegotiationsOfRequests].[Token]">
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[uniqueidentifier]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
						<Annotation Type="SqlInlineConstraintAnnotation" Disambiguator="131" />
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[DetailNegotiationsOfRequests].[NegotiationsOfRequestId]">
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[DetailNegotiationsOfRequests].[Observation]">
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Property Name="IsMax" Value="True" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[varchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[DetailNegotiationsOfRequests].[IsModify]">
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[bit]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[DetailNegotiationsOfRequests].[IsActive]">
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[bit]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[DetailNegotiationsOfRequests].[Creation]">
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[datetime]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
						<Annotation Type="SqlInlineConstraintAnnotation" Disambiguator="132" />
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[DetailNegotiationsOfRequests].[Updated]">
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[datetime]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
						<Annotation Type="SqlInlineConstraintAnnotation" Disambiguator="133" />
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="Schema">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<Annotation Type="SqlInlineConstraintAnnotation" Disambiguator="134" />
		</Element>
		<Element Type="SqlDefaultConstraint" Name="[dbo].[DF__Condition__Creat__48CFD27E]">
			<Property Name="DefaultExpressionScript">
				<Value><![CDATA[(getdate())]]></Value>
			</Property>
			<Relationship Name="DefiningTable">
				<Entry>
					<References Name="[dbo].[Conditions]" />
				</Entry>
			</Relationship>
			<Relationship Name="ForColumn">
				<Entry>
					<References Name="[dbo].[Conditions].[Creation]" />
				</Entry>
			</Relationship>
			<AttachedAnnotation Disambiguator="115" />
		</Element>
		<Element Type="SqlDefaultConstraint" Name="[dbo].[DF__Condition__Descr__47DBAE45]">
			<Property Name="DefaultExpressionScript">
				<Value><![CDATA[(NULL)]]></Value>
			</Property>
			<Relationship Name="DefiningTable">
				<Entry>
					<References Name="[dbo].[Conditions]" />
				</Entry>
			</Relationship>
			<Relationship Name="ForColumn">
				<Entry>
					<References Name="[dbo].[Conditions].[Description]" />
				</Entry>
			</Relationship>
			<AttachedAnnotation Disambiguator="114" />
		</Element>
		<Element Type="SqlDefaultConstraint" Name="[dbo].[DF__Condition__IsAct__4AB81AF0]">
			<Property Name="DefaultExpressionScript">
				<Value><![CDATA[((1))]]></Value>
			</Property>
			<Relationship Name="DefiningTable">
				<Entry>
					<References Name="[dbo].[Conditions]" />
				</Entry>
			</Relationship>
			<Relationship Name="ForColumn">
				<Entry>
					<References Name="[dbo].[Conditions].[IsActive]" />
				</Entry>
			</Relationship>
			<AttachedAnnotation Disambiguator="117" />
		</Element>
		<Element Type="SqlDefaultConstraint" Name="[dbo].[DF__Condition__Updat__49C3F6B7]">
			<Property Name="DefaultExpressionScript">
				<Value><![CDATA[(NULL)]]></Value>
			</Property>
			<Relationship Name="DefiningTable">
				<Entry>
					<References Name="[dbo].[Conditions]" />
				</Entry>
			</Relationship>
			<Relationship Name="ForColumn">
				<Entry>
					<References Name="[dbo].[Conditions].[Updated]" />
				</Entry>
			</Relationship>
			<AttachedAnnotation Disambiguator="116" />
		</Element>
		<Element Type="SqlDefaultConstraint" Name="[dbo].[DF__Condition__Updat__4BAC3F29]">
			<Property Name="DefaultExpressionScript">
				<Value><![CDATA[(NULL)]]></Value>
			</Property>
			<Relationship Name="DefiningTable">
				<Entry>
					<References Name="[dbo].[Conditions]" />
				</Entry>
			</Relationship>
			<Relationship Name="ForColumn">
				<Entry>
					<References Name="[dbo].[Conditions].[UpdatedId]" />
				</Entry>
			</Relationship>
			<AttachedAnnotation Disambiguator="118" />
		</Element>
		<Element Type="SqlDefaultConstraint" Name="[dbo].[DF__Conditions__Id__45F365D3]">
			<Property Name="DefaultExpressionScript">
				<Value><![CDATA[(newid())]]></Value>
			</Property>
			<Relationship Name="DefiningTable">
				<Entry>
					<References Name="[dbo].[Conditions]" />
				</Entry>
			</Relationship>
			<Relationship Name="ForColumn">
				<Entry>
					<References Name="[dbo].[Conditions].[Token]" />
				</Entry>
			</Relationship>
			<AttachedAnnotation Disambiguator="112" />
		</Element>
		<Element Type="SqlDefaultConstraint" Name="[dbo].[DF__Conditions__Name__46E78A0C]">
			<Property Name="DefaultExpressionScript">
				<Value><![CDATA[(NULL)]]></Value>
			</Property>
			<Relationship Name="DefiningTable">
				<Entry>
					<References Name="[dbo].[Conditions]" />
				</Entry>
			</Relationship>
			<Relationship Name="ForColumn">
				<Entry>
					<References Name="[dbo].[Conditions].[Name]" />
				</Entry>
			</Relationship>
			<AttachedAnnotation Disambiguator="113" />
		</Element>
		<Element Type="SqlDefaultConstraint" Name="[dbo].[DF__Ports__Address__59063A47]">
			<Property Name="DefaultExpressionScript">
				<Value><![CDATA[(NULL)]]></Value>
			</Property>
			<Relationship Name="DefiningTable">
				<Entry>
					<References Name="[dbo].[Ports]" />
				</Entry>
			</Relationship>
			<Relationship Name="ForColumn">
				<Entry>
					<References Name="[dbo].[Ports].[Address]" />
				</Entry>
			</Relationship>
			<Annotation Type="SqlInlineConstraintAnnotation" Disambiguator="135" />
		</Element>
		<Element Type="SqlDefaultConstraint" Name="[dbo].[DF__Ports__City__5AEE82B9]">
			<Property Name="DefaultExpressionScript">
				<Value><![CDATA[(NULL)]]></Value>
			</Property>
			<Relationship Name="DefiningTable">
				<Entry>
					<References Name="[dbo].[Ports]" />
				</Entry>
			</Relationship>
			<Relationship Name="ForColumn">
				<Entry>
					<References Name="[dbo].[Ports].[City]" />
				</Entry>
			</Relationship>
			<Annotation Type="SqlInlineConstraintAnnotation" Disambiguator="136" />
		</Element>
		<Element Type="SqlDefaultConstraint" Name="[dbo].[DF__Ports__Creation__5BE2A6F2]">
			<Property Name="DefaultExpressionScript">
				<Value><![CDATA[(getdate())]]></Value>
			</Property>
			<Relationship Name="DefiningTable">
				<Entry>
					<References Name="[dbo].[Ports]" />
				</Entry>
			</Relationship>
			<Relationship Name="ForColumn">
				<Entry>
					<References Name="[dbo].[Ports].[Creation]" />
				</Entry>
			</Relationship>
			<Annotation Type="SqlInlineConstraintAnnotation" Disambiguator="137" />
		</Element>
		<Element Type="SqlDefaultConstraint" Name="[dbo].[DF__Ports__Id__571DF1D5]">
			<Property Name="DefaultExpressionScript">
				<Value><![CDATA[(newid())]]></Value>
			</Property>
			<Relationship Name="DefiningTable">
				<Entry>
					<References Name="[dbo].[Ports]" />
				</Entry>
			</Relationship>
			<Relationship Name="ForColumn">
				<Entry>
					<References Name="[dbo].[Ports].[Token]" />
				</Entry>
			</Relationship>
			<Annotation Type="SqlInlineConstraintAnnotation" Disambiguator="138" />
		</Element>
		<Element Type="SqlDefaultConstraint" Name="[dbo].[DF__Ports__IsActive__5DCAEF64]">
			<Property Name="DefaultExpressionScript">
				<Value><![CDATA[((1))]]></Value>
			</Property>
			<Relationship Name="DefiningTable">
				<Entry>
					<References Name="[dbo].[Ports]" />
				</Entry>
			</Relationship>
			<Relationship Name="ForColumn">
				<Entry>
					<References Name="[dbo].[Ports].[IsActive]" />
				</Entry>
			</Relationship>
			<Annotation Type="SqlInlineConstraintAnnotation" Disambiguator="139" />
		</Element>
		<Element Type="SqlDefaultConstraint" Name="[dbo].[DF__Ports__Name__5812160E]">
			<Property Name="DefaultExpressionScript">
				<Value><![CDATA[(NULL)]]></Value>
			</Property>
			<Relationship Name="DefiningTable">
				<Entry>
					<References Name="[dbo].[Ports]" />
				</Entry>
			</Relationship>
			<Relationship Name="ForColumn">
				<Entry>
					<References Name="[dbo].[Ports].[Name]" />
				</Entry>
			</Relationship>
			<Annotation Type="SqlInlineConstraintAnnotation" Disambiguator="140" />
		</Element>
		<Element Type="SqlDefaultConstraint" Name="[dbo].[DF__Ports__Phone__59FA5E80]">
			<Property Name="DefaultExpressionScript">
				<Value><![CDATA[(NULL)]]></Value>
			</Property>
			<Relationship Name="DefiningTable">
				<Entry>
					<References Name="[dbo].[Ports]" />
				</Entry>
			</Relationship>
			<Relationship Name="ForColumn">
				<Entry>
					<References Name="[dbo].[Ports].[Phone]" />
				</Entry>
			</Relationship>
			<Annotation Type="SqlInlineConstraintAnnotation" Disambiguator="141" />
		</Element>
		<Element Type="SqlDefaultConstraint" Name="[dbo].[DF__Ports__Updated__5CD6CB2B]">
			<Property Name="DefaultExpressionScript">
				<Value><![CDATA[(NULL)]]></Value>
			</Property>
			<Relationship Name="DefiningTable">
				<Entry>
					<References Name="[dbo].[Ports]" />
				</Entry>
			</Relationship>
			<Relationship Name="ForColumn">
				<Entry>
					<References Name="[dbo].[Ports].[Updated]" />
				</Entry>
			</Relationship>
			<Annotation Type="SqlInlineConstraintAnnotation" Disambiguator="142" />
		</Element>
		<Element Type="SqlDefaultConstraint" Name="[dbo].[DF__Ports__UpdatedId__5EBF139D]">
			<Property Name="DefaultExpressionScript">
				<Value><![CDATA[(NULL)]]></Value>
			</Property>
			<Relationship Name="DefiningTable">
				<Entry>
					<References Name="[dbo].[Ports]" />
				</Entry>
			</Relationship>
			<Relationship Name="ForColumn">
				<Entry>
					<References Name="[dbo].[Ports].[UpdatedId]" />
				</Entry>
			</Relationship>
			<Annotation Type="SqlInlineConstraintAnnotation" Disambiguator="143" />
		</Element>
		<Element Type="SqlDefaultConstraint" Name="[dbo].[DF__ProductTy__Creat__267ABA7A]">
			<Property Name="DefaultExpressionScript">
				<Value><![CDATA[(getdate())]]></Value>
			</Property>
			<Relationship Name="DefiningTable">
				<Entry>
					<References Name="[dbo].[Types]" />
				</Entry>
			</Relationship>
			<Relationship Name="ForColumn">
				<Entry>
					<References Name="[dbo].[Types].[Creation]" />
				</Entry>
			</Relationship>
			<Annotation Type="SqlInlineConstraintAnnotation" Disambiguator="144" />
		</Element>
		<Element Type="SqlDefaultConstraint" Name="[dbo].[DF__ProductTy__IsAct__286302EC]">
			<Property Name="DefaultExpressionScript">
				<Value><![CDATA[((1))]]></Value>
			</Property>
			<Relationship Name="DefiningTable">
				<Entry>
					<References Name="[dbo].[Types]" />
				</Entry>
			</Relationship>
			<Relationship Name="ForColumn">
				<Entry>
					<References Name="[dbo].[Types].[IsActive]" />
				</Entry>
			</Relationship>
			<Annotation Type="SqlInlineConstraintAnnotation" Disambiguator="145" />
		</Element>
		<Element Type="SqlDefaultConstraint" Name="[dbo].[DF__ProductTy__Updat__276EDEB3]">
			<Property Name="DefaultExpressionScript">
				<Value><![CDATA[(NULL)]]></Value>
			</Property>
			<Relationship Name="DefiningTable">
				<Entry>
					<References Name="[dbo].[Types]" />
				</Entry>
			</Relationship>
			<Relationship Name="ForColumn">
				<Entry>
					<References Name="[dbo].[Types].[Updated]" />
				</Entry>
			</Relationship>
			<Annotation Type="SqlInlineConstraintAnnotation" Disambiguator="146" />
		</Element>
		<Element Type="SqlDefaultConstraint" Name="[dbo].[DF__ProductTy__Updat__29572725]">
			<Property Name="DefaultExpressionScript">
				<Value><![CDATA[(NULL)]]></Value>
			</Property>
			<Relationship Name="DefiningTable">
				<Entry>
					<References Name="[dbo].[Types]" />
				</Entry>
			</Relationship>
			<Relationship Name="ForColumn">
				<Entry>
					<References Name="[dbo].[Types].[UpdatedId]" />
				</Entry>
			</Relationship>
			<Annotation Type="SqlInlineConstraintAnnotation" Disambiguator="147" />
		</Element>
		<Element Type="SqlDefaultConstraint" Name="[dbo].[DF__ProductTyp__Code__25869641]">
			<Property Name="DefaultExpressionScript">
				<Value><![CDATA[('NULL')]]></Value>
			</Property>
			<Relationship Name="DefiningTable">
				<Entry>
					<References Name="[dbo].[Types]" />
				</Entry>
			</Relationship>
			<Relationship Name="ForColumn">
				<Entry>
					<References Name="[dbo].[Types].[Code]" />
				</Entry>
			</Relationship>
			<Annotation Type="SqlInlineConstraintAnnotation" Disambiguator="148" />
		</Element>
		<Element Type="SqlDefaultConstraint" Name="[dbo].[DF__ProductTyp__Name__24927208]">
			<Property Name="DefaultExpressionScript">
				<Value><![CDATA[('NULL')]]></Value>
			</Property>
			<Relationship Name="DefiningTable">
				<Entry>
					<References Name="[dbo].[Types]" />
				</Entry>
			</Relationship>
			<Relationship Name="ForColumn">
				<Entry>
					<References Name="[dbo].[Types].[Name]" />
				</Entry>
			</Relationship>
			<Annotation Type="SqlInlineConstraintAnnotation" Disambiguator="149" />
		</Element>
		<Element Type="SqlDefaultConstraint" Name="[dbo].[DF__ProductTypes__Id__239E4DCF]">
			<Property Name="DefaultExpressionScript">
				<Value><![CDATA[(newid())]]></Value>
			</Property>
			<Relationship Name="DefiningTable">
				<Entry>
					<References Name="[dbo].[Types]" />
				</Entry>
			</Relationship>
			<Relationship Name="ForColumn">
				<Entry>
					<References Name="[dbo].[Types].[Token]" />
				</Entry>
			</Relationship>
			<Annotation Type="SqlInlineConstraintAnnotation" Disambiguator="150" />
		</Element>
		<Element Type="SqlDefaultConstraint" Name="[dbo].[DF__PropertyT__Creat__5165187F]">
			<Property Name="DefaultExpressionScript">
				<Value><![CDATA[(getdate())]]></Value>
			</Property>
			<Relationship Name="DefiningTable">
				<Entry>
					<References Name="[dbo].[PropertyTerminal]" />
				</Entry>
			</Relationship>
			<Relationship Name="ForColumn">
				<Entry>
					<References Name="[dbo].[PropertyTerminal].[Creation]" />
				</Entry>
			</Relationship>
			<Annotation Type="SqlInlineConstraintAnnotation" Disambiguator="151" />
		</Element>
		<Element Type="SqlDefaultConstraint" Name="[dbo].[DF__PropertyT__IsAct__534D60F1]">
			<Property Name="DefaultExpressionScript">
				<Value><![CDATA[((1))]]></Value>
			</Property>
			<Relationship Name="DefiningTable">
				<Entry>
					<References Name="[dbo].[PropertyTerminal]" />
				</Entry>
			</Relationship>
			<Relationship Name="ForColumn">
				<Entry>
					<References Name="[dbo].[PropertyTerminal].[IsActive]" />
				</Entry>
			</Relationship>
			<Annotation Type="SqlInlineConstraintAnnotation" Disambiguator="152" />
		</Element>
		<Element Type="SqlDefaultConstraint" Name="[dbo].[DF__PropertyT__Updat__52593CB8]">
			<Property Name="DefaultExpressionScript">
				<Value><![CDATA[(NULL)]]></Value>
			</Property>
			<Relationship Name="DefiningTable">
				<Entry>
					<References Name="[dbo].[PropertyTerminal]" />
				</Entry>
			</Relationship>
			<Relationship Name="ForColumn">
				<Entry>
					<References Name="[dbo].[PropertyTerminal].[Updated]" />
				</Entry>
			</Relationship>
			<Annotation Type="SqlInlineConstraintAnnotation" Disambiguator="153" />
		</Element>
		<Element Type="SqlDefaultConstraint" Name="[dbo].[DF__PropertyT__Updat__5441852A]">
			<Property Name="DefaultExpressionScript">
				<Value><![CDATA[(NULL)]]></Value>
			</Property>
			<Relationship Name="DefiningTable">
				<Entry>
					<References Name="[dbo].[PropertyTerminal]" />
				</Entry>
			</Relationship>
			<Relationship Name="ForColumn">
				<Entry>
					<References Name="[dbo].[PropertyTerminal].[UpdatedId]" />
				</Entry>
			</Relationship>
			<Annotation Type="SqlInlineConstraintAnnotation" Disambiguator="154" />
		</Element>
		<Element Type="SqlDefaultConstraint" Name="[dbo].[DF__PropertyTe__Code__5070F446]">
			<Property Name="DefaultExpressionScript">
				<Value><![CDATA[(NULL)]]></Value>
			</Property>
			<Relationship Name="DefiningTable">
				<Entry>
					<References Name="[dbo].[PropertyTerminal]" />
				</Entry>
			</Relationship>
			<Relationship Name="ForColumn">
				<Entry>
					<References Name="[dbo].[PropertyTerminal].[Code]" />
				</Entry>
			</Relationship>
			<Annotation Type="SqlInlineConstraintAnnotation" Disambiguator="155" />
		</Element>
		<Element Type="SqlDefaultConstraint" Name="[dbo].[DF__PropertyTe__Name__4F7CD00D]">
			<Property Name="DefaultExpressionScript">
				<Value><![CDATA[(NULL)]]></Value>
			</Property>
			<Relationship Name="DefiningTable">
				<Entry>
					<References Name="[dbo].[PropertyTerminal]" />
				</Entry>
			</Relationship>
			<Relationship Name="ForColumn">
				<Entry>
					<References Name="[dbo].[PropertyTerminal].[Name]" />
				</Entry>
			</Relationship>
			<Annotation Type="SqlInlineConstraintAnnotation" Disambiguator="156" />
		</Element>
		<Element Type="SqlDefaultConstraint" Name="[dbo].[DF__PropertyTerm__Id__4E88ABD4]">
			<Property Name="DefaultExpressionScript">
				<Value><![CDATA[(newid())]]></Value>
			</Property>
			<Relationship Name="DefiningTable">
				<Entry>
					<References Name="[dbo].[PropertyTerminal]" />
				</Entry>
			</Relationship>
			<Relationship Name="ForColumn">
				<Entry>
					<References Name="[dbo].[PropertyTerminal].[Token]" />
				</Entry>
			</Relationship>
			<Annotation Type="SqlInlineConstraintAnnotation" Disambiguator="157" />
		</Element>
		<Element Type="SqlDefaultConstraint" Name="[dbo].[DF__PropertyV__Creat__02FC7413]">
			<Property Name="DefaultExpressionScript">
				<Value><![CDATA[(getdate())]]></Value>
			</Property>
			<Relationship Name="DefiningTable">
				<Entry>
					<References Name="[dbo].[PropertyValueVessel]" />
				</Entry>
			</Relationship>
			<Relationship Name="ForColumn">
				<Entry>
					<References Name="[dbo].[PropertyValueVessel].[Creation]" />
				</Entry>
			</Relationship>
			<Annotation Type="SqlInlineConstraintAnnotation" Disambiguator="158" />
		</Element>
		<Element Type="SqlDefaultConstraint" Name="[dbo].[DF__PropertyV__Creat__0B91BA14]">
			<Property Name="DefaultExpressionScript">
				<Value><![CDATA[(getdate())]]></Value>
			</Property>
			<Relationship Name="DefiningTable">
				<Entry>
					<References Name="[dbo].[PropertyVessel]" />
				</Entry>
			</Relationship>
			<Relationship Name="ForColumn">
				<Entry>
					<References Name="[dbo].[PropertyVessel].[Creation]" />
				</Entry>
			</Relationship>
			<Annotation Type="SqlInlineConstraintAnnotation" Disambiguator="159" />
		</Element>
		<Element Type="SqlDefaultConstraint" Name="[dbo].[DF__PropertyV__Creat__6FE99F9F]">
			<Property Name="DefaultExpressionScript">
				<Value><![CDATA[(getdate())]]></Value>
			</Property>
			<Relationship Name="DefiningTable">
				<Entry>
					<References Name="[dbo].[PropertyValueTerminals]" />
				</Entry>
			</Relationship>
			<Relationship Name="ForColumn">
				<Entry>
					<References Name="[dbo].[PropertyValueTerminals].[Creation]" />
				</Entry>
			</Relationship>
			<Annotation Type="SqlInlineConstraintAnnotation" Disambiguator="160" />
		</Element>
		<Element Type="SqlDefaultConstraint" Name="[dbo].[DF__PropertyV__IsAct__04E4BC85]">
			<Property Name="DefaultExpressionScript">
				<Value><![CDATA[((1))]]></Value>
			</Property>
			<Relationship Name="DefiningTable">
				<Entry>
					<References Name="[dbo].[PropertyValueVessel]" />
				</Entry>
			</Relationship>
			<Relationship Name="ForColumn">
				<Entry>
					<References Name="[dbo].[PropertyValueVessel].[IsActive]" />
				</Entry>
			</Relationship>
			<Annotation Type="SqlInlineConstraintAnnotation" Disambiguator="161" />
		</Element>
		<Element Type="SqlDefaultConstraint" Name="[dbo].[DF__PropertyV__IsAct__0D7A0286]">
			<Property Name="DefaultExpressionScript">
				<Value><![CDATA[((1))]]></Value>
			</Property>
			<Relationship Name="DefiningTable">
				<Entry>
					<References Name="[dbo].[PropertyVessel]" />
				</Entry>
			</Relationship>
			<Relationship Name="ForColumn">
				<Entry>
					<References Name="[dbo].[PropertyVessel].[IsActive]" />
				</Entry>
			</Relationship>
			<Annotation Type="SqlInlineConstraintAnnotation" Disambiguator="162" />
		</Element>
		<Element Type="SqlDefaultConstraint" Name="[dbo].[DF__PropertyV__IsAct__71D1E811]">
			<Property Name="DefaultExpressionScript">
				<Value><![CDATA[((1))]]></Value>
			</Property>
			<Relationship Name="DefiningTable">
				<Entry>
					<References Name="[dbo].[PropertyValueTerminals]" />
				</Entry>
			</Relationship>
			<Relationship Name="ForColumn">
				<Entry>
					<References Name="[dbo].[PropertyValueTerminals].[IsActive]" />
				</Entry>
			</Relationship>
			<Annotation Type="SqlInlineConstraintAnnotation" Disambiguator="163" />
		</Element>
		<Element Type="SqlDefaultConstraint" Name="[dbo].[DF__PropertyV__Prope__01142BA1]">
			<Property Name="DefaultExpressionScript">
				<Value><![CDATA[(NULL)]]></Value>
			</Property>
			<Relationship Name="DefiningTable">
				<Entry>
					<References Name="[dbo].[PropertyValueVessel]" />
				</Entry>
			</Relationship>
			<Relationship Name="ForColumn">
				<Entry>
					<References Name="[dbo].[PropertyValueVessel].[PropertyVesselId]" />
				</Entry>
			</Relationship>
			<Annotation Type="SqlInlineConstraintAnnotation" Disambiguator="164" />
		</Element>
		<Element Type="SqlDefaultConstraint" Name="[dbo].[DF__PropertyV__Prope__6E01572D]">
			<Property Name="DefaultExpressionScript">
				<Value><![CDATA[(NULL)]]></Value>
			</Property>
			<Relationship Name="DefiningTable">
				<Entry>
					<References Name="[dbo].[PropertyValueTerminals]" />
				</Entry>
			</Relationship>
			<Relationship Name="ForColumn">
				<Entry>
					<References Name="[dbo].[PropertyValueTerminals].[PropertyTerminalId]" />
				</Entry>
			</Relationship>
			<Annotation Type="SqlInlineConstraintAnnotation" Disambiguator="165" />
		</Element>
		<Element Type="SqlDefaultConstraint" Name="[dbo].[DF__PropertyV__Termi__6D0D32F4]">
			<Property Name="DefaultExpressionScript">
				<Value><![CDATA[(NULL)]]></Value>
			</Property>
			<Relationship Name="DefiningTable">
				<Entry>
					<References Name="[dbo].[PropertyValueTerminals]" />
				</Entry>
			</Relationship>
			<Relationship Name="ForColumn">
				<Entry>
					<References Name="[dbo].[PropertyValueTerminals].[TerminalId]" />
				</Entry>
			</Relationship>
			<Annotation Type="SqlInlineConstraintAnnotation" Disambiguator="166" />
		</Element>
		<Element Type="SqlDefaultConstraint" Name="[dbo].[DF__PropertyV__Updat__03F0984C]">
			<Property Name="DefaultExpressionScript">
				<Value><![CDATA[(NULL)]]></Value>
			</Property>
			<Relationship Name="DefiningTable">
				<Entry>
					<References Name="[dbo].[PropertyValueVessel]" />
				</Entry>
			</Relationship>
			<Relationship Name="ForColumn">
				<Entry>
					<References Name="[dbo].[PropertyValueVessel].[Updated]" />
				</Entry>
			</Relationship>
			<Annotation Type="SqlInlineConstraintAnnotation" Disambiguator="167" />
		</Element>
		<Element Type="SqlDefaultConstraint" Name="[dbo].[DF__PropertyV__Updat__05D8E0BE]">
			<Property Name="DefaultExpressionScript">
				<Value><![CDATA[(NULL)]]></Value>
			</Property>
			<Relationship Name="DefiningTable">
				<Entry>
					<References Name="[dbo].[PropertyValueVessel]" />
				</Entry>
			</Relationship>
			<Relationship Name="ForColumn">
				<Entry>
					<References Name="[dbo].[PropertyValueVessel].[UpdatedId]" />
				</Entry>
			</Relationship>
			<Annotation Type="SqlInlineConstraintAnnotation" Disambiguator="168" />
		</Element>
		<Element Type="SqlDefaultConstraint" Name="[dbo].[DF__PropertyV__Updat__0C85DE4D]">
			<Property Name="DefaultExpressionScript">
				<Value><![CDATA[(NULL)]]></Value>
			</Property>
			<Relationship Name="DefiningTable">
				<Entry>
					<References Name="[dbo].[PropertyVessel]" />
				</Entry>
			</Relationship>
			<Relationship Name="ForColumn">
				<Entry>
					<References Name="[dbo].[PropertyVessel].[Updated]" />
				</Entry>
			</Relationship>
			<Annotation Type="SqlInlineConstraintAnnotation" Disambiguator="169" />
		</Element>
		<Element Type="SqlDefaultConstraint" Name="[dbo].[DF__PropertyV__Updat__0E6E26BF]">
			<Property Name="DefaultExpressionScript">
				<Value><![CDATA[(NULL)]]></Value>
			</Property>
			<Relationship Name="DefiningTable">
				<Entry>
					<References Name="[dbo].[PropertyVessel]" />
				</Entry>
			</Relationship>
			<Relationship Name="ForColumn">
				<Entry>
					<References Name="[dbo].[PropertyVessel].[UpdatedId]" />
				</Entry>
			</Relationship>
			<Annotation Type="SqlInlineConstraintAnnotation" Disambiguator="170" />
		</Element>
		<Element Type="SqlDefaultConstraint" Name="[dbo].[DF__PropertyV__Updat__70DDC3D8]">
			<Property Name="DefaultExpressionScript">
				<Value><![CDATA[(NULL)]]></Value>
			</Property>
			<Relationship Name="DefiningTable">
				<Entry>
					<References Name="[dbo].[PropertyValueTerminals]" />
				</Entry>
			</Relationship>
			<Relationship Name="ForColumn">
				<Entry>
					<References Name="[dbo].[PropertyValueTerminals].[Updated]" />
				</Entry>
			</Relationship>
			<Annotation Type="SqlInlineConstraintAnnotation" Disambiguator="171" />
		</Element>
		<Element Type="SqlDefaultConstraint" Name="[dbo].[DF__PropertyV__Updat__72C60C4A]">
			<Property Name="DefaultExpressionScript">
				<Value><![CDATA[(NULL)]]></Value>
			</Property>
			<Relationship Name="DefiningTable">
				<Entry>
					<References Name="[dbo].[PropertyValueTerminals]" />
				</Entry>
			</Relationship>
			<Relationship Name="ForColumn">
				<Entry>
					<References Name="[dbo].[PropertyValueTerminals].[UpdatedId]" />
				</Entry>
			</Relationship>
			<Annotation Type="SqlInlineConstraintAnnotation" Disambiguator="172" />
		</Element>
		<Element Type="SqlDefaultConstraint" Name="[dbo].[DF__PropertyV__Value__02084FDA]">
			<Property Name="DefaultExpressionScript">
				<Value><![CDATA[(NULL)]]></Value>
			</Property>
			<Relationship Name="DefiningTable">
				<Entry>
					<References Name="[dbo].[PropertyValueVessel]" />
				</Entry>
			</Relationship>
			<Relationship Name="ForColumn">
				<Entry>
					<References Name="[dbo].[PropertyValueVessel].[Value]" />
				</Entry>
			</Relationship>
			<Annotation Type="SqlInlineConstraintAnnotation" Disambiguator="173" />
		</Element>
		<Element Type="SqlDefaultConstraint" Name="[dbo].[DF__PropertyV__Value__6EF57B66]">
			<Property Name="DefaultExpressionScript">
				<Value><![CDATA[(NULL)]]></Value>
			</Property>
			<Relationship Name="DefiningTable">
				<Entry>
					<References Name="[dbo].[PropertyValueTerminals]" />
				</Entry>
			</Relationship>
			<Relationship Name="ForColumn">
				<Entry>
					<References Name="[dbo].[PropertyValueTerminals].[Value]" />
				</Entry>
			</Relationship>
			<Annotation Type="SqlInlineConstraintAnnotation" Disambiguator="174" />
		</Element>
		<Element Type="SqlDefaultConstraint" Name="[dbo].[DF__PropertyV__Vesse__00200768]">
			<Property Name="DefaultExpressionScript">
				<Value><![CDATA[(NULL)]]></Value>
			</Property>
			<Relationship Name="DefiningTable">
				<Entry>
					<References Name="[dbo].[PropertyValueVessel]" />
				</Entry>
			</Relationship>
			<Relationship Name="ForColumn">
				<Entry>
					<References Name="[dbo].[PropertyValueVessel].[VesselId]" />
				</Entry>
			</Relationship>
			<Annotation Type="SqlInlineConstraintAnnotation" Disambiguator="175" />
		</Element>
		<Element Type="SqlDefaultConstraint" Name="[dbo].[DF__PropertyValu__Id__6C190EBB]">
			<Property Name="DefaultExpressionScript">
				<Value><![CDATA[(newid())]]></Value>
			</Property>
			<Relationship Name="DefiningTable">
				<Entry>
					<References Name="[dbo].[PropertyValueTerminals]" />
				</Entry>
			</Relationship>
			<Relationship Name="ForColumn">
				<Entry>
					<References Name="[dbo].[PropertyValueTerminals].[Token]" />
				</Entry>
			</Relationship>
			<Annotation Type="SqlInlineConstraintAnnotation" Disambiguator="176" />
		</Element>
		<Element Type="SqlDefaultConstraint" Name="[dbo].[DF__PropertyValu__Id__7F2BE32F]">
			<Property Name="DefaultExpressionScript">
				<Value><![CDATA[(newid())]]></Value>
			</Property>
			<Relationship Name="DefiningTable">
				<Entry>
					<References Name="[dbo].[PropertyValueVessel]" />
				</Entry>
			</Relationship>
			<Relationship Name="ForColumn">
				<Entry>
					<References Name="[dbo].[PropertyValueVessel].[Token]" />
				</Entry>
			</Relationship>
			<Annotation Type="SqlInlineConstraintAnnotation" Disambiguator="177" />
		</Element>
		<Element Type="SqlDefaultConstraint" Name="[dbo].[DF__PropertyVe__Code__0A9D95DB]">
			<Property Name="DefaultExpressionScript">
				<Value><![CDATA[(NULL)]]></Value>
			</Property>
			<Relationship Name="DefiningTable">
				<Entry>
					<References Name="[dbo].[PropertyVessel]" />
				</Entry>
			</Relationship>
			<Relationship Name="ForColumn">
				<Entry>
					<References Name="[dbo].[PropertyVessel].[Code]" />
				</Entry>
			</Relationship>
			<Annotation Type="SqlInlineConstraintAnnotation" Disambiguator="178" />
		</Element>
		<Element Type="SqlDefaultConstraint" Name="[dbo].[DF__PropertyVe__Name__09A971A2]">
			<Property Name="DefaultExpressionScript">
				<Value><![CDATA[(NULL)]]></Value>
			</Property>
			<Relationship Name="DefiningTable">
				<Entry>
					<References Name="[dbo].[PropertyVessel]" />
				</Entry>
			</Relationship>
			<Relationship Name="ForColumn">
				<Entry>
					<References Name="[dbo].[PropertyVessel].[Name]" />
				</Entry>
			</Relationship>
			<Annotation Type="SqlInlineConstraintAnnotation" Disambiguator="179" />
		</Element>
		<Element Type="SqlDefaultConstraint" Name="[dbo].[DF__PropertyVess__Id__08B54D69]">
			<Property Name="DefaultExpressionScript">
				<Value><![CDATA[(newid())]]></Value>
			</Property>
			<Relationship Name="DefiningTable">
				<Entry>
					<References Name="[dbo].[PropertyVessel]" />
				</Entry>
			</Relationship>
			<Relationship Name="ForColumn">
				<Entry>
					<References Name="[dbo].[PropertyVessel].[Token]" />
				</Entry>
			</Relationship>
			<Annotation Type="SqlInlineConstraintAnnotation" Disambiguator="180" />
		</Element>
		<Element Type="SqlDefaultConstraint" Name="[dbo].[DF__QuantityM__Creat__37A5467C]">
			<Property Name="DefaultExpressionScript">
				<Value><![CDATA[(getdate())]]></Value>
			</Property>
			<Relationship Name="DefiningTable">
				<Entry>
					<References Name="[dbo].[QuantityMT]" />
				</Entry>
			</Relationship>
			<Relationship Name="ForColumn">
				<Entry>
					<References Name="[dbo].[QuantityMT].[Creation]" />
				</Entry>
			</Relationship>
			<Annotation Type="SqlInlineConstraintAnnotation" Disambiguator="181" />
		</Element>
		<Element Type="SqlDefaultConstraint" Name="[dbo].[DF__QuantityM__IsAct__398D8EEE]">
			<Property Name="DefaultExpressionScript">
				<Value><![CDATA[((1))]]></Value>
			</Property>
			<Relationship Name="DefiningTable">
				<Entry>
					<References Name="[dbo].[QuantityMT]" />
				</Entry>
			</Relationship>
			<Relationship Name="ForColumn">
				<Entry>
					<References Name="[dbo].[QuantityMT].[IsActive]" />
				</Entry>
			</Relationship>
			<Annotation Type="SqlInlineConstraintAnnotation" Disambiguator="182" />
		</Element>
		<Element Type="SqlDefaultConstraint" Name="[dbo].[DF__QuantityM__Updat__38996AB5]">
			<Property Name="DefaultExpressionScript">
				<Value><![CDATA[(NULL)]]></Value>
			</Property>
			<Relationship Name="DefiningTable">
				<Entry>
					<References Name="[dbo].[QuantityMT]" />
				</Entry>
			</Relationship>
			<Relationship Name="ForColumn">
				<Entry>
					<References Name="[dbo].[QuantityMT].[Updated]" />
				</Entry>
			</Relationship>
			<Annotation Type="SqlInlineConstraintAnnotation" Disambiguator="183" />
		</Element>
		<Element Type="SqlDefaultConstraint" Name="[dbo].[DF__QuantityM__Updat__3A81B327]">
			<Property Name="DefaultExpressionScript">
				<Value><![CDATA[(NULL)]]></Value>
			</Property>
			<Relationship Name="DefiningTable">
				<Entry>
					<References Name="[dbo].[QuantityMT]" />
				</Entry>
			</Relationship>
			<Relationship Name="ForColumn">
				<Entry>
					<References Name="[dbo].[QuantityMT].[UpdatedId]" />
				</Entry>
			</Relationship>
			<Annotation Type="SqlInlineConstraintAnnotation" Disambiguator="184" />
		</Element>
		<Element Type="SqlDefaultConstraint" Name="[dbo].[DF__QuantityM__Value__36B12243]">
			<Property Name="DefaultExpressionScript">
				<Value><![CDATA[(NULL)]]></Value>
			</Property>
			<Relationship Name="DefiningTable">
				<Entry>
					<References Name="[dbo].[QuantityMT]" />
				</Entry>
			</Relationship>
			<Relationship Name="ForColumn">
				<Entry>
					<References Name="[dbo].[QuantityMT].[Quantity]" />
				</Entry>
			</Relationship>
			<Annotation Type="SqlInlineConstraintAnnotation" Disambiguator="185" />
		</Element>
		<Element Type="SqlDefaultConstraint" Name="[dbo].[DF__QuantityMT__Id__34C8D9D1]">
			<Property Name="DefaultExpressionScript">
				<Value><![CDATA[(newid())]]></Value>
			</Property>
			<Relationship Name="DefiningTable">
				<Entry>
					<References Name="[dbo].[QuantityMT]" />
				</Entry>
			</Relationship>
			<Relationship Name="ForColumn">
				<Entry>
					<References Name="[dbo].[QuantityMT].[Token]" />
				</Entry>
			</Relationship>
			<Annotation Type="SqlInlineConstraintAnnotation" Disambiguator="186" />
		</Element>
		<Element Type="SqlDefaultConstraint" Name="[dbo].[DF__QuantityMT__Name__35BCFE0A]">
			<Property Name="DefaultExpressionScript">
				<Value><![CDATA[('NULL')]]></Value>
			</Property>
			<Relationship Name="DefiningTable">
				<Entry>
					<References Name="[dbo].[QuantityMT]" />
				</Entry>
			</Relationship>
			<Relationship Name="ForColumn">
				<Entry>
					<References Name="[dbo].[QuantityMT].[Name]" />
				</Entry>
			</Relationship>
			<Annotation Type="SqlInlineConstraintAnnotation" Disambiguator="187" />
		</Element>
		<Element Type="SqlDefaultConstraint" Name="[dbo].[DF__StowageFa__Creat__2F10007B]">
			<Property Name="DefaultExpressionScript">
				<Value><![CDATA[(getdate())]]></Value>
			</Property>
			<Relationship Name="DefiningTable">
				<Entry>
					<References Name="[dbo].[StowageFactors]" />
				</Entry>
			</Relationship>
			<Relationship Name="ForColumn">
				<Entry>
					<References Name="[dbo].[StowageFactors].[Creation]" />
				</Entry>
			</Relationship>
			<Annotation Type="SqlInlineConstraintAnnotation" Disambiguator="188" />
		</Element>
		<Element Type="SqlDefaultConstraint" Name="[dbo].[DF__StowageFa__IsAct__30F848ED]">
			<Property Name="DefaultExpressionScript">
				<Value><![CDATA[((1))]]></Value>
			</Property>
			<Relationship Name="DefiningTable">
				<Entry>
					<References Name="[dbo].[StowageFactors]" />
				</Entry>
			</Relationship>
			<Relationship Name="ForColumn">
				<Entry>
					<References Name="[dbo].[StowageFactors].[IsActive]" />
				</Entry>
			</Relationship>
			<Annotation Type="SqlInlineConstraintAnnotation" Disambiguator="189" />
		</Element>
		<Element Type="SqlDefaultConstraint" Name="[dbo].[DF__StowageFa__Updat__300424B4]">
			<Property Name="DefaultExpressionScript">
				<Value><![CDATA[(NULL)]]></Value>
			</Property>
			<Relationship Name="DefiningTable">
				<Entry>
					<References Name="[dbo].[StowageFactors]" />
				</Entry>
			</Relationship>
			<Relationship Name="ForColumn">
				<Entry>
					<References Name="[dbo].[StowageFactors].[Updated]" />
				</Entry>
			</Relationship>
			<Annotation Type="SqlInlineConstraintAnnotation" Disambiguator="190" />
		</Element>
		<Element Type="SqlDefaultConstraint" Name="[dbo].[DF__StowageFa__Updat__31EC6D26]">
			<Property Name="DefaultExpressionScript">
				<Value><![CDATA[(NULL)]]></Value>
			</Property>
			<Relationship Name="DefiningTable">
				<Entry>
					<References Name="[dbo].[StowageFactors]" />
				</Entry>
			</Relationship>
			<Relationship Name="ForColumn">
				<Entry>
					<References Name="[dbo].[StowageFactors].[UpdatedId]" />
				</Entry>
			</Relationship>
			<Annotation Type="SqlInlineConstraintAnnotation" Disambiguator="191" />
		</Element>
		<Element Type="SqlDefaultConstraint" Name="[dbo].[DF__StowageFa__Value__2E1BDC42]">
			<Property Name="DefaultExpressionScript">
				<Value><![CDATA[(NULL)]]></Value>
			</Property>
			<Relationship Name="DefiningTable">
				<Entry>
					<References Name="[dbo].[StowageFactors]" />
				</Entry>
			</Relationship>
			<Relationship Name="ForColumn">
				<Entry>
					<References Name="[dbo].[StowageFactors].[Value]" />
				</Entry>
			</Relationship>
			<Annotation Type="SqlInlineConstraintAnnotation" Disambiguator="192" />
		</Element>
		<Element Type="SqlDefaultConstraint" Name="[dbo].[DF__StowageFac__Name__2D27B809]">
			<Property Name="DefaultExpressionScript">
				<Value><![CDATA[('NULL')]]></Value>
			</Property>
			<Relationship Name="DefiningTable">
				<Entry>
					<References Name="[dbo].[StowageFactors]" />
				</Entry>
			</Relationship>
			<Relationship Name="ForColumn">
				<Entry>
					<References Name="[dbo].[StowageFactors].[Name]" />
				</Entry>
			</Relationship>
			<Annotation Type="SqlInlineConstraintAnnotation" Disambiguator="193" />
		</Element>
		<Element Type="SqlDefaultConstraint" Name="[dbo].[DF__StowageFacto__Id__2B3F6F97]">
			<Property Name="DefaultExpressionScript">
				<Value><![CDATA[(newid())]]></Value>
			</Property>
			<Relationship Name="DefiningTable">
				<Entry>
					<References Name="[dbo].[StowageFactors]" />
				</Entry>
			</Relationship>
			<Relationship Name="ForColumn">
				<Entry>
					<References Name="[dbo].[StowageFactors].[Token]" />
				</Entry>
			</Relationship>
			<Annotation Type="SqlInlineConstraintAnnotation" Disambiguator="194" />
		</Element>
		<Element Type="SqlDefaultConstraint" Name="[dbo].[DF__Terminals__Addre__6477ECF3]">
			<Property Name="DefaultExpressionScript">
				<Value><![CDATA[(NULL)]]></Value>
			</Property>
			<Relationship Name="DefiningTable">
				<Entry>
					<References Name="[dbo].[Terminals]" />
				</Entry>
			</Relationship>
			<Relationship Name="ForColumn">
				<Entry>
					<References Name="[dbo].[Terminals].[Address]" />
				</Entry>
			</Relationship>
			<Annotation Type="SqlInlineConstraintAnnotation" Disambiguator="195" />
		</Element>
		<Element Type="SqlDefaultConstraint" Name="[dbo].[DF__Terminals__Creat__66603565]">
			<Property Name="DefaultExpressionScript">
				<Value><![CDATA[(getdate())]]></Value>
			</Property>
			<Relationship Name="DefiningTable">
				<Entry>
					<References Name="[dbo].[Terminals]" />
				</Entry>
			</Relationship>
			<Relationship Name="ForColumn">
				<Entry>
					<References Name="[dbo].[Terminals].[Creation]" />
				</Entry>
			</Relationship>
			<Annotation Type="SqlInlineConstraintAnnotation" Disambiguator="196" />
		</Element>
		<Element Type="SqlDefaultConstraint" Name="[dbo].[DF__Terminals__Email__656C112C]">
			<Property Name="DefaultExpressionScript">
				<Value><![CDATA[(NULL)]]></Value>
			</Property>
			<Relationship Name="DefiningTable">
				<Entry>
					<References Name="[dbo].[Terminals]" />
				</Entry>
			</Relationship>
			<Relationship Name="ForColumn">
				<Entry>
					<References Name="[dbo].[Terminals].[Email]" />
				</Entry>
			</Relationship>
			<Annotation Type="SqlInlineConstraintAnnotation" Disambiguator="197" />
		</Element>
		<Element Type="SqlDefaultConstraint" Name="[dbo].[DF__Terminals__Id__619B8048]">
			<Property Name="DefaultExpressionScript">
				<Value><![CDATA[(newid())]]></Value>
			</Property>
			<Relationship Name="DefiningTable">
				<Entry>
					<References Name="[dbo].[Terminals]" />
				</Entry>
			</Relationship>
			<Relationship Name="ForColumn">
				<Entry>
					<References Name="[dbo].[Terminals].[Token]" />
				</Entry>
			</Relationship>
			<Annotation Type="SqlInlineConstraintAnnotation" Disambiguator="198" />
		</Element>
		<Element Type="SqlDefaultConstraint" Name="[dbo].[DF__Terminals__IsAct__68487DD7]">
			<Property Name="DefaultExpressionScript">
				<Value><![CDATA[((1))]]></Value>
			</Property>
			<Relationship Name="DefiningTable">
				<Entry>
					<References Name="[dbo].[Terminals]" />
				</Entry>
			</Relationship>
			<Relationship Name="ForColumn">
				<Entry>
					<References Name="[dbo].[Terminals].[IsActive]" />
				</Entry>
			</Relationship>
			<Annotation Type="SqlInlineConstraintAnnotation" Disambiguator="199" />
		</Element>
		<Element Type="SqlDefaultConstraint" Name="[dbo].[DF__Terminals__Name__6383C8BA]">
			<Property Name="DefaultExpressionScript">
				<Value><![CDATA[(NULL)]]></Value>
			</Property>
			<Relationship Name="DefiningTable">
				<Entry>
					<References Name="[dbo].[Terminals]" />
				</Entry>
			</Relationship>
			<Relationship Name="ForColumn">
				<Entry>
					<References Name="[dbo].[Terminals].[Name]" />
				</Entry>
			</Relationship>
			<Annotation Type="SqlInlineConstraintAnnotation" Disambiguator="200" />
		</Element>
		<Element Type="SqlDefaultConstraint" Name="[dbo].[DF__Terminals__PortI__628FA481]">
			<Property Name="DefaultExpressionScript">
				<Value><![CDATA[(NULL)]]></Value>
			</Property>
			<Relationship Name="DefiningTable">
				<Entry>
					<References Name="[dbo].[Terminals]" />
				</Entry>
			</Relationship>
			<Relationship Name="ForColumn">
				<Entry>
					<References Name="[dbo].[Terminals].[PortId]" />
				</Entry>
			</Relationship>
			<Annotation Type="SqlInlineConstraintAnnotation" Disambiguator="201" />
		</Element>
		<Element Type="SqlDefaultConstraint" Name="[dbo].[DF__Terminals__Updat__6754599E]">
			<Property Name="DefaultExpressionScript">
				<Value><![CDATA[(NULL)]]></Value>
			</Property>
			<Relationship Name="DefiningTable">
				<Entry>
					<References Name="[dbo].[Terminals]" />
				</Entry>
			</Relationship>
			<Relationship Name="ForColumn">
				<Entry>
					<References Name="[dbo].[Terminals].[Updated]" />
				</Entry>
			</Relationship>
			<Annotation Type="SqlInlineConstraintAnnotation" Disambiguator="202" />
		</Element>
		<Element Type="SqlDefaultConstraint" Name="[dbo].[DF__Terminals__Updat__693CA210]">
			<Property Name="DefaultExpressionScript">
				<Value><![CDATA[(NULL)]]></Value>
			</Property>
			<Relationship Name="DefiningTable">
				<Entry>
					<References Name="[dbo].[Terminals]" />
				</Entry>
			</Relationship>
			<Relationship Name="ForColumn">
				<Entry>
					<References Name="[dbo].[Terminals].[UpdatedId]" />
				</Entry>
			</Relationship>
			<Annotation Type="SqlInlineConstraintAnnotation" Disambiguator="203" />
		</Element>
		<Element Type="SqlDefaultConstraint" Name="[dbo].[DF__Tolerance__Creat__403A8C7D]">
			<Property Name="DefaultExpressionScript">
				<Value><![CDATA[(getdate())]]></Value>
			</Property>
			<Relationship Name="DefiningTable">
				<Entry>
					<References Name="[dbo].[Tolerance]" />
				</Entry>
			</Relationship>
			<Relationship Name="ForColumn">
				<Entry>
					<References Name="[dbo].[Tolerance].[Creation]" />
				</Entry>
			</Relationship>
			<Annotation Type="SqlInlineConstraintAnnotation" Disambiguator="204" />
		</Element>
		<Element Type="SqlDefaultConstraint" Name="[dbo].[DF__Tolerance__Id__3D5E1FD2]">
			<Property Name="DefaultExpressionScript">
				<Value><![CDATA[(newid())]]></Value>
			</Property>
			<Relationship Name="DefiningTable">
				<Entry>
					<References Name="[dbo].[Tolerance]" />
				</Entry>
			</Relationship>
			<Relationship Name="ForColumn">
				<Entry>
					<References Name="[dbo].[Tolerance].[Token]" />
				</Entry>
			</Relationship>
			<Annotation Type="SqlInlineConstraintAnnotation" Disambiguator="205" />
		</Element>
		<Element Type="SqlDefaultConstraint" Name="[dbo].[DF__Tolerance__IsAct__4222D4EF]">
			<Property Name="DefaultExpressionScript">
				<Value><![CDATA[((1))]]></Value>
			</Property>
			<Relationship Name="DefiningTable">
				<Entry>
					<References Name="[dbo].[Tolerance]" />
				</Entry>
			</Relationship>
			<Relationship Name="ForColumn">
				<Entry>
					<References Name="[dbo].[Tolerance].[IsActive]" />
				</Entry>
			</Relationship>
			<Annotation Type="SqlInlineConstraintAnnotation" Disambiguator="206" />
		</Element>
		<Element Type="SqlDefaultConstraint" Name="[dbo].[DF__Tolerance__Name__3E52440B]">
			<Property Name="DefaultExpressionScript">
				<Value><![CDATA[(NULL)]]></Value>
			</Property>
			<Relationship Name="DefiningTable">
				<Entry>
					<References Name="[dbo].[Tolerance]" />
				</Entry>
			</Relationship>
			<Relationship Name="ForColumn">
				<Entry>
					<References Name="[dbo].[Tolerance].[Name]" />
				</Entry>
			</Relationship>
			<Annotation Type="SqlInlineConstraintAnnotation" Disambiguator="207" />
		</Element>
		<Element Type="SqlDefaultConstraint" Name="[dbo].[DF__Tolerance__Updat__412EB0B6]">
			<Property Name="DefaultExpressionScript">
				<Value><![CDATA[(NULL)]]></Value>
			</Property>
			<Relationship Name="DefiningTable">
				<Entry>
					<References Name="[dbo].[Tolerance]" />
				</Entry>
			</Relationship>
			<Relationship Name="ForColumn">
				<Entry>
					<References Name="[dbo].[Tolerance].[Updated]" />
				</Entry>
			</Relationship>
			<Annotation Type="SqlInlineConstraintAnnotation" Disambiguator="208" />
		</Element>
		<Element Type="SqlDefaultConstraint" Name="[dbo].[DF__Tolerance__Updat__4316F928]">
			<Property Name="DefaultExpressionScript">
				<Value><![CDATA[(NULL)]]></Value>
			</Property>
			<Relationship Name="DefiningTable">
				<Entry>
					<References Name="[dbo].[Tolerance]" />
				</Entry>
			</Relationship>
			<Relationship Name="ForColumn">
				<Entry>
					<References Name="[dbo].[Tolerance].[UpdatedId]" />
				</Entry>
			</Relationship>
			<Annotation Type="SqlInlineConstraintAnnotation" Disambiguator="209" />
		</Element>
		<Element Type="SqlDefaultConstraint" Name="[dbo].[DF__Tolerance__Value__3F466844]">
			<Property Name="DefaultExpressionScript">
				<Value><![CDATA[(NULL)]]></Value>
			</Property>
			<Relationship Name="DefiningTable">
				<Entry>
					<References Name="[dbo].[Tolerance]" />
				</Entry>
			</Relationship>
			<Relationship Name="ForColumn">
				<Entry>
					<References Name="[dbo].[Tolerance].[Value]" />
				</Entry>
			</Relationship>
			<Annotation Type="SqlInlineConstraintAnnotation" Disambiguator="210" />
		</Element>
		<Element Type="SqlDefaultConstraint" Name="[dbo].[DF__Vessel__Creation__797309D9]">
			<Property Name="DefaultExpressionScript">
				<Value><![CDATA[(getdate())]]></Value>
			</Property>
			<Relationship Name="DefiningTable">
				<Entry>
					<References Name="[dbo].[Vessel]" />
				</Entry>
			</Relationship>
			<Relationship Name="ForColumn">
				<Entry>
					<References Name="[dbo].[Vessel].[Creation]" />
				</Entry>
			</Relationship>
			<Annotation Type="SqlInlineConstraintAnnotation" Disambiguator="211" />
		</Element>
		<Element Type="SqlDefaultConstraint" Name="[dbo].[DF__Vessel__Descript__778AC167]">
			<Property Name="DefaultExpressionScript">
				<Value><![CDATA[(NULL)]]></Value>
			</Property>
			<Relationship Name="DefiningTable">
				<Entry>
					<References Name="[dbo].[Vessel]" />
				</Entry>
			</Relationship>
			<Relationship Name="ForColumn">
				<Entry>
					<References Name="[dbo].[Vessel].[Description]" />
				</Entry>
			</Relationship>
			<Annotation Type="SqlInlineConstraintAnnotation" Disambiguator="212" />
		</Element>
		<Element Type="SqlDefaultConstraint" Name="[dbo].[DF__Vessel__Id__75A278F5]">
			<Property Name="DefaultExpressionScript">
				<Value><![CDATA[(newid())]]></Value>
			</Property>
			<Relationship Name="DefiningTable">
				<Entry>
					<References Name="[dbo].[Vessel]" />
				</Entry>
			</Relationship>
			<Relationship Name="ForColumn">
				<Entry>
					<References Name="[dbo].[Vessel].[Token]" />
				</Entry>
			</Relationship>
			<Annotation Type="SqlInlineConstraintAnnotation" Disambiguator="213" />
		</Element>
		<Element Type="SqlDefaultConstraint" Name="[dbo].[DF__Vessel__IsActive__7B5B524B]">
			<Property Name="DefaultExpressionScript">
				<Value><![CDATA[((1))]]></Value>
			</Property>
			<Relationship Name="DefiningTable">
				<Entry>
					<References Name="[dbo].[Vessel]" />
				</Entry>
			</Relationship>
			<Relationship Name="ForColumn">
				<Entry>
					<References Name="[dbo].[Vessel].[IsActive]" />
				</Entry>
			</Relationship>
			<Annotation Type="SqlInlineConstraintAnnotation" Disambiguator="214" />
		</Element>
		<Element Type="SqlDefaultConstraint" Name="[dbo].[DF__Vessel__Name__76969D2E]">
			<Property Name="DefaultExpressionScript">
				<Value><![CDATA[(NULL)]]></Value>
			</Property>
			<Relationship Name="DefiningTable">
				<Entry>
					<References Name="[dbo].[Vessel]" />
				</Entry>
			</Relationship>
			<Relationship Name="ForColumn">
				<Entry>
					<References Name="[dbo].[Vessel].[Name]" />
				</Entry>
			</Relationship>
			<Annotation Type="SqlInlineConstraintAnnotation" Disambiguator="215" />
		</Element>
		<Element Type="SqlDefaultConstraint" Name="[dbo].[DF__Vessel__Phone__787EE5A0]">
			<Property Name="DefaultExpressionScript">
				<Value><![CDATA[(NULL)]]></Value>
			</Property>
			<Relationship Name="DefiningTable">
				<Entry>
					<References Name="[dbo].[Vessel]" />
				</Entry>
			</Relationship>
			<Relationship Name="ForColumn">
				<Entry>
					<References Name="[dbo].[Vessel].[Phone]" />
				</Entry>
			</Relationship>
			<Annotation Type="SqlInlineConstraintAnnotation" Disambiguator="216" />
		</Element>
		<Element Type="SqlDefaultConstraint" Name="[dbo].[DF__Vessel__Updated__7A672E12]">
			<Property Name="DefaultExpressionScript">
				<Value><![CDATA[(NULL)]]></Value>
			</Property>
			<Relationship Name="DefiningTable">
				<Entry>
					<References Name="[dbo].[Vessel]" />
				</Entry>
			</Relationship>
			<Relationship Name="ForColumn">
				<Entry>
					<References Name="[dbo].[Vessel].[Updated]" />
				</Entry>
			</Relationship>
			<Annotation Type="SqlInlineConstraintAnnotation" Disambiguator="217" />
		</Element>
		<Element Type="SqlDefaultConstraint" Name="[dbo].[DF__Vessel__UpdatedI__7C4F7684]">
			<Property Name="DefaultExpressionScript">
				<Value><![CDATA[(NULL)]]></Value>
			</Property>
			<Relationship Name="DefiningTable">
				<Entry>
					<References Name="[dbo].[Vessel]" />
				</Entry>
			</Relationship>
			<Relationship Name="ForColumn">
				<Entry>
					<References Name="[dbo].[Vessel].[UpdatedId]" />
				</Entry>
			</Relationship>
			<Annotation Type="SqlInlineConstraintAnnotation" Disambiguator="218" />
		</Element>
		<Element Type="SqlDefaultConstraint" Name="[dbo].[DF_AppAccessUsers_dt_creation]">
			<Property Name="DefaultExpressionScript">
				<Value><![CDATA[(getdate())]]></Value>
			</Property>
			<Relationship Name="DefiningTable">
				<Entry>
					<References Name="[dbo].[AppAccessUsers]" />
				</Entry>
			</Relationship>
			<Relationship Name="ForColumn">
				<Entry>
					<References Name="[dbo].[AppAccessUsers].[Creation]" />
				</Entry>
			</Relationship>
			<AttachedAnnotation Disambiguator="33" />
		</Element>
		<Element Type="SqlDefaultConstraint" Name="[dbo].[DF_AppAccessUsers_dt_updated]">
			<Property Name="DefaultExpressionScript">
				<Value><![CDATA[(getdate())]]></Value>
			</Property>
			<Relationship Name="DefiningTable">
				<Entry>
					<References Name="[dbo].[AppAccessUsers]" />
				</Entry>
			</Relationship>
			<Relationship Name="ForColumn">
				<Entry>
					<References Name="[dbo].[AppAccessUsers].[Updated]" />
				</Entry>
			</Relationship>
			<AttachedAnnotation Disambiguator="32" />
		</Element>
		<Element Type="SqlDefaultConstraint" Name="[dbo].[DF_AppConfigurationSendEmail_dt_creation]">
			<Property Name="DefaultExpressionScript">
				<Value><![CDATA[(getdate())]]></Value>
			</Property>
			<Relationship Name="DefiningTable">
				<Entry>
					<References Name="[dbo].[AppConfigurationSmtp]" />
				</Entry>
			</Relationship>
			<Relationship Name="ForColumn">
				<Entry>
					<References Name="[dbo].[AppConfigurationSmtp].[Creation]" />
				</Entry>
			</Relationship>
			<AttachedAnnotation Disambiguator="36" />
		</Element>
		<Element Type="SqlDefaultConstraint" Name="[dbo].[DF_AppConfigurationSendEmail_dt_updated]">
			<Property Name="DefaultExpressionScript">
				<Value><![CDATA[(getdate())]]></Value>
			</Property>
			<Relationship Name="DefiningTable">
				<Entry>
					<References Name="[dbo].[AppConfigurationSmtp]" />
				</Entry>
			</Relationship>
			<Relationship Name="ForColumn">
				<Entry>
					<References Name="[dbo].[AppConfigurationSmtp].[Updated]" />
				</Entry>
			</Relationship>
			<AttachedAnnotation Disambiguator="35" />
		</Element>
		<Element Type="SqlDefaultConstraint" Name="[dbo].[DF_AppConfigurationSendEmail_in_active]">
			<Property Name="DefaultExpressionScript">
				<Value><![CDATA[((1))]]></Value>
			</Property>
			<Relationship Name="DefiningTable">
				<Entry>
					<References Name="[dbo].[AppConfigurationSmtp]" />
				</Entry>
			</Relationship>
			<Relationship Name="ForColumn">
				<Entry>
					<References Name="[dbo].[AppConfigurationSmtp].[IsActive]" />
				</Entry>
			</Relationship>
			<AttachedAnnotation Disambiguator="37" />
		</Element>
		<Element Type="SqlDefaultConstraint" Name="[dbo].[DF_AppConfigurationSmtp_ds_token]">
			<Property Name="DefaultExpressionScript">
				<Value><![CDATA[(newid())]]></Value>
			</Property>
			<Relationship Name="DefiningTable">
				<Entry>
					<References Name="[dbo].[AppConfigurationSmtp]" />
				</Entry>
			</Relationship>
			<Relationship Name="ForColumn">
				<Entry>
					<References Name="[dbo].[AppConfigurationSmtp].[Token]" />
				</Entry>
			</Relationship>
			<AttachedAnnotation Disambiguator="38" />
		</Element>
		<Element Type="SqlDefaultConstraint" Name="[dbo].[DF_AppEmailBody_ds_token]">
			<Property Name="DefaultExpressionScript">
				<Value><![CDATA[(newid())]]></Value>
			</Property>
			<Relationship Name="DefiningTable">
				<Entry>
					<References Name="[dbo].[AppEmailBody]" />
				</Entry>
			</Relationship>
			<Relationship Name="ForColumn">
				<Entry>
					<References Name="[dbo].[AppEmailBody].[Token]" />
				</Entry>
			</Relationship>
			<AttachedAnnotation Disambiguator="43" />
		</Element>
		<Element Type="SqlDefaultConstraint" Name="[dbo].[DF_AppEmailBody_dt_creation]">
			<Property Name="DefaultExpressionScript">
				<Value><![CDATA[(getdate())]]></Value>
			</Property>
			<Relationship Name="DefiningTable">
				<Entry>
					<References Name="[dbo].[AppEmailBody]" />
				</Entry>
			</Relationship>
			<Relationship Name="ForColumn">
				<Entry>
					<References Name="[dbo].[AppEmailBody].[Creation]" />
				</Entry>
			</Relationship>
			<AttachedAnnotation Disambiguator="41" />
		</Element>
		<Element Type="SqlDefaultConstraint" Name="[dbo].[DF_AppEmailBody_dt_updated]">
			<Property Name="DefaultExpressionScript">
				<Value><![CDATA[(getdate())]]></Value>
			</Property>
			<Relationship Name="DefiningTable">
				<Entry>
					<References Name="[dbo].[AppEmailBody]" />
				</Entry>
			</Relationship>
			<Relationship Name="ForColumn">
				<Entry>
					<References Name="[dbo].[AppEmailBody].[Updated]" />
				</Entry>
			</Relationship>
			<AttachedAnnotation Disambiguator="42" />
		</Element>
		<Element Type="SqlDefaultConstraint" Name="[dbo].[DF_AppEmailBody_in_active]">
			<Property Name="DefaultExpressionScript">
				<Value><![CDATA[((1))]]></Value>
			</Property>
			<Relationship Name="DefiningTable">
				<Entry>
					<References Name="[dbo].[AppEmailBody]" />
				</Entry>
			</Relationship>
			<Relationship Name="ForColumn">
				<Entry>
					<References Name="[dbo].[AppEmailBody].[IsActive]" />
				</Entry>
			</Relationship>
			<AttachedAnnotation Disambiguator="40" />
		</Element>
		<Element Type="SqlDefaultConstraint" Name="[dbo].[DF_AppHistoryTimeline_dt_creation]">
			<Property Name="DefaultExpressionScript">
				<Value><![CDATA[(getdate())]]></Value>
			</Property>
			<Relationship Name="DefiningTable">
				<Entry>
					<References Name="[dbo].[AppHistoryTimeline]" />
				</Entry>
			</Relationship>
			<Relationship Name="ForColumn">
				<Entry>
					<References Name="[dbo].[AppHistoryTimeline].[Creation]" />
				</Entry>
			</Relationship>
			<AttachedAnnotation Disambiguator="45" />
		</Element>
		<Element Type="SqlDefaultConstraint" Name="[dbo].[DF_AppHistoryTimeline_Token]">
			<Property Name="DefaultExpressionScript">
				<Value><![CDATA[(newid())]]></Value>
			</Property>
			<Relationship Name="DefiningTable">
				<Entry>
					<References Name="[dbo].[AppHistoryTimeline]" />
				</Entry>
			</Relationship>
			<Relationship Name="ForColumn">
				<Entry>
					<References Name="[dbo].[AppHistoryTimeline].[Token]" />
				</Entry>
			</Relationship>
			<AttachedAnnotation Disambiguator="46" />
		</Element>
		<Element Type="SqlDefaultConstraint" Name="[dbo].[DF_AppMenus_ds_token]">
			<Property Name="DefaultExpressionScript">
				<Value><![CDATA[(newid())]]></Value>
			</Property>
			<Relationship Name="DefiningTable">
				<Entry>
					<References Name="[dbo].[AppMenus]" />
				</Entry>
			</Relationship>
			<Relationship Name="ForColumn">
				<Entry>
					<References Name="[dbo].[AppMenus].[Token]" />
				</Entry>
			</Relationship>
			<AttachedAnnotation Disambiguator="51" />
		</Element>
		<Element Type="SqlDefaultConstraint" Name="[dbo].[DF_Appmenus_dt_creation]">
			<Property Name="DefaultExpressionScript">
				<Value><![CDATA[(getdate())]]></Value>
			</Property>
			<Relationship Name="DefiningTable">
				<Entry>
					<References Name="[dbo].[AppMenus]" />
				</Entry>
			</Relationship>
			<Relationship Name="ForColumn">
				<Entry>
					<References Name="[dbo].[AppMenus].[Creation]" />
				</Entry>
			</Relationship>
			<AttachedAnnotation Disambiguator="48" />
		</Element>
		<Element Type="SqlDefaultConstraint" Name="[dbo].[DF_Appmenus_dt_updated]">
			<Property Name="DefaultExpressionScript">
				<Value><![CDATA[(getdate())]]></Value>
			</Property>
			<Relationship Name="DefiningTable">
				<Entry>
					<References Name="[dbo].[AppMenus]" />
				</Entry>
			</Relationship>
			<Relationship Name="ForColumn">
				<Entry>
					<References Name="[dbo].[AppMenus].[Updated]" />
				</Entry>
			</Relationship>
			<AttachedAnnotation Disambiguator="49" />
		</Element>
		<Element Type="SqlDefaultConstraint" Name="[dbo].[DF_Appmenus_id_update]">
			<Property Name="DefaultExpressionScript">
				<Value><![CDATA[((1))]]></Value>
			</Property>
			<Relationship Name="DefiningTable">
				<Entry>
					<References Name="[dbo].[AppMenus]" />
				</Entry>
			</Relationship>
			<Relationship Name="ForColumn">
				<Entry>
					<References Name="[dbo].[AppMenus].[UpdatedId]" />
				</Entry>
			</Relationship>
			<AttachedAnnotation Disambiguator="50" />
		</Element>
		<Element Type="SqlDefaultConstraint" Name="[dbo].[DF_AppMessageLog_dt_creation]">
			<Property Name="DefaultExpressionScript">
				<Value><![CDATA[(getdate())]]></Value>
			</Property>
			<Relationship Name="DefiningTable">
				<Entry>
					<References Name="[dbo].[AppMessageLog]" />
				</Entry>
			</Relationship>
			<Relationship Name="ForColumn">
				<Entry>
					<References Name="[dbo].[AppMessageLog].[Creation]" />
				</Entry>
			</Relationship>
			<AttachedAnnotation Disambiguator="53" />
		</Element>
		<Element Type="SqlDefaultConstraint" Name="[dbo].[DF_Appparameters_dt_creation]">
			<Property Name="DefaultExpressionScript">
				<Value><![CDATA[(getdate())]]></Value>
			</Property>
			<Relationship Name="DefiningTable">
				<Entry>
					<References Name="[dbo].[AppParameters]" />
				</Entry>
			</Relationship>
			<Relationship Name="ForColumn">
				<Entry>
					<References Name="[dbo].[AppParameters].[Creation]" />
				</Entry>
			</Relationship>
			<AttachedAnnotation Disambiguator="56" />
		</Element>
		<Element Type="SqlDefaultConstraint" Name="[dbo].[DF_Appparameters_dt_updated]">
			<Property Name="DefaultExpressionScript">
				<Value><![CDATA[(getdate())]]></Value>
			</Property>
			<Relationship Name="DefiningTable">
				<Entry>
					<References Name="[dbo].[AppParameters]" />
				</Entry>
			</Relationship>
			<Relationship Name="ForColumn">
				<Entry>
					<References Name="[dbo].[AppParameters].[Updated]" />
				</Entry>
			</Relationship>
			<AttachedAnnotation Disambiguator="55" />
		</Element>
		<Element Type="SqlDefaultConstraint" Name="[dbo].[DF_Appparameters_id_update]">
			<Property Name="DefaultExpressionScript">
				<Value><![CDATA[((1))]]></Value>
			</Property>
			<Relationship Name="DefiningTable">
				<Entry>
					<References Name="[dbo].[AppParameters]" />
				</Entry>
			</Relationship>
			<Relationship Name="ForColumn">
				<Entry>
					<References Name="[dbo].[AppParameters].[UpdatedId]" />
				</Entry>
			</Relationship>
			<AttachedAnnotation Disambiguator="57" />
		</Element>
		<Element Type="SqlDefaultConstraint" Name="[dbo].[DF_AppProfiles_ds_token]">
			<Property Name="DefaultExpressionScript">
				<Value><![CDATA[(newid())]]></Value>
			</Property>
			<Relationship Name="DefiningTable">
				<Entry>
					<References Name="[dbo].[AppProfiles]" />
				</Entry>
			</Relationship>
			<Relationship Name="ForColumn">
				<Entry>
					<References Name="[dbo].[AppProfiles].[Token]" />
				</Entry>
			</Relationship>
			<AttachedAnnotation Disambiguator="62" />
		</Element>
		<Element Type="SqlDefaultConstraint" Name="[dbo].[DF_Appprofiles_dt_creation]">
			<Property Name="DefaultExpressionScript">
				<Value><![CDATA[(getdate())]]></Value>
			</Property>
			<Relationship Name="DefiningTable">
				<Entry>
					<References Name="[dbo].[AppProfiles]" />
				</Entry>
			</Relationship>
			<Relationship Name="ForColumn">
				<Entry>
					<References Name="[dbo].[AppProfiles].[Creation]" />
				</Entry>
			</Relationship>
			<AttachedAnnotation Disambiguator="59" />
		</Element>
		<Element Type="SqlDefaultConstraint" Name="[dbo].[DF_Appprofiles_dt_updated]">
			<Property Name="DefaultExpressionScript">
				<Value><![CDATA[(getdate())]]></Value>
			</Property>
			<Relationship Name="DefiningTable">
				<Entry>
					<References Name="[dbo].[AppProfiles]" />
				</Entry>
			</Relationship>
			<Relationship Name="ForColumn">
				<Entry>
					<References Name="[dbo].[AppProfiles].[Updated]" />
				</Entry>
			</Relationship>
			<AttachedAnnotation Disambiguator="60" />
		</Element>
		<Element Type="SqlDefaultConstraint" Name="[dbo].[DF_Appprofiles_id_update]">
			<Property Name="DefaultExpressionScript">
				<Value><![CDATA[((1))]]></Value>
			</Property>
			<Relationship Name="DefiningTable">
				<Entry>
					<References Name="[dbo].[AppProfiles]" />
				</Entry>
			</Relationship>
			<Relationship Name="ForColumn">
				<Entry>
					<References Name="[dbo].[AppProfiles].[UpdatedId]" />
				</Entry>
			</Relationship>
			<AttachedAnnotation Disambiguator="61" />
		</Element>
		<Element Type="SqlDefaultConstraint" Name="[dbo].[DF_Appprofilesmenus_dt_creation]">
			<Property Name="DefaultExpressionScript">
				<Value><![CDATA[(getdate())]]></Value>
			</Property>
			<Relationship Name="DefiningTable">
				<Entry>
					<References Name="[dbo].[AppProfilesMenus]" />
				</Entry>
			</Relationship>
			<Relationship Name="ForColumn">
				<Entry>
					<References Name="[dbo].[AppProfilesMenus].[Creation]" />
				</Entry>
			</Relationship>
			<AttachedAnnotation Disambiguator="65" />
		</Element>
		<Element Type="SqlDefaultConstraint" Name="[dbo].[DF_Appprofilesmenus_dt_updated]">
			<Property Name="DefaultExpressionScript">
				<Value><![CDATA[(getdate())]]></Value>
			</Property>
			<Relationship Name="DefiningTable">
				<Entry>
					<References Name="[dbo].[AppProfilesMenus]" />
				</Entry>
			</Relationship>
			<Relationship Name="ForColumn">
				<Entry>
					<References Name="[dbo].[AppProfilesMenus].[Updated]" />
				</Entry>
			</Relationship>
			<AttachedAnnotation Disambiguator="66" />
		</Element>
		<Element Type="SqlDefaultConstraint" Name="[dbo].[DF_Appprofilesmenus_id_update]">
			<Property Name="DefaultExpressionScript">
				<Value><![CDATA[((1))]]></Value>
			</Property>
			<Relationship Name="DefiningTable">
				<Entry>
					<References Name="[dbo].[AppProfilesMenus]" />
				</Entry>
			</Relationship>
			<Relationship Name="ForColumn">
				<Entry>
					<References Name="[dbo].[AppProfilesMenus].[UpdatedId]" />
				</Entry>
			</Relationship>
			<AttachedAnnotation Disambiguator="64" />
		</Element>
		<Element Type="SqlDefaultConstraint" Name="[dbo].[DF_AppSendEmail_dt_creation]">
			<Property Name="DefaultExpressionScript">
				<Value><![CDATA[(getdate())]]></Value>
			</Property>
			<Relationship Name="DefiningTable">
				<Entry>
					<References Name="[dbo].[AppSendEmail]" />
				</Entry>
			</Relationship>
			<Relationship Name="ForColumn">
				<Entry>
					<References Name="[dbo].[AppSendEmail].[Creation]" />
				</Entry>
			</Relationship>
			<AttachedAnnotation Disambiguator="71" />
		</Element>
		<Element Type="SqlDefaultConstraint" Name="[dbo].[DF_AppSendEmail_dt_updated]">
			<Property Name="DefaultExpressionScript">
				<Value><![CDATA[(getdate())]]></Value>
			</Property>
			<Relationship Name="DefiningTable">
				<Entry>
					<References Name="[dbo].[AppSendEmail]" />
				</Entry>
			</Relationship>
			<Relationship Name="ForColumn">
				<Entry>
					<References Name="[dbo].[AppSendEmail].[Updated]" />
				</Entry>
			</Relationship>
			<AttachedAnnotation Disambiguator="70" />
		</Element>
		<Element Type="SqlDefaultConstraint" Name="[dbo].[DF_AppSendEmail_Token]">
			<Property Name="DefaultExpressionScript">
				<Value><![CDATA[(newid())]]></Value>
			</Property>
			<Relationship Name="DefiningTable">
				<Entry>
					<References Name="[dbo].[AppSendEmail]" />
				</Entry>
			</Relationship>
			<Relationship Name="ForColumn">
				<Entry>
					<References Name="[dbo].[AppSendEmail].[Token]" />
				</Entry>
			</Relationship>
			<AttachedAnnotation Disambiguator="72" />
		</Element>
		<Element Type="SqlDefaultConstraint" Name="[dbo].[DF_Appsessions_dt_creation]">
			<Property Name="DefaultExpressionScript">
				<Value><![CDATA[(getdate())]]></Value>
			</Property>
			<Relationship Name="DefiningTable">
				<Entry>
					<References Name="[dbo].[AppSessions]" />
				</Entry>
			</Relationship>
			<Relationship Name="ForColumn">
				<Entry>
					<References Name="[dbo].[AppSessions].[Creation]" />
				</Entry>
			</Relationship>
			<AttachedAnnotation Disambiguator="74" />
		</Element>
		<Element Type="SqlDefaultConstraint" Name="[dbo].[DF_Appsessions_dt_updated]">
			<Property Name="DefaultExpressionScript">
				<Value><![CDATA[(getdate())]]></Value>
			</Property>
			<Relationship Name="DefiningTable">
				<Entry>
					<References Name="[dbo].[AppSessions]" />
				</Entry>
			</Relationship>
			<Relationship Name="ForColumn">
				<Entry>
					<References Name="[dbo].[AppSessions].[Updated]" />
				</Entry>
			</Relationship>
			<AttachedAnnotation Disambiguator="75" />
		</Element>
		<Element Type="SqlDefaultConstraint" Name="[dbo].[DF_Appsessions_id_updated]">
			<Property Name="DefaultExpressionScript">
				<Value><![CDATA[((1))]]></Value>
			</Property>
			<Relationship Name="DefiningTable">
				<Entry>
					<References Name="[dbo].[AppSessions]" />
				</Entry>
			</Relationship>
			<Relationship Name="ForColumn">
				<Entry>
					<References Name="[dbo].[AppSessions].[UpdatedId]" />
				</Entry>
			</Relationship>
			<AttachedAnnotation Disambiguator="76" />
		</Element>
		<Element Type="SqlDefaultConstraint" Name="[dbo].[DF_AppSessions_Token]">
			<Property Name="DefaultExpressionScript">
				<Value><![CDATA[(newid())]]></Value>
			</Property>
			<Relationship Name="DefiningTable">
				<Entry>
					<References Name="[dbo].[AppSessions]" />
				</Entry>
			</Relationship>
			<Relationship Name="ForColumn">
				<Entry>
					<References Name="[dbo].[AppSessions].[Token]" />
				</Entry>
			</Relationship>
			<AttachedAnnotation Disambiguator="77" />
		</Element>
		<Element Type="SqlDefaultConstraint" Name="[dbo].[DF_AppUploads_dt_creation]">
			<Property Name="DefaultExpressionScript">
				<Value><![CDATA[(getdate())]]></Value>
			</Property>
			<Relationship Name="DefiningTable">
				<Entry>
					<References Name="[dbo].[AppUploads]" />
				</Entry>
			</Relationship>
			<Relationship Name="ForColumn">
				<Entry>
					<References Name="[dbo].[AppUploads].[Creation]" />
				</Entry>
			</Relationship>
			<AttachedAnnotation Disambiguator="79" />
		</Element>
		<Element Type="SqlDefaultConstraint" Name="[dbo].[DF_AppUploads_dt_updated]">
			<Property Name="DefaultExpressionScript">
				<Value><![CDATA[(getdate())]]></Value>
			</Property>
			<Relationship Name="DefiningTable">
				<Entry>
					<References Name="[dbo].[AppUploads]" />
				</Entry>
			</Relationship>
			<Relationship Name="ForColumn">
				<Entry>
					<References Name="[dbo].[AppUploads].[Updated]" />
				</Entry>
			</Relationship>
			<AttachedAnnotation Disambiguator="80" />
		</Element>
		<Element Type="SqlDefaultConstraint" Name="[dbo].[DF_AppUploads_Token]">
			<Property Name="DefaultExpressionScript">
				<Value><![CDATA[(newid())]]></Value>
			</Property>
			<Relationship Name="DefiningTable">
				<Entry>
					<References Name="[dbo].[AppUploads]" />
				</Entry>
			</Relationship>
			<Relationship Name="ForColumn">
				<Entry>
					<References Name="[dbo].[AppUploads].[Token]" />
				</Entry>
			</Relationship>
			<AttachedAnnotation Disambiguator="81" />
		</Element>
		<Element Type="SqlDefaultConstraint" Name="[dbo].[DF_AppUsers_ds_token]">
			<Property Name="DefaultExpressionScript">
				<Value><![CDATA[(newid())]]></Value>
			</Property>
			<Relationship Name="DefiningTable">
				<Entry>
					<References Name="[dbo].[AppUsers]" />
				</Entry>
			</Relationship>
			<Relationship Name="ForColumn">
				<Entry>
					<References Name="[dbo].[AppUsers].[Token]" />
				</Entry>
			</Relationship>
			<AttachedAnnotation Disambiguator="88" />
		</Element>
		<Element Type="SqlDefaultConstraint" Name="[dbo].[DF_Appusers_dt_creation]">
			<Property Name="DefaultExpressionScript">
				<Value><![CDATA[(getdate())]]></Value>
			</Property>
			<Relationship Name="DefiningTable">
				<Entry>
					<References Name="[dbo].[AppUsers]" />
				</Entry>
			</Relationship>
			<Relationship Name="ForColumn">
				<Entry>
					<References Name="[dbo].[AppUsers].[Creation]" />
				</Entry>
			</Relationship>
			<AttachedAnnotation Disambiguator="83" />
		</Element>
		<Element Type="SqlDefaultConstraint" Name="[dbo].[DF_Appusers_dt_updated]">
			<Property Name="DefaultExpressionScript">
				<Value><![CDATA[(getdate())]]></Value>
			</Property>
			<Relationship Name="DefiningTable">
				<Entry>
					<References Name="[dbo].[AppUsers]" />
				</Entry>
			</Relationship>
			<Relationship Name="ForColumn">
				<Entry>
					<References Name="[dbo].[AppUsers].[Updated]" />
				</Entry>
			</Relationship>
			<AttachedAnnotation Disambiguator="84" />
		</Element>
		<Element Type="SqlDefaultConstraint" Name="[dbo].[DF_Appusers_id_update]">
			<Property Name="DefaultExpressionScript">
				<Value><![CDATA[((1))]]></Value>
			</Property>
			<Relationship Name="DefiningTable">
				<Entry>
					<References Name="[dbo].[AppUsers]" />
				</Entry>
			</Relationship>
			<Relationship Name="ForColumn">
				<Entry>
					<References Name="[dbo].[AppUsers].[UpdatedId]" />
				</Entry>
			</Relationship>
			<AttachedAnnotation Disambiguator="85" />
		</Element>
		<Element Type="SqlDefaultConstraint" Name="[dbo].[DF_AppUsers_in_active]">
			<Property Name="DefaultExpressionScript">
				<Value><![CDATA[((1))]]></Value>
			</Property>
			<Relationship Name="DefiningTable">
				<Entry>
					<References Name="[dbo].[AppUsers]" />
				</Entry>
			</Relationship>
			<Relationship Name="ForColumn">
				<Entry>
					<References Name="[dbo].[AppUsers].[IsActive]" />
				</Entry>
			</Relationship>
			<AttachedAnnotation Disambiguator="86" />
		</Element>
		<Element Type="SqlDefaultConstraint" Name="[dbo].[DF_AppUsers_in_block]">
			<Property Name="DefaultExpressionScript">
				<Value><![CDATA[((0))]]></Value>
			</Property>
			<Relationship Name="DefiningTable">
				<Entry>
					<References Name="[dbo].[AppUsers]" />
				</Entry>
			</Relationship>
			<Relationship Name="ForColumn">
				<Entry>
					<References Name="[dbo].[AppUsers].[IsBlock]" />
				</Entry>
			</Relationship>
			<AttachedAnnotation Disambiguator="87" />
		</Element>
		<Element Type="SqlDefaultConstraint" Name="[dbo].[DF_AvailableOpenVessels_Creation]">
			<Property Name="DefaultExpressionScript">
				<Value><![CDATA[(getdate())]]></Value>
			</Property>
			<Relationship Name="DefiningTable">
				<Entry>
					<References Name="[dbo].[AvailableOpenVessels]" />
				</Entry>
			</Relationship>
			<Relationship Name="ForColumn">
				<Entry>
					<References Name="[dbo].[AvailableOpenVessels].[Creation]" />
				</Entry>
			</Relationship>
			<AttachedAnnotation Disambiguator="92" />
		</Element>
		<Element Type="SqlDefaultConstraint" Name="[dbo].[DF_AvailableOpenVessels_IsActive]">
			<Property Name="DefaultExpressionScript">
				<Value><![CDATA[((1))]]></Value>
			</Property>
			<Relationship Name="DefiningTable">
				<Entry>
					<References Name="[dbo].[AvailableOpenVessels]" />
				</Entry>
			</Relationship>
			<Relationship Name="ForColumn">
				<Entry>
					<References Name="[dbo].[AvailableOpenVessels].[IsActive]" />
				</Entry>
			</Relationship>
			<AttachedAnnotation Disambiguator="94" />
		</Element>
		<Element Type="SqlDefaultConstraint" Name="[dbo].[DF_AvailableOpenVessels_Token]">
			<Property Name="DefaultExpressionScript">
				<Value><![CDATA[(newid())]]></Value>
			</Property>
			<Relationship Name="DefiningTable">
				<Entry>
					<References Name="[dbo].[AvailableOpenVessels]" />
				</Entry>
			</Relationship>
			<Relationship Name="ForColumn">
				<Entry>
					<References Name="[dbo].[AvailableOpenVessels].[Token]" />
				</Entry>
			</Relationship>
			<AttachedAnnotation Disambiguator="91" />
		</Element>
		<Element Type="SqlDefaultConstraint" Name="[dbo].[DF_AvailableOpenVessels_Updated]">
			<Property Name="DefaultExpressionScript">
				<Value><![CDATA[(NULL)]]></Value>
			</Property>
			<Relationship Name="DefiningTable">
				<Entry>
					<References Name="[dbo].[AvailableOpenVessels]" />
				</Entry>
			</Relationship>
			<Relationship Name="ForColumn">
				<Entry>
					<References Name="[dbo].[AvailableOpenVessels].[Updated]" />
				</Entry>
			</Relationship>
			<AttachedAnnotation Disambiguator="93" />
		</Element>
		<Element Type="SqlDefaultConstraint" Name="[dbo].[DF_AvailableOpenVessels_UpdatedId]">
			<Property Name="DefaultExpressionScript">
				<Value><![CDATA[(NULL)]]></Value>
			</Property>
			<Relationship Name="DefiningTable">
				<Entry>
					<References Name="[dbo].[AvailableOpenVessels]" />
				</Entry>
			</Relationship>
			<Relationship Name="ForColumn">
				<Entry>
					<References Name="[dbo].[AvailableOpenVessels].[UpdatedId]" />
				</Entry>
			</Relationship>
			<AttachedAnnotation Disambiguator="95" />
		</Element>
		<Element Type="SqlDefaultConstraint" Name="[dbo].[DF_Cities_ds_token]">
			<Property Name="DefaultExpressionScript">
				<Value><![CDATA[(newid())]]></Value>
			</Property>
			<Relationship Name="DefiningTable">
				<Entry>
					<References Name="[dbo].[Cities]" />
				</Entry>
			</Relationship>
			<Relationship Name="ForColumn">
				<Entry>
					<References Name="[dbo].[Cities].[Token]" />
				</Entry>
			</Relationship>
			<AttachedAnnotation Disambiguator="100" />
		</Element>
		<Element Type="SqlDefaultConstraint" Name="[dbo].[DF_Cities_dt_created]">
			<Property Name="DefaultExpressionScript">
				<Value><![CDATA[(getdate())]]></Value>
			</Property>
			<Relationship Name="DefiningTable">
				<Entry>
					<References Name="[dbo].[Cities]" />
				</Entry>
			</Relationship>
			<Relationship Name="ForColumn">
				<Entry>
					<References Name="[dbo].[Cities].[Created]" />
				</Entry>
			</Relationship>
			<AttachedAnnotation Disambiguator="98" />
		</Element>
		<Element Type="SqlDefaultConstraint" Name="[dbo].[DF_Cities_dt_updated]">
			<Property Name="DefaultExpressionScript">
				<Value><![CDATA[(getdate())]]></Value>
			</Property>
			<Relationship Name="DefiningTable">
				<Entry>
					<References Name="[dbo].[Cities]" />
				</Entry>
			</Relationship>
			<Relationship Name="ForColumn">
				<Entry>
					<References Name="[dbo].[Cities].[Updated]" />
				</Entry>
			</Relationship>
			<AttachedAnnotation Disambiguator="97" />
		</Element>
		<Element Type="SqlDefaultConstraint" Name="[dbo].[DF_Cities_in_active]">
			<Property Name="DefaultExpressionScript">
				<Value><![CDATA[((1))]]></Value>
			</Property>
			<Relationship Name="DefiningTable">
				<Entry>
					<References Name="[dbo].[Cities]" />
				</Entry>
			</Relationship>
			<Relationship Name="ForColumn">
				<Entry>
					<References Name="[dbo].[Cities].[IsActive]" />
				</Entry>
			</Relationship>
			<AttachedAnnotation Disambiguator="99" />
		</Element>
		<Element Type="SqlDefaultConstraint" Name="[dbo].[DF_Clauses_Creation]">
			<Property Name="DefaultExpressionScript">
				<Value><![CDATA[(getdate())]]></Value>
			</Property>
			<Relationship Name="DefiningTable">
				<Entry>
					<References Name="[dbo].[Clauses]" />
				</Entry>
			</Relationship>
			<Relationship Name="ForColumn">
				<Entry>
					<References Name="[dbo].[Clauses].[Creation]" />
				</Entry>
			</Relationship>
			<AttachedAnnotation Disambiguator="104" />
		</Element>
		<Element Type="SqlDefaultConstraint" Name="[dbo].[DF_Clauses_Token]">
			<Property Name="DefaultExpressionScript">
				<Value><![CDATA[(newid())]]></Value>
			</Property>
			<Relationship Name="DefiningTable">
				<Entry>
					<References Name="[dbo].[Clauses]" />
				</Entry>
			</Relationship>
			<Relationship Name="ForColumn">
				<Entry>
					<References Name="[dbo].[Clauses].[Token]" />
				</Entry>
			</Relationship>
			<AttachedAnnotation Disambiguator="103" />
		</Element>
		<Element Type="SqlDefaultConstraint" Name="[dbo].[DF_ConditionByPorts_Creation]">
			<Property Name="DefaultExpressionScript">
				<Value><![CDATA[(NULL)]]></Value>
			</Property>
			<Relationship Name="DefiningTable">
				<Entry>
					<References Name="[dbo].[ConditionByPorts]" />
				</Entry>
			</Relationship>
			<Relationship Name="ForColumn">
				<Entry>
					<References Name="[dbo].[ConditionByPorts].[Creation]" />
				</Entry>
			</Relationship>
			<AttachedAnnotation Disambiguator="107" />
		</Element>
		<Element Type="SqlDefaultConstraint" Name="[dbo].[DF_ConditionByPorts_IsActive]">
			<Property Name="DefaultExpressionScript">
				<Value><![CDATA[((1))]]></Value>
			</Property>
			<Relationship Name="DefiningTable">
				<Entry>
					<References Name="[dbo].[ConditionByPorts]" />
				</Entry>
			</Relationship>
			<Relationship Name="ForColumn">
				<Entry>
					<References Name="[dbo].[ConditionByPorts].[IsActive]" />
				</Entry>
			</Relationship>
			<AttachedAnnotation Disambiguator="109" />
		</Element>
		<Element Type="SqlDefaultConstraint" Name="[dbo].[DF_ConditionByPorts_Token]">
			<Property Name="DefaultExpressionScript">
				<Value><![CDATA[(newid())]]></Value>
			</Property>
			<Relationship Name="DefiningTable">
				<Entry>
					<References Name="[dbo].[ConditionByPorts]" />
				</Entry>
			</Relationship>
			<Relationship Name="ForColumn">
				<Entry>
					<References Name="[dbo].[ConditionByPorts].[Token]" />
				</Entry>
			</Relationship>
			<AttachedAnnotation Disambiguator="106" />
		</Element>
		<Element Type="SqlDefaultConstraint" Name="[dbo].[DF_ConditionByPorts_Updated]">
			<Property Name="DefaultExpressionScript">
				<Value><![CDATA[(NULL)]]></Value>
			</Property>
			<Relationship Name="DefiningTable">
				<Entry>
					<References Name="[dbo].[ConditionByPorts]" />
				</Entry>
			</Relationship>
			<Relationship Name="ForColumn">
				<Entry>
					<References Name="[dbo].[ConditionByPorts].[Updated]" />
				</Entry>
			</Relationship>
			<AttachedAnnotation Disambiguator="108" />
		</Element>
		<Element Type="SqlDefaultConstraint" Name="[dbo].[DF_ConditionByPorts_UpdatedId]">
			<Property Name="DefaultExpressionScript">
				<Value><![CDATA[(NULL)]]></Value>
			</Property>
			<Relationship Name="DefiningTable">
				<Entry>
					<References Name="[dbo].[ConditionByPorts]" />
				</Entry>
			</Relationship>
			<Relationship Name="ForColumn">
				<Entry>
					<References Name="[dbo].[ConditionByPorts].[UpdatedId]" />
				</Entry>
			</Relationship>
			<AttachedAnnotation Disambiguator="110" />
		</Element>
		<Element Type="SqlDefaultConstraint" Name="[dbo].[DF_Contract_Creation]">
			<Property Name="DefaultExpressionScript">
				<Value><![CDATA[(getdate())]]></Value>
			</Property>
			<Relationship Name="DefiningTable">
				<Entry>
					<References Name="[dbo].[Contract]" />
				</Entry>
			</Relationship>
			<Relationship Name="ForColumn">
				<Entry>
					<References Name="[dbo].[Contract].[Creation]" />
				</Entry>
			</Relationship>
			<AttachedAnnotation Disambiguator="121" />
		</Element>
		<Element Type="SqlDefaultConstraint" Name="[dbo].[DF_Contract_Token]">
			<Property Name="DefaultExpressionScript">
				<Value><![CDATA[(newid())]]></Value>
			</Property>
			<Relationship Name="DefiningTable">
				<Entry>
					<References Name="[dbo].[Contract]" />
				</Entry>
			</Relationship>
			<Relationship Name="ForColumn">
				<Entry>
					<References Name="[dbo].[Contract].[Token]" />
				</Entry>
			</Relationship>
			<AttachedAnnotation Disambiguator="120" />
		</Element>
		<Element Type="SqlDefaultConstraint" Name="[dbo].[DF_ContractClauses_Creation]">
			<Property Name="DefaultExpressionScript">
				<Value><![CDATA[(getdate())]]></Value>
			</Property>
			<Relationship Name="DefiningTable">
				<Entry>
					<References Name="[dbo].[ContractClauses]" />
				</Entry>
			</Relationship>
			<Relationship Name="ForColumn">
				<Entry>
					<References Name="[dbo].[ContractClauses].[Creation]" />
				</Entry>
			</Relationship>
			<AttachedAnnotation Disambiguator="124" />
		</Element>
		<Element Type="SqlDefaultConstraint" Name="[dbo].[DF_ContractClauses_Token]">
			<Property Name="DefaultExpressionScript">
				<Value><![CDATA[(newid())]]></Value>
			</Property>
			<Relationship Name="DefiningTable">
				<Entry>
					<References Name="[dbo].[ContractClauses]" />
				</Entry>
			</Relationship>
			<Relationship Name="ForColumn">
				<Entry>
					<References Name="[dbo].[ContractClauses].[Token]" />
				</Entry>
			</Relationship>
			<AttachedAnnotation Disambiguator="123" />
		</Element>
		<Element Type="SqlDefaultConstraint" Name="[dbo].[DF_Countries_ds_token]">
			<Property Name="DefaultExpressionScript">
				<Value><![CDATA[(newid())]]></Value>
			</Property>
			<Relationship Name="DefiningTable">
				<Entry>
					<References Name="[dbo].[Countries]" />
				</Entry>
			</Relationship>
			<Relationship Name="ForColumn">
				<Entry>
					<References Name="[dbo].[Countries].[Token]" />
				</Entry>
			</Relationship>
			<AttachedAnnotation Disambiguator="129" />
		</Element>
		<Element Type="SqlDefaultConstraint" Name="[dbo].[DF_Countries_dt_created]">
			<Property Name="DefaultExpressionScript">
				<Value><![CDATA[(getdate())]]></Value>
			</Property>
			<Relationship Name="DefiningTable">
				<Entry>
					<References Name="[dbo].[Countries]" />
				</Entry>
			</Relationship>
			<Relationship Name="ForColumn">
				<Entry>
					<References Name="[dbo].[Countries].[Created]" />
				</Entry>
			</Relationship>
			<AttachedAnnotation Disambiguator="127" />
		</Element>
		<Element Type="SqlDefaultConstraint" Name="[dbo].[DF_Countries_dt_updated]">
			<Property Name="DefaultExpressionScript">
				<Value><![CDATA[(getdate())]]></Value>
			</Property>
			<Relationship Name="DefiningTable">
				<Entry>
					<References Name="[dbo].[Countries]" />
				</Entry>
			</Relationship>
			<Relationship Name="ForColumn">
				<Entry>
					<References Name="[dbo].[Countries].[Updated]" />
				</Entry>
			</Relationship>
			<AttachedAnnotation Disambiguator="126" />
		</Element>
		<Element Type="SqlDefaultConstraint" Name="[dbo].[DF_Countries_in_active]">
			<Property Name="DefaultExpressionScript">
				<Value><![CDATA[((1))]]></Value>
			</Property>
			<Relationship Name="DefiningTable">
				<Entry>
					<References Name="[dbo].[Countries]" />
				</Entry>
			</Relationship>
			<Relationship Name="ForColumn">
				<Entry>
					<References Name="[dbo].[Countries].[IsActive]" />
				</Entry>
			</Relationship>
			<AttachedAnnotation Disambiguator="128" />
		</Element>
		<Element Type="SqlDefaultConstraint" Name="[dbo].[DF_DetailNegotiationsOfRequests_Creation]">
			<Property Name="DefaultExpressionScript">
				<Value><![CDATA[(getdate())]]></Value>
			</Property>
			<Relationship Name="DefiningTable">
				<Entry>
					<References Name="[dbo].[DetailNegotiationsOfRequests]" />
				</Entry>
			</Relationship>
			<Relationship Name="ForColumn">
				<Entry>
					<References Name="[dbo].[DetailNegotiationsOfRequests].[Creation]" />
				</Entry>
			</Relationship>
			<AttachedAnnotation Disambiguator="132" />
		</Element>
		<Element Type="SqlDefaultConstraint" Name="[dbo].[DF_DetailNegotiationsOfRequests_Token]">
			<Property Name="DefaultExpressionScript">
				<Value><![CDATA[(newid())]]></Value>
			</Property>
			<Relationship Name="DefiningTable">
				<Entry>
					<References Name="[dbo].[DetailNegotiationsOfRequests]" />
				</Entry>
			</Relationship>
			<Relationship Name="ForColumn">
				<Entry>
					<References Name="[dbo].[DetailNegotiationsOfRequests].[Token]" />
				</Entry>
			</Relationship>
			<AttachedAnnotation Disambiguator="131" />
		</Element>
		<Element Type="SqlDefaultConstraint" Name="[dbo].[DF_DetailNegotiationsOfRequests_Updated]">
			<Property Name="DefaultExpressionScript">
				<Value><![CDATA[(getdate())]]></Value>
			</Property>
			<Relationship Name="DefiningTable">
				<Entry>
					<References Name="[dbo].[DetailNegotiationsOfRequests]" />
				</Entry>
			</Relationship>
			<Relationship Name="ForColumn">
				<Entry>
					<References Name="[dbo].[DetailNegotiationsOfRequests].[Updated]" />
				</Entry>
			</Relationship>
			<AttachedAnnotation Disambiguator="133" />
		</Element>
		<Element Type="SqlDefaultConstraint" Name="[dbo].[DF_DistanceBetweenPorts_Created]">
			<Property Name="DefaultExpressionScript">
				<Value><![CDATA[(getdate())]]></Value>
			</Property>
			<Relationship Name="DefiningTable">
				<Entry>
					<References Name="[dbo].[DistanceBetweenPorts]" />
				</Entry>
			</Relationship>
			<Relationship Name="ForColumn">
				<Entry>
					<References Name="[dbo].[DistanceBetweenPorts].[Created]" />
				</Entry>
			</Relationship>
			<Annotation Type="SqlInlineConstraintAnnotation" Disambiguator="219" />
		</Element>
		<Element Type="SqlDefaultConstraint" Name="[dbo].[DF_DistanceBetweenPorts_IsActive]">
			<Property Name="DefaultExpressionScript">
				<Value><![CDATA[((1))]]></Value>
			</Property>
			<Relationship Name="DefiningTable">
				<Entry>
					<References Name="[dbo].[DistanceBetweenPorts]" />
				</Entry>
			</Relationship>
			<Relationship Name="ForColumn">
				<Entry>
					<References Name="[dbo].[DistanceBetweenPorts].[IsActive]" />
				</Entry>
			</Relationship>
			<Annotation Type="SqlInlineConstraintAnnotation" Disambiguator="220" />
		</Element>
		<Element Type="SqlDefaultConstraint" Name="[dbo].[DF_DistanceBetweenPorts_Token]">
			<Property Name="DefaultExpressionScript">
				<Value><![CDATA[(newid())]]></Value>
			</Property>
			<Relationship Name="DefiningTable">
				<Entry>
					<References Name="[dbo].[DistanceBetweenPorts]" />
				</Entry>
			</Relationship>
			<Relationship Name="ForColumn">
				<Entry>
					<References Name="[dbo].[DistanceBetweenPorts].[Token]" />
				</Entry>
			</Relationship>
			<Annotation Type="SqlInlineConstraintAnnotation" Disambiguator="221" />
		</Element>
		<Element Type="SqlDefaultConstraint" Name="[dbo].[DF_HistoryNegotiationsOfRequests_Creation]">
			<Property Name="DefaultExpressionScript">
				<Value><![CDATA[(getdate())]]></Value>
			</Property>
			<Relationship Name="DefiningTable">
				<Entry>
					<References Name="[dbo].[HistoryNegotiationsOfRequests]" />
				</Entry>
			</Relationship>
			<Relationship Name="ForColumn">
				<Entry>
					<References Name="[dbo].[HistoryNegotiationsOfRequests].[Creation]" />
				</Entry>
			</Relationship>
			<Annotation Type="SqlInlineConstraintAnnotation" Disambiguator="222" />
		</Element>
		<Element Type="SqlDefaultConstraint" Name="[dbo].[DF_HistoryNegotiationsOfRequests_Token]">
			<Property Name="DefaultExpressionScript">
				<Value><![CDATA[(newid())]]></Value>
			</Property>
			<Relationship Name="DefiningTable">
				<Entry>
					<References Name="[dbo].[HistoryNegotiationsOfRequests]" />
				</Entry>
			</Relationship>
			<Relationship Name="ForColumn">
				<Entry>
					<References Name="[dbo].[HistoryNegotiationsOfRequests].[Token]" />
				</Entry>
			</Relationship>
			<Annotation Type="SqlInlineConstraintAnnotation" Disambiguator="223" />
		</Element>
		<Element Type="SqlDefaultConstraint" Name="[dbo].[DF_HistoryNegotiationsOfRequests_Updated]">
			<Property Name="DefaultExpressionScript">
				<Value><![CDATA[(getdate())]]></Value>
			</Property>
			<Relationship Name="DefiningTable">
				<Entry>
					<References Name="[dbo].[HistoryNegotiationsOfRequests]" />
				</Entry>
			</Relationship>
			<Relationship Name="ForColumn">
				<Entry>
					<References Name="[dbo].[HistoryNegotiationsOfRequests].[Updated]" />
				</Entry>
			</Relationship>
			<Annotation Type="SqlInlineConstraintAnnotation" Disambiguator="224" />
		</Element>
		<Element Type="SqlDefaultConstraint" Name="[dbo].[DF_ItemsLiquidation_Creation]">
			<Property Name="DefaultExpressionScript">
				<Value><![CDATA[(NULL)]]></Value>
			</Property>
			<Relationship Name="DefiningTable">
				<Entry>
					<References Name="[dbo].[ItemsLiquidation]" />
				</Entry>
			</Relationship>
			<Relationship Name="ForColumn">
				<Entry>
					<References Name="[dbo].[ItemsLiquidation].[Creation]" />
				</Entry>
			</Relationship>
			<Annotation Type="SqlInlineConstraintAnnotation" Disambiguator="225" />
		</Element>
		<Element Type="SqlDefaultConstraint" Name="[dbo].[DF_ItemsLiquidation_IsActive]">
			<Property Name="DefaultExpressionScript">
				<Value><![CDATA[((1))]]></Value>
			</Property>
			<Relationship Name="DefiningTable">
				<Entry>
					<References Name="[dbo].[ItemsLiquidation]" />
				</Entry>
			</Relationship>
			<Relationship Name="ForColumn">
				<Entry>
					<References Name="[dbo].[ItemsLiquidation].[IsActive]" />
				</Entry>
			</Relationship>
			<Annotation Type="SqlInlineConstraintAnnotation" Disambiguator="226" />
		</Element>
		<Element Type="SqlDefaultConstraint" Name="[dbo].[DF_ItemsLiquidation_Token]">
			<Property Name="DefaultExpressionScript">
				<Value><![CDATA[(newid())]]></Value>
			</Property>
			<Relationship Name="DefiningTable">
				<Entry>
					<References Name="[dbo].[ItemsLiquidation]" />
				</Entry>
			</Relationship>
			<Relationship Name="ForColumn">
				<Entry>
					<References Name="[dbo].[ItemsLiquidation].[Token]" />
				</Entry>
			</Relationship>
			<Annotation Type="SqlInlineConstraintAnnotation" Disambiguator="227" />
		</Element>
		<Element Type="SqlDefaultConstraint" Name="[dbo].[DF_ItemsLiquidation_Updated]">
			<Property Name="DefaultExpressionScript">
				<Value><![CDATA[(NULL)]]></Value>
			</Property>
			<Relationship Name="DefiningTable">
				<Entry>
					<References Name="[dbo].[ItemsLiquidation]" />
				</Entry>
			</Relationship>
			<Relationship Name="ForColumn">
				<Entry>
					<References Name="[dbo].[ItemsLiquidation].[Updated]" />
				</Entry>
			</Relationship>
			<Annotation Type="SqlInlineConstraintAnnotation" Disambiguator="228" />
		</Element>
		<Element Type="SqlDefaultConstraint" Name="[dbo].[DF_ItemsLiquidation_UpdatedId]">
			<Property Name="DefaultExpressionScript">
				<Value><![CDATA[(NULL)]]></Value>
			</Property>
			<Relationship Name="DefiningTable">
				<Entry>
					<References Name="[dbo].[ItemsLiquidation]" />
				</Entry>
			</Relationship>
			<Relationship Name="ForColumn">
				<Entry>
					<References Name="[dbo].[ItemsLiquidation].[UpdatedId]" />
				</Entry>
			</Relationship>
			<Annotation Type="SqlInlineConstraintAnnotation" Disambiguator="229" />
		</Element>
		<Element Type="SqlDefaultConstraint" Name="[dbo].[DF_NegotiationsOfRequests_Creation]">
			<Property Name="DefaultExpressionScript">
				<Value><![CDATA[(getdate())]]></Value>
			</Property>
			<Relationship Name="DefiningTable">
				<Entry>
					<References Name="[dbo].[NegotiationsOfRequests]" />
				</Entry>
			</Relationship>
			<Relationship Name="ForColumn">
				<Entry>
					<References Name="[dbo].[NegotiationsOfRequests].[Creation]" />
				</Entry>
			</Relationship>
			<Annotation Type="SqlInlineConstraintAnnotation" Disambiguator="230" />
		</Element>
		<Element Type="SqlDefaultConstraint" Name="[dbo].[DF_NegotiationsOfRequests_Token]">
			<Property Name="DefaultExpressionScript">
				<Value><![CDATA[(newid())]]></Value>
			</Property>
			<Relationship Name="DefiningTable">
				<Entry>
					<References Name="[dbo].[NegotiationsOfRequests]" />
				</Entry>
			</Relationship>
			<Relationship Name="ForColumn">
				<Entry>
					<References Name="[dbo].[NegotiationsOfRequests].[Token]" />
				</Entry>
			</Relationship>
			<Annotation Type="SqlInlineConstraintAnnotation" Disambiguator="231" />
		</Element>
		<Element Type="SqlDefaultConstraint" Name="[dbo].[DF_NegotiationsOfRequests_Updated]">
			<Property Name="DefaultExpressionScript">
				<Value><![CDATA[(getdate())]]></Value>
			</Property>
			<Relationship Name="DefiningTable">
				<Entry>
					<References Name="[dbo].[NegotiationsOfRequests]" />
				</Entry>
			</Relationship>
			<Relationship Name="ForColumn">
				<Entry>
					<References Name="[dbo].[NegotiationsOfRequests].[Updated]" />
				</Entry>
			</Relationship>
			<Annotation Type="SqlInlineConstraintAnnotation" Disambiguator="232" />
		</Element>
		<Element Type="SqlDefaultConstraint" Name="[dbo].[DF_Ports_Ifo]">
			<Property Name="DefaultExpressionScript">
				<Value><![CDATA[((0))]]></Value>
			</Property>
			<Relationship Name="DefiningTable">
				<Entry>
					<References Name="[dbo].[Ports]" />
				</Entry>
			</Relationship>
			<Relationship Name="ForColumn">
				<Entry>
					<References Name="[dbo].[Ports].[Ifo]" />
				</Entry>
			</Relationship>
			<Annotation Type="SqlInlineConstraintAnnotation" Disambiguator="233" />
		</Element>
		<Element Type="SqlDefaultConstraint" Name="[dbo].[DF_Ports_Mgo]">
			<Property Name="DefaultExpressionScript">
				<Value><![CDATA[((0))]]></Value>
			</Property>
			<Relationship Name="DefiningTable">
				<Entry>
					<References Name="[dbo].[Ports]" />
				</Entry>
			</Relationship>
			<Relationship Name="ForColumn">
				<Entry>
					<References Name="[dbo].[Ports].[Mgo]" />
				</Entry>
			</Relationship>
			<Annotation Type="SqlInlineConstraintAnnotation" Disambiguator="234" />
		</Element>
		<Element Type="SqlDefaultConstraint" Name="[dbo].[DF_ProductByVessels_Creation]">
			<Property Name="DefaultExpressionScript">
				<Value><![CDATA[(NULL)]]></Value>
			</Property>
			<Relationship Name="DefiningTable">
				<Entry>
					<References Name="[dbo].[ProductByVessels]" />
				</Entry>
			</Relationship>
			<Relationship Name="ForColumn">
				<Entry>
					<References Name="[dbo].[ProductByVessels].[Creation]" />
				</Entry>
			</Relationship>
			<Annotation Type="SqlInlineConstraintAnnotation" Disambiguator="235" />
		</Element>
		<Element Type="SqlDefaultConstraint" Name="[dbo].[DF_ProductByVessels_IsActive]">
			<Property Name="DefaultExpressionScript">
				<Value><![CDATA[((1))]]></Value>
			</Property>
			<Relationship Name="DefiningTable">
				<Entry>
					<References Name="[dbo].[ProductByVessels]" />
				</Entry>
			</Relationship>
			<Relationship Name="ForColumn">
				<Entry>
					<References Name="[dbo].[ProductByVessels].[IsActive]" />
				</Entry>
			</Relationship>
			<Annotation Type="SqlInlineConstraintAnnotation" Disambiguator="236" />
		</Element>
		<Element Type="SqlDefaultConstraint" Name="[dbo].[DF_ProductByVessels_Token]">
			<Property Name="DefaultExpressionScript">
				<Value><![CDATA[(newid())]]></Value>
			</Property>
			<Relationship Name="DefiningTable">
				<Entry>
					<References Name="[dbo].[ProductByVessels]" />
				</Entry>
			</Relationship>
			<Relationship Name="ForColumn">
				<Entry>
					<References Name="[dbo].[ProductByVessels].[Token]" />
				</Entry>
			</Relationship>
			<Annotation Type="SqlInlineConstraintAnnotation" Disambiguator="237" />
		</Element>
		<Element Type="SqlDefaultConstraint" Name="[dbo].[DF_ProductByVessels_Updated]">
			<Property Name="DefaultExpressionScript">
				<Value><![CDATA[(NULL)]]></Value>
			</Property>
			<Relationship Name="DefiningTable">
				<Entry>
					<References Name="[dbo].[ProductByVessels]" />
				</Entry>
			</Relationship>
			<Relationship Name="ForColumn">
				<Entry>
					<References Name="[dbo].[ProductByVessels].[Updated]" />
				</Entry>
			</Relationship>
			<Annotation Type="SqlInlineConstraintAnnotation" Disambiguator="238" />
		</Element>
		<Element Type="SqlDefaultConstraint" Name="[dbo].[DF_ProductByVessels_UpdatedId]">
			<Property Name="DefaultExpressionScript">
				<Value><![CDATA[(NULL)]]></Value>
			</Property>
			<Relationship Name="DefiningTable">
				<Entry>
					<References Name="[dbo].[ProductByVessels]" />
				</Entry>
			</Relationship>
			<Relationship Name="ForColumn">
				<Entry>
					<References Name="[dbo].[ProductByVessels].[UpdatedId]" />
				</Entry>
			</Relationship>
			<Annotation Type="SqlInlineConstraintAnnotation" Disambiguator="239" />
		</Element>
		<Element Type="SqlDefaultConstraint" Name="[dbo].[DF_Products_Creation]">
			<Property Name="DefaultExpressionScript">
				<Value><![CDATA[(getdate())]]></Value>
			</Property>
			<Relationship Name="DefiningTable">
				<Entry>
					<References Name="[dbo].[Products]" />
				</Entry>
			</Relationship>
			<Relationship Name="ForColumn">
				<Entry>
					<References Name="[dbo].[Products].[Creation]" />
				</Entry>
			</Relationship>
			<Annotation Type="SqlInlineConstraintAnnotation" Disambiguator="240" />
		</Element>
		<Element Type="SqlDefaultConstraint" Name="[dbo].[DF_Products_IsActive]">
			<Property Name="DefaultExpressionScript">
				<Value><![CDATA[((1))]]></Value>
			</Property>
			<Relationship Name="DefiningTable">
				<Entry>
					<References Name="[dbo].[Products]" />
				</Entry>
			</Relationship>
			<Relationship Name="ForColumn">
				<Entry>
					<References Name="[dbo].[Products].[IsActive]" />
				</Entry>
			</Relationship>
			<Annotation Type="SqlInlineConstraintAnnotation" Disambiguator="241" />
		</Element>
		<Element Type="SqlDefaultConstraint" Name="[dbo].[DF_Products_Name]">
			<Property Name="DefaultExpressionScript">
				<Value><![CDATA[('NULL')]]></Value>
			</Property>
			<Relationship Name="DefiningTable">
				<Entry>
					<References Name="[dbo].[Products]" />
				</Entry>
			</Relationship>
			<Relationship Name="ForColumn">
				<Entry>
					<References Name="[dbo].[Products].[Name]" />
				</Entry>
			</Relationship>
			<Annotation Type="SqlInlineConstraintAnnotation" Disambiguator="242" />
		</Element>
		<Element Type="SqlDefaultConstraint" Name="[dbo].[DF_Products_Token]">
			<Property Name="DefaultExpressionScript">
				<Value><![CDATA[(newid())]]></Value>
			</Property>
			<Relationship Name="DefiningTable">
				<Entry>
					<References Name="[dbo].[Products]" />
				</Entry>
			</Relationship>
			<Relationship Name="ForColumn">
				<Entry>
					<References Name="[dbo].[Products].[Token]" />
				</Entry>
			</Relationship>
			<Annotation Type="SqlInlineConstraintAnnotation" Disambiguator="243" />
		</Element>
		<Element Type="SqlDefaultConstraint" Name="[dbo].[DF_Products_Updated]">
			<Property Name="DefaultExpressionScript">
				<Value><![CDATA[(NULL)]]></Value>
			</Property>
			<Relationship Name="DefiningTable">
				<Entry>
					<References Name="[dbo].[Products]" />
				</Entry>
			</Relationship>
			<Relationship Name="ForColumn">
				<Entry>
					<References Name="[dbo].[Products].[Updated]" />
				</Entry>
			</Relationship>
			<Annotation Type="SqlInlineConstraintAnnotation" Disambiguator="244" />
		</Element>
		<Element Type="SqlDefaultConstraint" Name="[dbo].[DF_Products_UpdatedId]">
			<Property Name="DefaultExpressionScript">
				<Value><![CDATA[(NULL)]]></Value>
			</Property>
			<Relationship Name="DefiningTable">
				<Entry>
					<References Name="[dbo].[Products]" />
				</Entry>
			</Relationship>
			<Relationship Name="ForColumn">
				<Entry>
					<References Name="[dbo].[Products].[UpdatedId]" />
				</Entry>
			</Relationship>
			<Annotation Type="SqlInlineConstraintAnnotation" Disambiguator="245" />
		</Element>
		<Element Type="SqlDefaultConstraint" Name="[dbo].[DF_ProductsByTerminals_Creation]">
			<Property Name="DefaultExpressionScript">
				<Value><![CDATA[(NULL)]]></Value>
			</Property>
			<Relationship Name="DefiningTable">
				<Entry>
					<References Name="[dbo].[TerminalByProducts]" />
				</Entry>
			</Relationship>
			<Relationship Name="ForColumn">
				<Entry>
					<References Name="[dbo].[TerminalByProducts].[Creation]" />
				</Entry>
			</Relationship>
			<Annotation Type="SqlInlineConstraintAnnotation" Disambiguator="246" />
		</Element>
		<Element Type="SqlDefaultConstraint" Name="[dbo].[DF_ProductsByTerminals_IsActive]">
			<Property Name="DefaultExpressionScript">
				<Value><![CDATA[((1))]]></Value>
			</Property>
			<Relationship Name="DefiningTable">
				<Entry>
					<References Name="[dbo].[TerminalByProducts]" />
				</Entry>
			</Relationship>
			<Relationship Name="ForColumn">
				<Entry>
					<References Name="[dbo].[TerminalByProducts].[IsActive]" />
				</Entry>
			</Relationship>
			<Annotation Type="SqlInlineConstraintAnnotation" Disambiguator="247" />
		</Element>
		<Element Type="SqlDefaultConstraint" Name="[dbo].[DF_ProductsByTerminals_Token]">
			<Property Name="DefaultExpressionScript">
				<Value><![CDATA[(newid())]]></Value>
			</Property>
			<Relationship Name="DefiningTable">
				<Entry>
					<References Name="[dbo].[TerminalByProducts]" />
				</Entry>
			</Relationship>
			<Relationship Name="ForColumn">
				<Entry>
					<References Name="[dbo].[TerminalByProducts].[Token]" />
				</Entry>
			</Relationship>
			<Annotation Type="SqlInlineConstraintAnnotation" Disambiguator="248" />
		</Element>
		<Element Type="SqlDefaultConstraint" Name="[dbo].[DF_ProductsByTerminals_Updated]">
			<Property Name="DefaultExpressionScript">
				<Value><![CDATA[(NULL)]]></Value>
			</Property>
			<Relationship Name="DefiningTable">
				<Entry>
					<References Name="[dbo].[TerminalByProducts]" />
				</Entry>
			</Relationship>
			<Relationship Name="ForColumn">
				<Entry>
					<References Name="[dbo].[TerminalByProducts].[Updated]" />
				</Entry>
			</Relationship>
			<Annotation Type="SqlInlineConstraintAnnotation" Disambiguator="249" />
		</Element>
		<Element Type="SqlDefaultConstraint" Name="[dbo].[DF_ProductsByTerminals_UpdatedId]">
			<Property Name="DefaultExpressionScript">
				<Value><![CDATA[(NULL)]]></Value>
			</Property>
			<Relationship Name="DefiningTable">
				<Entry>
					<References Name="[dbo].[TerminalByProducts]" />
				</Entry>
			</Relationship>
			<Relationship Name="ForColumn">
				<Entry>
					<References Name="[dbo].[TerminalByProducts].[UpdatedId]" />
				</Entry>
			</Relationship>
			<Annotation Type="SqlInlineConstraintAnnotation" Disambiguator="250" />
		</Element>
		<Element Type="SqlDefaultConstraint" Name="[dbo].[DF_QuantityMTByProducts_Creation]">
			<Property Name="DefaultExpressionScript">
				<Value><![CDATA[(getdate())]]></Value>
			</Property>
			<Relationship Name="DefiningTable">
				<Entry>
					<References Name="[dbo].[QuantityMTByProducts]" />
				</Entry>
			</Relationship>
			<Relationship Name="ForColumn">
				<Entry>
					<References Name="[dbo].[QuantityMTByProducts].[Creation]" />
				</Entry>
			</Relationship>
			<Annotation Type="SqlInlineConstraintAnnotation" Disambiguator="251" />
		</Element>
		<Element Type="SqlDefaultConstraint" Name="[dbo].[DF_QuantityMTByProducts_IsActive]">
			<Property Name="DefaultExpressionScript">
				<Value><![CDATA[((1))]]></Value>
			</Property>
			<Relationship Name="DefiningTable">
				<Entry>
					<References Name="[dbo].[QuantityMTByProducts]" />
				</Entry>
			</Relationship>
			<Relationship Name="ForColumn">
				<Entry>
					<References Name="[dbo].[QuantityMTByProducts].[IsActive]" />
				</Entry>
			</Relationship>
			<Annotation Type="SqlInlineConstraintAnnotation" Disambiguator="252" />
		</Element>
		<Element Type="SqlDefaultConstraint" Name="[dbo].[DF_QuantityMTByProducts_Token]">
			<Property Name="DefaultExpressionScript">
				<Value><![CDATA[(newid())]]></Value>
			</Property>
			<Relationship Name="DefiningTable">
				<Entry>
					<References Name="[dbo].[QuantityMTByProducts]" />
				</Entry>
			</Relationship>
			<Relationship Name="ForColumn">
				<Entry>
					<References Name="[dbo].[QuantityMTByProducts].[Token]" />
				</Entry>
			</Relationship>
			<Annotation Type="SqlInlineConstraintAnnotation" Disambiguator="253" />
		</Element>
		<Element Type="SqlDefaultConstraint" Name="[dbo].[DF_QuantityMTByProducts_Updated]">
			<Property Name="DefaultExpressionScript">
				<Value><![CDATA[(NULL)]]></Value>
			</Property>
			<Relationship Name="DefiningTable">
				<Entry>
					<References Name="[dbo].[QuantityMTByProducts]" />
				</Entry>
			</Relationship>
			<Relationship Name="ForColumn">
				<Entry>
					<References Name="[dbo].[QuantityMTByProducts].[Updated]" />
				</Entry>
			</Relationship>
			<Annotation Type="SqlInlineConstraintAnnotation" Disambiguator="254" />
		</Element>
		<Element Type="SqlDefaultConstraint" Name="[dbo].[DF_QuantityMTByProducts_UpdatedId]">
			<Property Name="DefaultExpressionScript">
				<Value><![CDATA[(NULL)]]></Value>
			</Property>
			<Relationship Name="DefiningTable">
				<Entry>
					<References Name="[dbo].[QuantityMTByProducts]" />
				</Entry>
			</Relationship>
			<Relationship Name="ForColumn">
				<Entry>
					<References Name="[dbo].[QuantityMTByProducts].[UpdatedId]" />
				</Entry>
			</Relationship>
			<Annotation Type="SqlInlineConstraintAnnotation" Disambiguator="255" />
		</Element>
		<Element Type="SqlDefaultConstraint" Name="[dbo].[DF_RankConceptRate_Creation]">
			<Property Name="DefaultExpressionScript">
				<Value><![CDATA[(NULL)]]></Value>
			</Property>
			<Relationship Name="DefiningTable">
				<Entry>
					<References Name="[dbo].[RankConceptRate]" />
				</Entry>
			</Relationship>
			<Relationship Name="ForColumn">
				<Entry>
					<References Name="[dbo].[RankConceptRate].[Creation]" />
				</Entry>
			</Relationship>
			<Annotation Type="SqlInlineConstraintAnnotation" Disambiguator="256" />
		</Element>
		<Element Type="SqlDefaultConstraint" Name="[dbo].[DF_RankConceptRate_IsActive]">
			<Property Name="DefaultExpressionScript">
				<Value><![CDATA[((1))]]></Value>
			</Property>
			<Relationship Name="DefiningTable">
				<Entry>
					<References Name="[dbo].[RankConceptRate]" />
				</Entry>
			</Relationship>
			<Relationship Name="ForColumn">
				<Entry>
					<References Name="[dbo].[RankConceptRate].[IsActive]" />
				</Entry>
			</Relationship>
			<Annotation Type="SqlInlineConstraintAnnotation" Disambiguator="257" />
		</Element>
		<Element Type="SqlDefaultConstraint" Name="[dbo].[DF_RankConceptRate_Token]">
			<Property Name="DefaultExpressionScript">
				<Value><![CDATA[(newid())]]></Value>
			</Property>
			<Relationship Name="DefiningTable">
				<Entry>
					<References Name="[dbo].[RankConceptRate]" />
				</Entry>
			</Relationship>
			<Relationship Name="ForColumn">
				<Entry>
					<References Name="[dbo].[RankConceptRate].[Token]" />
				</Entry>
			</Relationship>
			<Annotation Type="SqlInlineConstraintAnnotation" Disambiguator="258" />
		</Element>
		<Element Type="SqlDefaultConstraint" Name="[dbo].[DF_RankConceptRate_Updated]">
			<Property Name="DefaultExpressionScript">
				<Value><![CDATA[(NULL)]]></Value>
			</Property>
			<Relationship Name="DefiningTable">
				<Entry>
					<References Name="[dbo].[RankConceptRate]" />
				</Entry>
			</Relationship>
			<Relationship Name="ForColumn">
				<Entry>
					<References Name="[dbo].[RankConceptRate].[Updated]" />
				</Entry>
			</Relationship>
			<Annotation Type="SqlInlineConstraintAnnotation" Disambiguator="259" />
		</Element>
		<Element Type="SqlDefaultConstraint" Name="[dbo].[DF_RankConceptRate_UpdatedId]">
			<Property Name="DefaultExpressionScript">
				<Value><![CDATA[(NULL)]]></Value>
			</Property>
			<Relationship Name="DefiningTable">
				<Entry>
					<References Name="[dbo].[RankConceptRate]" />
				</Entry>
			</Relationship>
			<Relationship Name="ForColumn">
				<Entry>
					<References Name="[dbo].[RankConceptRate].[UpdatedId]" />
				</Entry>
			</Relationship>
			<Annotation Type="SqlInlineConstraintAnnotation" Disambiguator="260" />
		</Element>
		<Element Type="SqlDefaultConstraint" Name="[dbo].[DF_RankRateTerminals_Creation]">
			<Property Name="DefaultExpressionScript">
				<Value><![CDATA[(NULL)]]></Value>
			</Property>
			<Relationship Name="DefiningTable">
				<Entry>
					<References Name="[dbo].[RankRateTerminals]" />
				</Entry>
			</Relationship>
			<Relationship Name="ForColumn">
				<Entry>
					<References Name="[dbo].[RankRateTerminals].[Creation]" />
				</Entry>
			</Relationship>
			<Annotation Type="SqlInlineConstraintAnnotation" Disambiguator="261" />
		</Element>
		<Element Type="SqlDefaultConstraint" Name="[dbo].[DF_RankRateTerminals_IsActive]">
			<Property Name="DefaultExpressionScript">
				<Value><![CDATA[((1))]]></Value>
			</Property>
			<Relationship Name="DefiningTable">
				<Entry>
					<References Name="[dbo].[RankRateTerminals]" />
				</Entry>
			</Relationship>
			<Relationship Name="ForColumn">
				<Entry>
					<References Name="[dbo].[RankRateTerminals].[IsActive]" />
				</Entry>
			</Relationship>
			<Annotation Type="SqlInlineConstraintAnnotation" Disambiguator="262" />
		</Element>
		<Element Type="SqlDefaultConstraint" Name="[dbo].[DF_RankRateTerminals_Token]">
			<Property Name="DefaultExpressionScript">
				<Value><![CDATA[(newid())]]></Value>
			</Property>
			<Relationship Name="DefiningTable">
				<Entry>
					<References Name="[dbo].[RankRateTerminals]" />
				</Entry>
			</Relationship>
			<Relationship Name="ForColumn">
				<Entry>
					<References Name="[dbo].[RankRateTerminals].[Token]" />
				</Entry>
			</Relationship>
			<Annotation Type="SqlInlineConstraintAnnotation" Disambiguator="263" />
		</Element>
		<Element Type="SqlDefaultConstraint" Name="[dbo].[DF_RankRateTerminals_Updated]">
			<Property Name="DefaultExpressionScript">
				<Value><![CDATA[(NULL)]]></Value>
			</Property>
			<Relationship Name="DefiningTable">
				<Entry>
					<References Name="[dbo].[RankRateTerminals]" />
				</Entry>
			</Relationship>
			<Relationship Name="ForColumn">
				<Entry>
					<References Name="[dbo].[RankRateTerminals].[Updated]" />
				</Entry>
			</Relationship>
			<Annotation Type="SqlInlineConstraintAnnotation" Disambiguator="264" />
		</Element>
		<Element Type="SqlDefaultConstraint" Name="[dbo].[DF_RankRateTerminals_UpdatedId]">
			<Property Name="DefaultExpressionScript">
				<Value><![CDATA[(NULL)]]></Value>
			</Property>
			<Relationship Name="DefiningTable">
				<Entry>
					<References Name="[dbo].[RankRateTerminals]" />
				</Entry>
			</Relationship>
			<Relationship Name="ForColumn">
				<Entry>
					<References Name="[dbo].[RankRateTerminals].[UpdatedId]" />
				</Entry>
			</Relationship>
			<Annotation Type="SqlInlineConstraintAnnotation" Disambiguator="265" />
		</Element>
		<Element Type="SqlDefaultConstraint" Name="[dbo].[DF_RequestForServices_Creation]">
			<Property Name="DefaultExpressionScript">
				<Value><![CDATA[(NULL)]]></Value>
			</Property>
			<Relationship Name="DefiningTable">
				<Entry>
					<References Name="[dbo].[RequestForServices]" />
				</Entry>
			</Relationship>
			<Relationship Name="ForColumn">
				<Entry>
					<References Name="[dbo].[RequestForServices].[Creation]" />
				</Entry>
			</Relationship>
			<Annotation Type="SqlInlineConstraintAnnotation" Disambiguator="266" />
		</Element>
		<Element Type="SqlDefaultConstraint" Name="[dbo].[DF_RequestForServices_IsActive]">
			<Property Name="DefaultExpressionScript">
				<Value><![CDATA[((1))]]></Value>
			</Property>
			<Relationship Name="DefiningTable">
				<Entry>
					<References Name="[dbo].[RequestForServices]" />
				</Entry>
			</Relationship>
			<Relationship Name="ForColumn">
				<Entry>
					<References Name="[dbo].[RequestForServices].[IsActive]" />
				</Entry>
			</Relationship>
			<Annotation Type="SqlInlineConstraintAnnotation" Disambiguator="267" />
		</Element>
		<Element Type="SqlDefaultConstraint" Name="[dbo].[DF_RequestForServices_Token]">
			<Property Name="DefaultExpressionScript">
				<Value><![CDATA[(newid())]]></Value>
			</Property>
			<Relationship Name="DefiningTable">
				<Entry>
					<References Name="[dbo].[RequestForServices]" />
				</Entry>
			</Relationship>
			<Relationship Name="ForColumn">
				<Entry>
					<References Name="[dbo].[RequestForServices].[Token]" />
				</Entry>
			</Relationship>
			<Annotation Type="SqlInlineConstraintAnnotation" Disambiguator="268" />
		</Element>
		<Element Type="SqlDefaultConstraint" Name="[dbo].[DF_RequestForServices_UpdatedId]">
			<Property Name="DefaultExpressionScript">
				<Value><![CDATA[(NULL)]]></Value>
			</Property>
			<Relationship Name="DefiningTable">
				<Entry>
					<References Name="[dbo].[RequestForServices]" />
				</Entry>
			</Relationship>
			<Relationship Name="ForColumn">
				<Entry>
					<References Name="[dbo].[RequestForServices].[UpdatedId]" />
				</Entry>
			</Relationship>
			<Annotation Type="SqlInlineConstraintAnnotation" Disambiguator="269" />
		</Element>
		<Element Type="SqlDefaultConstraint" Name="[dbo].[DF_SchedulerRequestByVesselForRecalculate_Creation]">
			<Property Name="DefaultExpressionScript">
				<Value><![CDATA[(getdate())]]></Value>
			</Property>
			<Relationship Name="DefiningTable">
				<Entry>
					<References Name="[dbo].[SchedulerRequestByVesselForRecalculate]" />
				</Entry>
			</Relationship>
			<Relationship Name="ForColumn">
				<Entry>
					<References Name="[dbo].[SchedulerRequestByVesselForRecalculate].[Creation]" />
				</Entry>
			</Relationship>
			<Annotation Type="SqlInlineConstraintAnnotation" Disambiguator="270" />
		</Element>
		<Element Type="SqlDefaultConstraint" Name="[dbo].[DF_ServiceLiquidations_Creation]">
			<Property Name="DefaultExpressionScript">
				<Value><![CDATA[(NULL)]]></Value>
			</Property>
			<Relationship Name="DefiningTable">
				<Entry>
					<References Name="[dbo].[ServiceLiquidations]" />
				</Entry>
			</Relationship>
			<Relationship Name="ForColumn">
				<Entry>
					<References Name="[dbo].[ServiceLiquidations].[Creation]" />
				</Entry>
			</Relationship>
			<Annotation Type="SqlInlineConstraintAnnotation" Disambiguator="271" />
		</Element>
		<Element Type="SqlDefaultConstraint" Name="[dbo].[DF_ServiceLiquidations_IsActive]">
			<Property Name="DefaultExpressionScript">
				<Value><![CDATA[((1))]]></Value>
			</Property>
			<Relationship Name="DefiningTable">
				<Entry>
					<References Name="[dbo].[ServiceLiquidations]" />
				</Entry>
			</Relationship>
			<Relationship Name="ForColumn">
				<Entry>
					<References Name="[dbo].[ServiceLiquidations].[IsActive]" />
				</Entry>
			</Relationship>
			<Annotation Type="SqlInlineConstraintAnnotation" Disambiguator="272" />
		</Element>
		<Element Type="SqlDefaultConstraint" Name="[dbo].[DF_ServiceLiquidations_Token]">
			<Property Name="DefaultExpressionScript">
				<Value><![CDATA[(newid())]]></Value>
			</Property>
			<Relationship Name="DefiningTable">
				<Entry>
					<References Name="[dbo].[ServiceLiquidations]" />
				</Entry>
			</Relationship>
			<Relationship Name="ForColumn">
				<Entry>
					<References Name="[dbo].[ServiceLiquidations].[Token]" />
				</Entry>
			</Relationship>
			<Annotation Type="SqlInlineConstraintAnnotation" Disambiguator="273" />
		</Element>
		<Element Type="SqlDefaultConstraint" Name="[dbo].[DF_ServiceLiquidations_Updated]">
			<Property Name="DefaultExpressionScript">
				<Value><![CDATA[(NULL)]]></Value>
			</Property>
			<Relationship Name="DefiningTable">
				<Entry>
					<References Name="[dbo].[ServiceLiquidations]" />
				</Entry>
			</Relationship>
			<Relationship Name="ForColumn">
				<Entry>
					<References Name="[dbo].[ServiceLiquidations].[Updated]" />
				</Entry>
			</Relationship>
			<Annotation Type="SqlInlineConstraintAnnotation" Disambiguator="274" />
		</Element>
		<Element Type="SqlDefaultConstraint" Name="[dbo].[DF_ServiceLiquidations_UpdatedId]">
			<Property Name="DefaultExpressionScript">
				<Value><![CDATA[(NULL)]]></Value>
			</Property>
			<Relationship Name="DefiningTable">
				<Entry>
					<References Name="[dbo].[ServiceLiquidations]" />
				</Entry>
			</Relationship>
			<Relationship Name="ForColumn">
				<Entry>
					<References Name="[dbo].[ServiceLiquidations].[UpdatedId]" />
				</Entry>
			</Relationship>
			<Annotation Type="SqlInlineConstraintAnnotation" Disambiguator="275" />
		</Element>
		<Element Type="SqlDefaultConstraint" Name="[dbo].[DF_StowageFactorByProducts_Creation]">
			<Property Name="DefaultExpressionScript">
				<Value><![CDATA[(getdate())]]></Value>
			</Property>
			<Relationship Name="DefiningTable">
				<Entry>
					<References Name="[dbo].[StowageFactorByProducts]" />
				</Entry>
			</Relationship>
			<Relationship Name="ForColumn">
				<Entry>
					<References Name="[dbo].[StowageFactorByProducts].[Creation]" />
				</Entry>
			</Relationship>
			<Annotation Type="SqlInlineConstraintAnnotation" Disambiguator="276" />
		</Element>
		<Element Type="SqlDefaultConstraint" Name="[dbo].[DF_StowageFactorByProducts_IsActive]">
			<Property Name="DefaultExpressionScript">
				<Value><![CDATA[((1))]]></Value>
			</Property>
			<Relationship Name="DefiningTable">
				<Entry>
					<References Name="[dbo].[StowageFactorByProducts]" />
				</Entry>
			</Relationship>
			<Relationship Name="ForColumn">
				<Entry>
					<References Name="[dbo].[StowageFactorByProducts].[IsActive]" />
				</Entry>
			</Relationship>
			<Annotation Type="SqlInlineConstraintAnnotation" Disambiguator="277" />
		</Element>
		<Element Type="SqlDefaultConstraint" Name="[dbo].[DF_StowageFactorByProducts_Token]">
			<Property Name="DefaultExpressionScript">
				<Value><![CDATA[(newid())]]></Value>
			</Property>
			<Relationship Name="DefiningTable">
				<Entry>
					<References Name="[dbo].[StowageFactorByProducts]" />
				</Entry>
			</Relationship>
			<Relationship Name="ForColumn">
				<Entry>
					<References Name="[dbo].[StowageFactorByProducts].[Token]" />
				</Entry>
			</Relationship>
			<Annotation Type="SqlInlineConstraintAnnotation" Disambiguator="278" />
		</Element>
		<Element Type="SqlDefaultConstraint" Name="[dbo].[DF_StowageFactorByProducts_Updated]">
			<Property Name="DefaultExpressionScript">
				<Value><![CDATA[(NULL)]]></Value>
			</Property>
			<Relationship Name="DefiningTable">
				<Entry>
					<References Name="[dbo].[StowageFactorByProducts]" />
				</Entry>
			</Relationship>
			<Relationship Name="ForColumn">
				<Entry>
					<References Name="[dbo].[StowageFactorByProducts].[Updated]" />
				</Entry>
			</Relationship>
			<Annotation Type="SqlInlineConstraintAnnotation" Disambiguator="279" />
		</Element>
		<Element Type="SqlDefaultConstraint" Name="[dbo].[DF_StowageFactorByProducts_UpdatedId]">
			<Property Name="DefaultExpressionScript">
				<Value><![CDATA[(NULL)]]></Value>
			</Property>
			<Relationship Name="DefiningTable">
				<Entry>
					<References Name="[dbo].[StowageFactorByProducts]" />
				</Entry>
			</Relationship>
			<Relationship Name="ForColumn">
				<Entry>
					<References Name="[dbo].[StowageFactorByProducts].[UpdatedId]" />
				</Entry>
			</Relationship>
			<Annotation Type="SqlInlineConstraintAnnotation" Disambiguator="280" />
		</Element>
		<Element Type="SqlDefaultConstraint" Name="[dbo].[DF_Table_1_Quantity]">
			<Property Name="DefaultExpressionScript">
				<Value><![CDATA[(NULL)]]></Value>
			</Property>
			<Relationship Name="DefiningTable">
				<Entry>
					<References Name="[dbo].[Products]" />
				</Entry>
			</Relationship>
			<Relationship Name="ForColumn">
				<Entry>
					<References Name="[dbo].[Products].[Description]" />
				</Entry>
			</Relationship>
			<Annotation Type="SqlInlineConstraintAnnotation" Disambiguator="281" />
		</Element>
		<Element Type="SqlTable" Name="[dbo].[DistanceBetweenPorts]">
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Relationship Name="Columns">
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[DistanceBetweenPorts].[Id]">
						<Property Name="IsNullable" Value="False" />
						<Property Name="IsIdentity" Value="True" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[DistanceBetweenPorts].[Token]">
						<Property Name="IsNullable" Value="False" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[uniqueidentifier]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
						<AttachedAnnotation Disambiguator="221" />
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[DistanceBetweenPorts].[InputPortId]">
						<Property Name="IsNullable" Value="False" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[DistanceBetweenPorts].[OutPutPortId]">
						<Property Name="IsNullable" Value="False" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[DistanceBetweenPorts].[Interval]">
						<Property Name="IsNullable" Value="False" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Property Name="Precision" Value="53" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[float]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[DistanceBetweenPorts].[Updated]">
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[datetime]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[DistanceBetweenPorts].[Created]">
						<Property Name="IsNullable" Value="False" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[datetime]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
						<AttachedAnnotation Disambiguator="219" />
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[DistanceBetweenPorts].[IsActive]">
						<Property Name="IsNullable" Value="False" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[bit]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
						<AttachedAnnotation Disambiguator="220" />
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[DistanceBetweenPorts].[UpdatedId]">
						<Property Name="IsNullable" Value="False" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[DistanceBetweenPorts].[HourCanalPanama]">
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Property Name="Precision" Value="53" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[float]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="Schema">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<Annotation Type="SqlInlineConstraintAnnotation" Disambiguator="282" />
		</Element>
		<Element Type="SqlForeignKeyConstraint" Name="[dbo].[FK_Appprofilesmenus_Appmenus]">
			<Relationship Name="Columns">
				<Entry>
					<References Name="[dbo].[AppProfilesMenus].[MenuId]" />
				</Entry>
			</Relationship>
			<Relationship Name="DefiningTable">
				<Entry>
					<References Name="[dbo].[AppProfilesMenus]" />
				</Entry>
			</Relationship>
			<Relationship Name="ForeignColumns">
				<Entry>
					<References Name="[dbo].[AppMenus].[MenuId]" />
				</Entry>
			</Relationship>
			<Relationship Name="ForeignTable">
				<Entry>
					<References Name="[dbo].[AppMenus]" />
				</Entry>
			</Relationship>
			<AttachedAnnotation Disambiguator="68" />
		</Element>
		<Element Type="SqlForeignKeyConstraint" Name="[dbo].[FK_Appprofilesmenus_Appprofiles]">
			<Relationship Name="Columns">
				<Entry>
					<References Name="[dbo].[AppProfilesMenus].[ProfileId]" />
				</Entry>
			</Relationship>
			<Relationship Name="DefiningTable">
				<Entry>
					<References Name="[dbo].[AppProfilesMenus]" />
				</Entry>
			</Relationship>
			<Relationship Name="ForeignColumns">
				<Entry>
					<References Name="[dbo].[AppProfiles].[ProfileId]" />
				</Entry>
			</Relationship>
			<Relationship Name="ForeignTable">
				<Entry>
					<References Name="[dbo].[AppProfiles]" />
				</Entry>
			</Relationship>
			<AttachedAnnotation Disambiguator="69" />
		</Element>
		<Element Type="SqlForeignKeyConstraint" Name="[dbo].[FK_Appusers_Appprofiles]">
			<Relationship Name="Columns">
				<Entry>
					<References Name="[dbo].[AppUsers].[ProfileId]" />
				</Entry>
			</Relationship>
			<Relationship Name="DefiningTable">
				<Entry>
					<References Name="[dbo].[AppUsers]" />
				</Entry>
			</Relationship>
			<Relationship Name="ForeignColumns">
				<Entry>
					<References Name="[dbo].[AppProfiles].[ProfileId]" />
				</Entry>
			</Relationship>
			<Relationship Name="ForeignTable">
				<Entry>
					<References Name="[dbo].[AppProfiles]" />
				</Entry>
			</Relationship>
			<AttachedAnnotation Disambiguator="90" />
		</Element>
		<Element Type="SqlForeignKeyConstraint" Name="[dbo].[FK_Cities_Countries]">
			<Relationship Name="Columns">
				<Entry>
					<References Name="[dbo].[Cities].[CountryId]" />
				</Entry>
			</Relationship>
			<Relationship Name="DefiningTable">
				<Entry>
					<References Name="[dbo].[Cities]" />
				</Entry>
			</Relationship>
			<Relationship Name="ForeignColumns">
				<Entry>
					<References Name="[dbo].[Countries].[CountryId]" />
				</Entry>
			</Relationship>
			<Relationship Name="ForeignTable">
				<Entry>
					<References Name="[dbo].[Countries]" />
				</Entry>
			</Relationship>
			<AttachedAnnotation Disambiguator="102" />
		</Element>
		<Element Type="SqlForeignKeyConstraint" Name="[dbo].[FK_PropertyValueTerminals_PropertyTerminal]">
			<Relationship Name="Columns">
				<Entry>
					<References Name="[dbo].[PropertyValueTerminals].[PropertyTerminalId]" />
				</Entry>
			</Relationship>
			<Relationship Name="DefiningTable">
				<Entry>
					<References Name="[dbo].[PropertyValueTerminals]" />
				</Entry>
			</Relationship>
			<Relationship Name="ForeignColumns">
				<Entry>
					<References Name="[dbo].[PropertyTerminal].[PropertyTerminalId]" />
				</Entry>
			</Relationship>
			<Relationship Name="ForeignTable">
				<Entry>
					<References Name="[dbo].[PropertyTerminal]" />
				</Entry>
			</Relationship>
			<Annotation Type="SqlInlineConstraintAnnotation" Disambiguator="283" />
		</Element>
		<Element Type="SqlForeignKeyConstraint" Name="[dbo].[FK_PropertyValueTerminals_Terminals]">
			<Relationship Name="Columns">
				<Entry>
					<References Name="[dbo].[PropertyValueTerminals].[TerminalId]" />
				</Entry>
			</Relationship>
			<Relationship Name="DefiningTable">
				<Entry>
					<References Name="[dbo].[PropertyValueTerminals]" />
				</Entry>
			</Relationship>
			<Relationship Name="ForeignColumns">
				<Entry>
					<References Name="[dbo].[Terminals].[Id]" />
				</Entry>
			</Relationship>
			<Relationship Name="ForeignTable">
				<Entry>
					<References Name="[dbo].[Terminals]" />
				</Entry>
			</Relationship>
			<Annotation Type="SqlInlineConstraintAnnotation" Disambiguator="284" />
		</Element>
		<Element Type="SqlForeignKeyConstraint" Name="[dbo].[FK_PropertyValueVessel_PropertyVessel]">
			<Relationship Name="Columns">
				<Entry>
					<References Name="[dbo].[PropertyValueVessel].[PropertyVesselId]" />
				</Entry>
			</Relationship>
			<Relationship Name="DefiningTable">
				<Entry>
					<References Name="[dbo].[PropertyValueVessel]" />
				</Entry>
			</Relationship>
			<Relationship Name="ForeignColumns">
				<Entry>
					<References Name="[dbo].[PropertyVessel].[PropertyVesselId]" />
				</Entry>
			</Relationship>
			<Relationship Name="ForeignTable">
				<Entry>
					<References Name="[dbo].[PropertyVessel]" />
				</Entry>
			</Relationship>
			<Annotation Type="SqlInlineConstraintAnnotation" Disambiguator="285" />
		</Element>
		<Element Type="SqlForeignKeyConstraint" Name="[dbo].[FK_PropertyValueVessel_Vessel]">
			<Relationship Name="Columns">
				<Entry>
					<References Name="[dbo].[PropertyValueVessel].[VesselId]" />
				</Entry>
			</Relationship>
			<Relationship Name="DefiningTable">
				<Entry>
					<References Name="[dbo].[PropertyValueVessel]" />
				</Entry>
			</Relationship>
			<Relationship Name="ForeignColumns">
				<Entry>
					<References Name="[dbo].[Vessel].[Id]" />
				</Entry>
			</Relationship>
			<Relationship Name="ForeignTable">
				<Entry>
					<References Name="[dbo].[Vessel]" />
				</Entry>
			</Relationship>
			<Annotation Type="SqlInlineConstraintAnnotation" Disambiguator="286" />
		</Element>
		<Element Type="SqlForeignKeyConstraint" Name="[dbo].[FK_Terminals_Ports]">
			<Relationship Name="Columns">
				<Entry>
					<References Name="[dbo].[Terminals].[PortId]" />
				</Entry>
			</Relationship>
			<Relationship Name="DefiningTable">
				<Entry>
					<References Name="[dbo].[Terminals]" />
				</Entry>
			</Relationship>
			<Relationship Name="ForeignColumns">
				<Entry>
					<References Name="[dbo].[Ports].[Id]" />
				</Entry>
			</Relationship>
			<Relationship Name="ForeignTable">
				<Entry>
					<References Name="[dbo].[Ports]" />
				</Entry>
			</Relationship>
			<Annotation Type="SqlInlineConstraintAnnotation" Disambiguator="287" />
		</Element>
		<Element Type="SqlScalarFunction" Name="[dbo].[GetNegotiationsOfRequestsForInbox]">
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Relationship Name="BodyDependencies">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[uniqueidentifier]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[NegotiationsOfRequests]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[NegotiationsOfRequests].[Token]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[NegotiationsOfRequests].[ServiceLiquidationId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[GetNegotiationsOfRequestsForInbox].[@ServiceLiquidationId]" />
				</Entry>
			</Relationship>
			<Relationship Name="FunctionBody">
				<Entry>
					<Element Type="SqlScriptFunctionImplementation">
						<Property Name="BodyScript">
							<Value><![CDATA[
BEGIN
	-- Declare the return variable here
	DECLARE @Token uniqueidentifier
	Set @Token=null
	Select @Token=Token 
	From NegotiationsOfRequests 
	Where NegotiationsOfRequests.ServiceLiquidationId=@ServiceLiquidationId

	-- Return the result of the function
	RETURN @Token

END]]></Value>
						</Property>
						<Annotation Type="SysCommentsObjectAnnotation">
							<Property Name="CreateOffset" Value="196" />
							<Property Name="Length" Value="647" />
							<Property Name="StartLine" Value="1" />
							<Property Name="StartColumn" Value="1" />
							<Property Name="HeaderContents" Value="-- =============================================&#xD;&#xA;-- Author:&#x9;&#x9;&lt;Author,,Name&gt;&#xD;&#xA;-- Create date: &lt;Create Date, ,&gt;&#xD;&#xA;-- Description:&#x9;&lt;Description, ,&gt;&#xD;&#xA;-- =============================================&#xD;&#xA;CREATE FUNCTION [dbo].[GetNegotiationsOfRequestsForInbox]&#xD;&#xA;(&#xD;&#xA;&#x9;-- Add the parameters for the function here&#xD;&#xA;&#x9;@ServiceLiquidationId int&#xD;&#xA;)&#xD;&#xA;RETURNS varchar(50)&#xD;&#xA;AS" />
						</Annotation>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="Parameters">
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[GetNegotiationsOfRequestsForInbox].[@ServiceLiquidationId]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="Schema">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<Relationship Name="Type">
				<Entry>
					<Element Type="SqlTypeSpecifier">
						<Property Name="Length" Value="50" />
						<Relationship Name="Type">
							<Entry>
								<References ExternalSource="BuiltIns" Name="[varchar]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
		</Element>
		<Element Type="SqlScalarFunction" Name="[dbo].[GetProfile]">
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Relationship Name="BodyDependencies">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[varchar]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[AppProfiles]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[AppUsers]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[AppUsers].[UserId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[GetProfile].[@UpdatedId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[AppUsers].[ProfileId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[AppProfiles].[ProfileId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[AppProfiles].[Section]" />
				</Entry>
			</Relationship>
			<Relationship Name="FunctionBody">
				<Entry>
					<Element Type="SqlScriptFunctionImplementation">
						<Property Name="BodyScript">
							<Value><![CDATA[
BEGIN
	-- Declare the return variable here
	DECLARE @Section varchar(50) 

	-- Add the T-SQL statements to compute the return value here
	 Select @Section=AppProfiles.Section
	 From AppProfiles
		Inner Join AppUsers On AppUsers.UserId=@UpdatedId and AppUsers.ProfileId=AppProfiles.ProfileId

	-- Return the result of the function
	RETURN @Section

END]]></Value>
						</Property>
						<Annotation Type="SysCommentsObjectAnnotation">
							<Property Name="CreateOffset" Value="196" />
							<Property Name="Length" Value="689" />
							<Property Name="StartLine" Value="1" />
							<Property Name="StartColumn" Value="1" />
							<Property Name="HeaderContents" Value="-- =============================================&#xD;&#xA;-- Author:&#x9;&#x9;&lt;Author,,Name&gt;&#xD;&#xA;-- Create date: &lt;Create Date, ,&gt;&#xD;&#xA;-- Description:&#x9;&lt;Description, ,&gt;&#xD;&#xA;-- =============================================&#xD;&#xA;CREATE FUNCTION [dbo].[GetProfile]&#xD;&#xA;(&#xD;&#xA;&#x9;-- Add the parameters for the function here&#xD;&#xA;&#x9;@UpdatedId int&#xD;&#xA;)&#xD;&#xA;RETURNS varchar(50)&#xD;&#xA;AS" />
						</Annotation>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="Parameters">
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[GetProfile].[@UpdatedId]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="Schema">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<Relationship Name="Type">
				<Entry>
					<Element Type="SqlTypeSpecifier">
						<Property Name="Length" Value="50" />
						<Relationship Name="Type">
							<Entry>
								<References ExternalSource="BuiltIns" Name="[varchar]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
		</Element>
		<Element Type="SqlScalarFunction" Name="[dbo].[GetStatusRequest]">
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Relationship Name="BodyDependencies">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[varchar]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[int]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[ServiceLiquidations]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[ServiceLiquidations].[Status]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[ServiceLiquidations].[RequestForServiceId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[GetStatusRequest].[@RequestForServiceId]" />
				</Entry>
			</Relationship>
			<Relationship Name="DynamicObjects">
				<Entry>
					<Element Type="SqlDynamicColumnSource" Name="[dbo].[GetStatusRequest].[CTE1].[CTEStatusRequest]">
						<Relationship Name="Columns">
							<Entry>
								<Element Type="SqlComputedColumn" Name="[dbo].[GetStatusRequest].[CTE1].[CTEStatusRequest].[Count]" />
							</Entry>
							<Entry>
								<Element Type="SqlComputedColumn" Name="[dbo].[GetStatusRequest].[CTE1].[CTEStatusRequest].[Status]">
									<Relationship Name="ExpressionDependencies">
										<Entry>
											<References Name="[dbo].[ServiceLiquidations].[Status]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
							<Entry>
								<Element Type="SqlComputedColumn" Name="[dbo].[GetStatusRequest].[CTE1].[CTEStatusRequest].[NewStatus]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="FunctionBody">
				<Entry>
					<Element Type="SqlScriptFunctionImplementation">
						<Property Name="BodyScript">
							<Value><![CDATA[
BEGIN
	-- Declare the return variable here
	DECLARE @StatuRequest varchar(25), @CountTotalStatus int

	Select  @CountTotalStatus=Count(Status)
	From ServiceLiquidations
	Where RequestForServiceId=@RequestForServiceId  And Status='REQUEST'

	;With CTEStatusRequest AS (
		Select  Count(Status) as Count,Status,(Case When @CountTotalStatus>=1 and Status='REQUEST' then  'REQUEST'
												When @CountTotalStatus>=1 then  'PARTIAL_ACCEPT' 
												When @CountTotalStatus=0 then 'FULL_ACCEPT' else Status End) as NewStatus
	From ServiceLiquidations
	Where RequestForServiceId=@RequestForServiceId  And Status!='PENDING'
	Group by Status
	)
	 Select Top 1 @StatuRequest=NewStatus 
	 From CTEStatusRequest 
	-- Return the result of the function
	RETURN @StatuRequest

END]]></Value>
						</Property>
						<Annotation Type="SysCommentsObjectAnnotation">
							<Property Name="CreateOffset" Value="196" />
							<Property Name="Length" Value="1089" />
							<Property Name="StartLine" Value="1" />
							<Property Name="StartColumn" Value="1" />
							<Property Name="HeaderContents" Value="-- =============================================&#xD;&#xA;-- Author:&#x9;&#x9;&lt;Author,,Name&gt;&#xD;&#xA;-- Create date: &lt;Create Date, ,&gt;&#xD;&#xA;-- Description:&#x9;&lt;Description, ,&gt;&#xD;&#xA;-- =============================================&#xD;&#xA;CREATE FUNCTION [dbo].[GetStatusRequest]&#xD;&#xA;(&#xD;&#xA;&#x9;@RequestForServiceId int&#xD;&#xA;)&#xD;&#xA;RETURNS varchar(25)&#xD;&#xA;AS" />
						</Annotation>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="Parameters">
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[GetStatusRequest].[@RequestForServiceId]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="Schema">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<Relationship Name="Type">
				<Entry>
					<Element Type="SqlTypeSpecifier">
						<Property Name="Length" Value="25" />
						<Relationship Name="Type">
							<Entry>
								<References ExternalSource="BuiltIns" Name="[varchar]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
		</Element>
		<Element Type="SqlScalarFunction" Name="[dbo].[GetTotalCanalPanama]">
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Relationship Name="BodyDependencies">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[money]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[ItemsLiquidation]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[ItemsLiquidation].[CanalPanama]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[ItemsLiquidation].[VesselId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[GetTotalCanalPanama].[@VesselId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[ItemsLiquidation].[ServiceLiquidationId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[GetTotalCanalPanama].[@ServiceLiquidationId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[ItemsLiquidation].[IsPrice]" />
				</Entry>
			</Relationship>
			<Relationship Name="FunctionBody">
				<Entry>
					<Element Type="SqlScriptFunctionImplementation">
						<Property Name="BodyScript">
							<Value><![CDATA[
BEGIN
	-- Declare the return variable here
	DECLARE @Total money 

	-- Add the T-SQL statements to compute the return value here
	Select @Total=Sum(CanalPanama)
	from ItemsLiquidation 
	Where VesselId=@VesselId And ItemsLiquidation.ServiceLiquidationId=@ServiceLiquidationId And IsPrice=1

	-- Return the result of the function
	RETURN @Total

END]]></Value>
						</Property>
						<Annotation Type="SysCommentsObjectAnnotation">
							<Property Name="CreateOffset" Value="196" />
							<Property Name="Length" Value="716" />
							<Property Name="StartLine" Value="1" />
							<Property Name="StartColumn" Value="1" />
							<Property Name="HeaderContents" Value="-- =============================================&#xD;&#xA;-- Author:&#x9;&#x9;&lt;Author,,Name&gt;&#xD;&#xA;-- Create date: &lt;Create Date, ,&gt;&#xD;&#xA;-- Description:&#x9;&lt;Description, ,&gt;&#xD;&#xA;-- =============================================&#xD;&#xA;Create FUNCTION [dbo].[GetTotalCanalPanama]&#xD;&#xA;(&#xD;&#xA;&#x9;-- Add the parameters for the function here&#xD;&#xA;&#x9;@VesselId int,&#xD;&#xA;&#x9;@ServiceLiquidationId int&#xD;&#xA;)&#xD;&#xA;RETURNS money&#xD;&#xA;AS" />
						</Annotation>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="Parameters">
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[GetTotalCanalPanama].[@VesselId]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[GetTotalCanalPanama].[@ServiceLiquidationId]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="Schema">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<Relationship Name="Type">
				<Entry>
					<Element Type="SqlTypeSpecifier">
						<Relationship Name="Type">
							<Entry>
								<References ExternalSource="BuiltIns" Name="[money]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
		</Element>
		<Element Type="SqlScalarFunction" Name="[dbo].[GetTotalCanalPanamaDischarge]">
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Relationship Name="BodyDependencies">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[money]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[ItemsLiquidation]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[ItemsLiquidation].[CanalPanamaDischarge]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[ItemsLiquidation].[VesselId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[GetTotalCanalPanamaDischarge].[@VesselId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[ItemsLiquidation].[ServiceLiquidationId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[GetTotalCanalPanamaDischarge].[@ServiceLiquidationId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[ItemsLiquidation].[IsPrice]" />
				</Entry>
			</Relationship>
			<Relationship Name="FunctionBody">
				<Entry>
					<Element Type="SqlScriptFunctionImplementation">
						<Property Name="BodyScript">
							<Value><![CDATA[
BEGIN
	-- Declare the return variable here
	DECLARE @Total money 

	-- Add the T-SQL statements to compute the return value here
	Select @Total=Sum(CanalPanamaDischarge)
	from ItemsLiquidation 
	Where VesselId=@VesselId And ItemsLiquidation.ServiceLiquidationId=@ServiceLiquidationId And IsPrice=1

	-- Return the result of the function
	RETURN @Total

END]]></Value>
						</Property>
						<Annotation Type="SysCommentsObjectAnnotation">
							<Property Name="CreateOffset" Value="196" />
							<Property Name="Length" Value="734" />
							<Property Name="StartLine" Value="1" />
							<Property Name="StartColumn" Value="1" />
							<Property Name="HeaderContents" Value="-- =============================================&#xD;&#xA;-- Author:&#x9;&#x9;&lt;Author,,Name&gt;&#xD;&#xA;-- Create date: &lt;Create Date, ,&gt;&#xD;&#xA;-- Description:&#x9;&lt;Description, ,&gt;&#xD;&#xA;-- =============================================&#xD;&#xA;Create FUNCTION [dbo].[GetTotalCanalPanamaDischarge]&#xD;&#xA;(&#xD;&#xA;&#x9;-- Add the parameters for the function here&#xD;&#xA;&#x9;@VesselId int,&#xD;&#xA;&#x9;@ServiceLiquidationId int&#xD;&#xA;)&#xD;&#xA;RETURNS money&#xD;&#xA;AS" />
						</Annotation>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="Parameters">
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[GetTotalCanalPanamaDischarge].[@VesselId]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[GetTotalCanalPanamaDischarge].[@ServiceLiquidationId]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="Schema">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<Relationship Name="Type">
				<Entry>
					<Element Type="SqlTypeSpecifier">
						<Relationship Name="Type">
							<Entry>
								<References ExternalSource="BuiltIns" Name="[money]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
		</Element>
		<Element Type="SqlScalarFunction" Name="[dbo].[GetTotalCurrentPort]">
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Relationship Name="BodyDependencies">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[money]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[ItemsLiquidation]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[ItemsLiquidation].[CurrentPortAtLoadPort]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[ItemsLiquidation].[VesselId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[GetTotalCurrentPort].[@VesselId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[ItemsLiquidation].[ServiceLiquidationId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[GetTotalCurrentPort].[@ServiceLiquidationId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[ItemsLiquidation].[IsPrice]" />
				</Entry>
			</Relationship>
			<Relationship Name="FunctionBody">
				<Entry>
					<Element Type="SqlScriptFunctionImplementation">
						<Property Name="BodyScript">
							<Value><![CDATA[
BEGIN
	-- Declare the return variable here
	DECLARE @Total money 

	-- Add the T-SQL statements to compute the return value here
	Select @Total=Sum(CurrentPortAtLoadPort)
	from ItemsLiquidation 
	Where VesselId=@VesselId And ItemsLiquidation.ServiceLiquidationId=@ServiceLiquidationId And IsPrice=1

	-- Return the result of the function
	RETURN @Total

END]]></Value>
						</Property>
						<Annotation Type="SysCommentsObjectAnnotation">
							<Property Name="CreateOffset" Value="196" />
							<Property Name="Length" Value="726" />
							<Property Name="StartLine" Value="1" />
							<Property Name="StartColumn" Value="1" />
							<Property Name="HeaderContents" Value="-- =============================================&#xD;&#xA;-- Author:&#x9;&#x9;&lt;Author,,Name&gt;&#xD;&#xA;-- Create date: &lt;Create Date, ,&gt;&#xD;&#xA;-- Description:&#x9;&lt;Description, ,&gt;&#xD;&#xA;-- =============================================&#xD;&#xA;Create FUNCTION [dbo].[GetTotalCurrentPort]&#xD;&#xA;(&#xD;&#xA;&#x9;-- Add the parameters for the function here&#xD;&#xA;&#x9;@VesselId int,&#xD;&#xA;&#x9;@ServiceLiquidationId int&#xD;&#xA;)&#xD;&#xA;RETURNS money&#xD;&#xA;AS" />
						</Annotation>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="Parameters">
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[GetTotalCurrentPort].[@VesselId]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[GetTotalCurrentPort].[@ServiceLiquidationId]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="Schema">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<Relationship Name="Type">
				<Entry>
					<Element Type="SqlTypeSpecifier">
						<Relationship Name="Type">
							<Entry>
								<References ExternalSource="BuiltIns" Name="[money]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
		</Element>
		<Element Type="SqlScalarFunction" Name="[dbo].[GetTotalDayVessel]">
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Relationship Name="BodyDependencies">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[money]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[ItemsLiquidation]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[ItemsLiquidation].[CurrentPortAtLoadPort]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[ItemsLiquidation].[LoadingPort]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[ItemsLiquidation].[CanalPanama]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[ItemsLiquidation].[LoadPortAtUnloadingPort]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[ItemsLiquidation].[UnLoadPort]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[ItemsLiquidation].[VesselId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[GetTotalDayVessel].[@VesselId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[ItemsLiquidation].[ServiceLiquidationId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[GetTotalDayVessel].[@ServiceLiquidationId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[ItemsLiquidation].[IsPrice]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[ItemsLiquidation].[Route]" />
				</Entry>
			</Relationship>
			<Relationship Name="FunctionBody">
				<Entry>
					<Element Type="SqlScriptFunctionImplementation">
						<Property Name="BodyScript">
							<Value><![CDATA[
BEGIN
	-- Declare the return variable here
	DECLARE @Total money 

	-- Add the T-SQL statements to compute the return value here
	Select @Total=Sum(CurrentPortAtLoadPort+LoadingPort+CanalPanama+LoadPortAtUnloadingPort+UnLoadPort)
	from ItemsLiquidation 
	Where VesselId=@VesselId and ServiceLiquidationId=@ServiceLiquidationId And IsPrice=0 and Route=RTrim(LTrim('03-HOURS'))

	-- Return the result of the function
	RETURN @Total

END]]></Value>
						</Property>
						<Annotation Type="SysCommentsObjectAnnotation">
							<Property Name="CreateOffset" Value="196" />
							<Property Name="Length" Value="803" />
							<Property Name="StartLine" Value="1" />
							<Property Name="StartColumn" Value="1" />
							<Property Name="HeaderContents" Value="-- =============================================&#xD;&#xA;-- Author:&#x9;&#x9;&lt;Author,,Name&gt;&#xD;&#xA;-- Create date: &lt;Create Date, ,&gt;&#xD;&#xA;-- Description:&#x9;&lt;Description, ,&gt;&#xD;&#xA;-- =============================================&#xD;&#xA;CREATE FUNCTION [dbo].[GetTotalDayVessel]&#xD;&#xA;(&#xD;&#xA;&#x9;-- Add the parameters for the function here&#xD;&#xA;&#x9;@VesselId int,&#xD;&#xA;&#x9;@ServiceLiquidationId int&#xD;&#xA;&#xD;&#xA;)&#xD;&#xA;RETURNS money&#xD;&#xA;AS" />
						</Annotation>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="Parameters">
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[GetTotalDayVessel].[@VesselId]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[GetTotalDayVessel].[@ServiceLiquidationId]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="Schema">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<Relationship Name="Type">
				<Entry>
					<Element Type="SqlTypeSpecifier">
						<Relationship Name="Type">
							<Entry>
								<References ExternalSource="BuiltIns" Name="[money]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
		</Element>
		<Element Type="SqlScalarFunction" Name="[dbo].[GetTotalLoadingPort]">
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Relationship Name="BodyDependencies">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[money]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[ItemsLiquidation]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[ItemsLiquidation].[LoadingPort]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[ItemsLiquidation].[VesselId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[GetTotalLoadingPort].[@VesselId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[ItemsLiquidation].[ServiceLiquidationId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[GetTotalLoadingPort].[@ServiceLiquidationId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[ItemsLiquidation].[IsPrice]" />
				</Entry>
			</Relationship>
			<Relationship Name="FunctionBody">
				<Entry>
					<Element Type="SqlScriptFunctionImplementation">
						<Property Name="BodyScript">
							<Value><![CDATA[
BEGIN
	-- Declare the return variable here
	DECLARE @Total money 

	-- Add the T-SQL statements to compute the return value here
	Select @Total=Sum(LoadingPort)
	from ItemsLiquidation 
	Where VesselId=@VesselId And ItemsLiquidation.ServiceLiquidationId=@ServiceLiquidationId And IsPrice=1

	-- Return the result of the function
	RETURN @Total

END]]></Value>
						</Property>
						<Annotation Type="SysCommentsObjectAnnotation">
							<Property Name="CreateOffset" Value="196" />
							<Property Name="Length" Value="716" />
							<Property Name="StartLine" Value="1" />
							<Property Name="StartColumn" Value="1" />
							<Property Name="HeaderContents" Value="-- =============================================&#xD;&#xA;-- Author:&#x9;&#x9;&lt;Author,,Name&gt;&#xD;&#xA;-- Create date: &lt;Create Date, ,&gt;&#xD;&#xA;-- Description:&#x9;&lt;Description, ,&gt;&#xD;&#xA;-- =============================================&#xD;&#xA;Create FUNCTION [dbo].[GetTotalLoadingPort]&#xD;&#xA;(&#xD;&#xA;&#x9;-- Add the parameters for the function here&#xD;&#xA;&#x9;@VesselId int,&#xD;&#xA;&#x9;@ServiceLiquidationId int&#xD;&#xA;)&#xD;&#xA;RETURNS money&#xD;&#xA;AS" />
						</Annotation>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="Parameters">
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[GetTotalLoadingPort].[@VesselId]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[GetTotalLoadingPort].[@ServiceLiquidationId]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="Schema">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<Relationship Name="Type">
				<Entry>
					<Element Type="SqlTypeSpecifier">
						<Relationship Name="Type">
							<Entry>
								<References ExternalSource="BuiltIns" Name="[money]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
		</Element>
		<Element Type="SqlScalarFunction" Name="[dbo].[GetTotalLoadPortAtUnloadingPort]">
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Relationship Name="BodyDependencies">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[money]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[ItemsLiquidation]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[ItemsLiquidation].[LoadPortAtUnloadingPort]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[ItemsLiquidation].[VesselId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[GetTotalLoadPortAtUnloadingPort].[@VesselId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[ItemsLiquidation].[ServiceLiquidationId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[GetTotalLoadPortAtUnloadingPort].[@ServiceLiquidationId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[ItemsLiquidation].[IsPrice]" />
				</Entry>
			</Relationship>
			<Relationship Name="FunctionBody">
				<Entry>
					<Element Type="SqlScriptFunctionImplementation">
						<Property Name="BodyScript">
							<Value><![CDATA[
BEGIN
	-- Declare the return variable here
	DECLARE @Total money 

	-- Add the T-SQL statements to compute the return value here
	Select @Total=Sum(LoadPortAtUnloadingPort)
	from ItemsLiquidation 
	Where VesselId=@VesselId And ItemsLiquidation.ServiceLiquidationId=@ServiceLiquidationId And IsPrice=1

	-- Return the result of the function
	RETURN @Total

END]]></Value>
						</Property>
						<Annotation Type="SysCommentsObjectAnnotation">
							<Property Name="CreateOffset" Value="196" />
							<Property Name="Length" Value="740" />
							<Property Name="StartLine" Value="1" />
							<Property Name="StartColumn" Value="1" />
							<Property Name="HeaderContents" Value="-- =============================================&#xD;&#xA;-- Author:&#x9;&#x9;&lt;Author,,Name&gt;&#xD;&#xA;-- Create date: &lt;Create Date, ,&gt;&#xD;&#xA;-- Description:&#x9;&lt;Description, ,&gt;&#xD;&#xA;-- =============================================&#xD;&#xA;Create FUNCTION [dbo].[GetTotalLoadPortAtUnloadingPort]&#xD;&#xA;(&#xD;&#xA;&#x9;-- Add the parameters for the function here&#xD;&#xA;&#x9;@VesselId int,&#xD;&#xA;&#x9;@ServiceLiquidationId int&#xD;&#xA;)&#xD;&#xA;RETURNS money&#xD;&#xA;AS" />
						</Annotation>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="Parameters">
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[GetTotalLoadPortAtUnloadingPort].[@VesselId]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[GetTotalLoadPortAtUnloadingPort].[@ServiceLiquidationId]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="Schema">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<Relationship Name="Type">
				<Entry>
					<Element Type="SqlTypeSpecifier">
						<Relationship Name="Type">
							<Entry>
								<References ExternalSource="BuiltIns" Name="[money]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
		</Element>
		<Element Type="SqlScalarFunction" Name="[dbo].[GetTotalUnLoadPort]">
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Relationship Name="BodyDependencies">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[money]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[ItemsLiquidation]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[ItemsLiquidation].[UnLoadPort]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[ItemsLiquidation].[VesselId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[GetTotalUnLoadPort].[@VesselId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[ItemsLiquidation].[ServiceLiquidationId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[GetTotalUnLoadPort].[@ServiceLiquidationId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[ItemsLiquidation].[IsPrice]" />
				</Entry>
			</Relationship>
			<Relationship Name="FunctionBody">
				<Entry>
					<Element Type="SqlScriptFunctionImplementation">
						<Property Name="BodyScript">
							<Value><![CDATA[
BEGIN
	-- Declare the return variable here
	DECLARE @Total money 

	-- Add the T-SQL statements to compute the return value here
	Select @Total=Sum(UnLoadPort)
	from ItemsLiquidation 
	Where VesselId=@VesselId And ItemsLiquidation.ServiceLiquidationId=@ServiceLiquidationId And IsPrice=1

	-- Return the result of the function
	RETURN @Total

END]]></Value>
						</Property>
						<Annotation Type="SysCommentsObjectAnnotation">
							<Property Name="CreateOffset" Value="196" />
							<Property Name="Length" Value="714" />
							<Property Name="StartLine" Value="1" />
							<Property Name="StartColumn" Value="1" />
							<Property Name="HeaderContents" Value="-- =============================================&#xD;&#xA;-- Author:&#x9;&#x9;&lt;Author,,Name&gt;&#xD;&#xA;-- Create date: &lt;Create Date, ,&gt;&#xD;&#xA;-- Description:&#x9;&lt;Description, ,&gt;&#xD;&#xA;-- =============================================&#xD;&#xA;Create FUNCTION [dbo].[GetTotalUnLoadPort]&#xD;&#xA;(&#xD;&#xA;&#x9;-- Add the parameters for the function here&#xD;&#xA;&#x9;@VesselId int,&#xD;&#xA;&#x9;@ServiceLiquidationId int&#xD;&#xA;)&#xD;&#xA;RETURNS money&#xD;&#xA;AS" />
						</Annotation>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="Parameters">
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[GetTotalUnLoadPort].[@VesselId]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[GetTotalUnLoadPort].[@ServiceLiquidationId]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="Schema">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<Relationship Name="Type">
				<Entry>
					<Element Type="SqlTypeSpecifier">
						<Relationship Name="Type">
							<Entry>
								<References ExternalSource="BuiltIns" Name="[money]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
		</Element>
		<Element Type="SqlScalarFunction" Name="[dbo].[GetTotalVessel]">
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Relationship Name="BodyDependencies">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[money]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[ItemsLiquidation]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[ItemsLiquidation].[CurrentPortAtLoadPort]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[ItemsLiquidation].[LoadingPort]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[ItemsLiquidation].[CanalPanama]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[ItemsLiquidation].[LoadPortAtUnloadingPort]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[ItemsLiquidation].[CanalPanamaDischarge]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[ItemsLiquidation].[UnLoadPort]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[ItemsLiquidation].[VesselId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[GetTotalVessel].[@VesselId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[ItemsLiquidation].[ServiceLiquidationId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[GetTotalVessel].[@ServiceLiquidationId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[ItemsLiquidation].[IsPrice]" />
				</Entry>
			</Relationship>
			<Relationship Name="FunctionBody">
				<Entry>
					<Element Type="SqlScriptFunctionImplementation">
						<Property Name="BodyScript">
							<Value><![CDATA[
BEGIN
	-- Declare the return variable here
	DECLARE @Total money 

	-- Add the T-SQL statements to compute the return value here
	Select @Total=Sum(CurrentPortAtLoadPort+LoadingPort+CanalPanama+LoadPortAtUnloadingPort+CanalPanamaDischarge+UnLoadPort)
	from ItemsLiquidation 
	Where VesselId=@VesselId And ItemsLiquidation.ServiceLiquidationId=@ServiceLiquidationId And IsPrice=1

	-- Return the result of the function
	RETURN @Total

END]]></Value>
						</Property>
						<Annotation Type="SysCommentsObjectAnnotation">
							<Property Name="CreateOffset" Value="196" />
							<Property Name="Length" Value="801" />
							<Property Name="StartLine" Value="1" />
							<Property Name="StartColumn" Value="1" />
							<Property Name="HeaderContents" Value="-- =============================================&#xD;&#xA;-- Author:&#x9;&#x9;&lt;Author,,Name&gt;&#xD;&#xA;-- Create date: &lt;Create Date, ,&gt;&#xD;&#xA;-- Description:&#x9;&lt;Description, ,&gt;&#xD;&#xA;-- =============================================&#xD;&#xA;CREATE FUNCTION [dbo].[GetTotalVessel]&#xD;&#xA;(&#xD;&#xA;&#x9;-- Add the parameters for the function here&#xD;&#xA;&#x9;@VesselId int,&#xD;&#xA;&#x9;@ServiceLiquidationId int&#xD;&#xA;)&#xD;&#xA;RETURNS money&#xD;&#xA;AS" />
						</Annotation>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="Parameters">
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[GetTotalVessel].[@VesselId]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[GetTotalVessel].[@ServiceLiquidationId]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="Schema">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<Relationship Name="Type">
				<Entry>
					<Element Type="SqlTypeSpecifier">
						<Relationship Name="Type">
							<Entry>
								<References ExternalSource="BuiltIns" Name="[money]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
		</Element>
		<Element Type="SqlTable" Name="[dbo].[HistoryNegotiationsOfRequests]">
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Relationship Name="Columns">
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[HistoryNegotiationsOfRequests].[Id]">
						<Property Name="IsNullable" Value="False" />
						<Property Name="IsIdentity" Value="True" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[HistoryNegotiationsOfRequests].[Token]">
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[uniqueidentifier]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
						<AttachedAnnotation Disambiguator="223" />
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[HistoryNegotiationsOfRequests].[NegotiationsOfRequestId]">
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[HistoryNegotiationsOfRequests].[Observation]">
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Property Name="IsMax" Value="True" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[varchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[HistoryNegotiationsOfRequests].[IsModify]">
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[bit]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[HistoryNegotiationsOfRequests].[IsActive]">
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[bit]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[HistoryNegotiationsOfRequests].[Creation]">
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[datetime]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
						<AttachedAnnotation Disambiguator="222" />
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[HistoryNegotiationsOfRequests].[Updated]">
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[datetime]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
						<AttachedAnnotation Disambiguator="224" />
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="Schema">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<Annotation Type="SqlInlineConstraintAnnotation" Disambiguator="288" />
		</Element>
		<Element Type="SqlTable" Name="[dbo].[ItemsLiquidation]">
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Relationship Name="Columns">
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[ItemsLiquidation].[Id]">
						<Property Name="IsNullable" Value="False" />
						<Property Name="IsIdentity" Value="True" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[ItemsLiquidation].[Token]">
						<Property Name="IsNullable" Value="False" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[uniqueidentifier]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
						<AttachedAnnotation Disambiguator="227" />
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[ItemsLiquidation].[ServiceLiquidationId]">
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[ItemsLiquidation].[Route]">
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Property Name="Length" Value="250" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[varchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[ItemsLiquidation].[VesselId]">
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[ItemsLiquidation].[CurrentPortAtLoadPort]">
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[money]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[ItemsLiquidation].[LoadingPort]">
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[money]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[ItemsLiquidation].[CanalPanama]">
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[money]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[ItemsLiquidation].[LoadPortAtUnloadingPort]">
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[money]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[ItemsLiquidation].[UnLoadPort]">
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[money]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[ItemsLiquidation].[IsPrice]">
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[ItemsLiquidation].[Creation]">
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[datetime]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
						<AttachedAnnotation Disambiguator="225" />
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[ItemsLiquidation].[Updated]">
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[datetime]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
						<AttachedAnnotation Disambiguator="228" />
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[ItemsLiquidation].[IsActive]">
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[bit]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
						<AttachedAnnotation Disambiguator="226" />
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[ItemsLiquidation].[UpdatedId]">
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
						<AttachedAnnotation Disambiguator="229" />
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[ItemsLiquidation].[CurrentPortId]">
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[ItemsLiquidation].[LoadingPortId]">
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[ItemsLiquidation].[UnLoadingPortId]">
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[ItemsLiquidation].[Type]">
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Property Name="Length" Value="50" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[varchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[ItemsLiquidation].[CanalPanamaDischarge]">
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Property Name="Precision" Value="53" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[float]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[ItemsLiquidation].[IsCurrentPort]">
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[bit]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
						<AttachedAnnotation Disambiguator="5" />
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[ItemsLiquidation].[ValueLoadingCondition]">
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[money]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
						<AttachedAnnotation Disambiguator="6" />
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[ItemsLiquidation].[ValueUnLoadingCondition]">
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[money]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
						<AttachedAnnotation Disambiguator="7" />
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[ItemsLiquidation].[VesselSpeed]">
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Property Name="Precision" Value="53" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[float]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
						<AttachedAnnotation Disambiguator="8" />
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[ItemsLiquidation].[VesselCapacity]">
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Property Name="Precision" Value="53" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[float]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
						<AttachedAnnotation Disambiguator="9" />
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[ItemsLiquidation].[VesselIfoConsumed]">
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[money]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
						<AttachedAnnotation Disambiguator="10" />
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[ItemsLiquidation].[VesselMgoConsumed]">
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[money]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
						<AttachedAnnotation Disambiguator="11" />
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[ItemsLiquidation].[RateLoading]">
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[money]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
						<AttachedAnnotation Disambiguator="12" />
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[ItemsLiquidation].[CurrentFirstInterval]">
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Property Name="Precision" Value="53" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[float]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
						<AttachedAnnotation Disambiguator="13" />
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[ItemsLiquidation].[HourCanalPanama]">
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Property Name="Precision" Value="53" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[float]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
						<AttachedAnnotation Disambiguator="14" />
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[ItemsLiquidation].[DayCurrentPortAtLoadPort]">
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Property Name="Precision" Value="53" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[float]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
						<AttachedAnnotation Disambiguator="15" />
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[ItemsLiquidation].[Quantity]">
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Property Name="Precision" Value="53" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[float]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
						<AttachedAnnotation Disambiguator="16" />
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[ItemsLiquidation].[LoadingRate]">
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[money]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
						<AttachedAnnotation Disambiguator="17" />
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[ItemsLiquidation].[DayLoadingPort]">
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Property Name="Precision" Value="53" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[float]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
						<AttachedAnnotation Disambiguator="18" />
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[ItemsLiquidation].[DayCanalPanama]">
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Property Name="Precision" Value="53" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[float]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
						<AttachedAnnotation Disambiguator="19" />
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[ItemsLiquidation].[DayLoadPortAtUnloadingPort]">
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Property Name="Precision" Value="53" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[float]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
						<AttachedAnnotation Disambiguator="20" />
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[ItemsLiquidation].[DayCanalPanamaDischarge]">
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Property Name="Precision" Value="53" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[float]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
						<AttachedAnnotation Disambiguator="21" />
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[ItemsLiquidation].[DayUnLoadingPort]">
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Property Name="Precision" Value="53" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[float]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
						<AttachedAnnotation Disambiguator="22" />
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[ItemsLiquidation].[IfoLoadPort]">
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Property Name="Precision" Value="53" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[float]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
						<AttachedAnnotation Disambiguator="23" />
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[ItemsLiquidation].[MgoLoadPort]">
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Property Name="Precision" Value="53" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[float]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
						<AttachedAnnotation Disambiguator="24" />
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[ItemsLiquidation].[IfoUnLoadPort]">
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Property Name="Precision" Value="53" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[float]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
						<AttachedAnnotation Disambiguator="25" />
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[ItemsLiquidation].[MgoUnLoadPort]">
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Property Name="Precision" Value="53" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[float]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
						<AttachedAnnotation Disambiguator="26" />
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[ItemsLiquidation].[RateUnLoading]">
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[money]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
						<AttachedAnnotation Disambiguator="27" />
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[ItemsLiquidation].[CurrentInterval]">
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Property Name="Precision" Value="53" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[float]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
						<AttachedAnnotation Disambiguator="28" />
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[ItemsLiquidation].[UnLoadingRate]">
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[money]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
						<AttachedAnnotation Disambiguator="29" />
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[ItemsLiquidation].[RateLoadTerminal]">
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Property Name="Precision" Value="53" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[float]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
						<AttachedAnnotation Disambiguator="30" />
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[ItemsLiquidation].[RateChargeTerminal]">
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Property Name="Precision" Value="53" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[float]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
						<AttachedAnnotation Disambiguator="31" />
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="Schema">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<Annotation Type="SqlInlineConstraintAnnotation" Disambiguator="289" />
		</Element>
		<Element Type="SqlTable" Name="[dbo].[NegotiationsOfRequests]">
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Relationship Name="Columns">
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[NegotiationsOfRequests].[Id]">
						<Property Name="IsNullable" Value="False" />
						<Property Name="IsIdentity" Value="True" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[NegotiationsOfRequests].[ServiceLiquidationId]">
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[NegotiationsOfRequests].[Token]">
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[uniqueidentifier]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
						<AttachedAnnotation Disambiguator="231" />
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[NegotiationsOfRequests].[Status]">
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Property Name="Length" Value="25" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[varchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[NegotiationsOfRequests].[NextAction]">
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Property Name="Length" Value="25" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[varchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[NegotiationsOfRequests].[IsActive]">
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[bit]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[NegotiationsOfRequests].[UpdatedId]">
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[NegotiationsOfRequests].[Creation]">
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[datetime]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
						<AttachedAnnotation Disambiguator="230" />
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[NegotiationsOfRequests].[Updated]">
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[datetime]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
						<AttachedAnnotation Disambiguator="232" />
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="Schema">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<Annotation Type="SqlInlineConstraintAnnotation" Disambiguator="290" />
		</Element>
		<Element Type="SqlPrimaryKeyConstraint" Name="[dbo].[PK__Conditio__3214EC07D0B3A11A]">
			<Relationship Name="ColumnSpecifications">
				<Entry>
					<Element Type="SqlIndexedColumnSpecification">
						<Relationship Name="Column">
							<Entry>
								<References Name="[dbo].[Conditions].[Id]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="DefiningTable">
				<Entry>
					<References Name="[dbo].[Conditions]" />
				</Entry>
			</Relationship>
			<AttachedAnnotation Disambiguator="119" />
		</Element>
		<Element Type="SqlPrimaryKeyConstraint" Name="[dbo].[PK__Ports__3214EC078307D29B]">
			<Relationship Name="ColumnSpecifications">
				<Entry>
					<Element Type="SqlIndexedColumnSpecification">
						<Relationship Name="Column">
							<Entry>
								<References Name="[dbo].[Ports].[Id]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="DefiningTable">
				<Entry>
					<References Name="[dbo].[Ports]" />
				</Entry>
			</Relationship>
			<Annotation Type="SqlInlineConstraintAnnotation" Disambiguator="291" />
		</Element>
		<Element Type="SqlPrimaryKeyConstraint" Name="[dbo].[PK__ProductT__3214EC0763D5BA31]">
			<Relationship Name="ColumnSpecifications">
				<Entry>
					<Element Type="SqlIndexedColumnSpecification">
						<Relationship Name="Column">
							<Entry>
								<References Name="[dbo].[Types].[Id]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="DefiningTable">
				<Entry>
					<References Name="[dbo].[Types]" />
				</Entry>
			</Relationship>
			<Annotation Type="SqlInlineConstraintAnnotation" Disambiguator="292" />
		</Element>
		<Element Type="SqlPrimaryKeyConstraint" Name="[dbo].[PK__Property__3214EC07471E5FA4]">
			<Relationship Name="ColumnSpecifications">
				<Entry>
					<Element Type="SqlIndexedColumnSpecification">
						<Relationship Name="Column">
							<Entry>
								<References Name="[dbo].[PropertyVessel].[PropertyVesselId]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="DefiningTable">
				<Entry>
					<References Name="[dbo].[PropertyVessel]" />
				</Entry>
			</Relationship>
			<Annotation Type="SqlInlineConstraintAnnotation" Disambiguator="293" />
		</Element>
		<Element Type="SqlPrimaryKeyConstraint" Name="[dbo].[PK__Property__3214EC077EA2C989]">
			<Relationship Name="ColumnSpecifications">
				<Entry>
					<Element Type="SqlIndexedColumnSpecification">
						<Relationship Name="Column">
							<Entry>
								<References Name="[dbo].[PropertyTerminal].[PropertyTerminalId]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="DefiningTable">
				<Entry>
					<References Name="[dbo].[PropertyTerminal]" />
				</Entry>
			</Relationship>
			<Annotation Type="SqlInlineConstraintAnnotation" Disambiguator="294" />
		</Element>
		<Element Type="SqlPrimaryKeyConstraint" Name="[dbo].[PK__Property__3214EC07D4274B9B]">
			<Relationship Name="ColumnSpecifications">
				<Entry>
					<Element Type="SqlIndexedColumnSpecification">
						<Relationship Name="Column">
							<Entry>
								<References Name="[dbo].[PropertyValueTerminals].[PropertyValueTerminalId]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="DefiningTable">
				<Entry>
					<References Name="[dbo].[PropertyValueTerminals]" />
				</Entry>
			</Relationship>
			<Annotation Type="SqlInlineConstraintAnnotation" Disambiguator="295" />
		</Element>
		<Element Type="SqlPrimaryKeyConstraint" Name="[dbo].[PK__Property__3214EC07F6D2462D]">
			<Relationship Name="ColumnSpecifications">
				<Entry>
					<Element Type="SqlIndexedColumnSpecification">
						<Relationship Name="Column">
							<Entry>
								<References Name="[dbo].[PropertyValueVessel].[PropertyValueVesselId]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="DefiningTable">
				<Entry>
					<References Name="[dbo].[PropertyValueVessel]" />
				</Entry>
			</Relationship>
			<Annotation Type="SqlInlineConstraintAnnotation" Disambiguator="296" />
		</Element>
		<Element Type="SqlPrimaryKeyConstraint" Name="[dbo].[PK__Quantity__3214EC0765506316]">
			<Relationship Name="ColumnSpecifications">
				<Entry>
					<Element Type="SqlIndexedColumnSpecification">
						<Relationship Name="Column">
							<Entry>
								<References Name="[dbo].[QuantityMT].[Id]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="DefiningTable">
				<Entry>
					<References Name="[dbo].[QuantityMT]" />
				</Entry>
			</Relationship>
			<Annotation Type="SqlInlineConstraintAnnotation" Disambiguator="297" />
		</Element>
		<Element Type="SqlPrimaryKeyConstraint" Name="[dbo].[PK__Terminal__3214EC073BCB9D5A]">
			<Relationship Name="ColumnSpecifications">
				<Entry>
					<Element Type="SqlIndexedColumnSpecification">
						<Relationship Name="Column">
							<Entry>
								<References Name="[dbo].[Terminals].[Id]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="DefiningTable">
				<Entry>
					<References Name="[dbo].[Terminals]" />
				</Entry>
			</Relationship>
			<Annotation Type="SqlInlineConstraintAnnotation" Disambiguator="298" />
		</Element>
		<Element Type="SqlPrimaryKeyConstraint" Name="[dbo].[PK__Toleranc__3214EC07D195E9E3]">
			<Relationship Name="ColumnSpecifications">
				<Entry>
					<Element Type="SqlIndexedColumnSpecification">
						<Relationship Name="Column">
							<Entry>
								<References Name="[dbo].[Tolerance].[Id]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="DefiningTable">
				<Entry>
					<References Name="[dbo].[Tolerance]" />
				</Entry>
			</Relationship>
			<Annotation Type="SqlInlineConstraintAnnotation" Disambiguator="299" />
		</Element>
		<Element Type="SqlPrimaryKeyConstraint" Name="[dbo].[PK__Vessel__3214EC074E5D2BD9]">
			<Relationship Name="ColumnSpecifications">
				<Entry>
					<Element Type="SqlIndexedColumnSpecification">
						<Relationship Name="Column">
							<Entry>
								<References Name="[dbo].[Vessel].[Id]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="DefiningTable">
				<Entry>
					<References Name="[dbo].[Vessel]" />
				</Entry>
			</Relationship>
			<Annotation Type="SqlInlineConstraintAnnotation" Disambiguator="300" />
		</Element>
		<Element Type="SqlPrimaryKeyConstraint" Name="[dbo].[PK_AppAccessUsers_1]">
			<Relationship Name="ColumnSpecifications">
				<Entry>
					<Element Type="SqlIndexedColumnSpecification">
						<Relationship Name="Column">
							<Entry>
								<References Name="[dbo].[AppAccessUsers].[UserAcces]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="DefiningTable">
				<Entry>
					<References Name="[dbo].[AppAccessUsers]" />
				</Entry>
			</Relationship>
			<AttachedAnnotation Disambiguator="34" />
		</Element>
		<Element Type="SqlPrimaryKeyConstraint" Name="[dbo].[PK_AppConfigurationSendEmail]">
			<Relationship Name="ColumnSpecifications">
				<Entry>
					<Element Type="SqlIndexedColumnSpecification">
						<Relationship Name="Column">
							<Entry>
								<References Name="[dbo].[AppConfigurationSmtp].[ConfigurationSmtpId]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="DefiningTable">
				<Entry>
					<References Name="[dbo].[AppConfigurationSmtp]" />
				</Entry>
			</Relationship>
			<AttachedAnnotation Disambiguator="39" />
		</Element>
		<Element Type="SqlPrimaryKeyConstraint" Name="[dbo].[PK_AppEmailBody]">
			<Relationship Name="ColumnSpecifications">
				<Entry>
					<Element Type="SqlIndexedColumnSpecification">
						<Relationship Name="Column">
							<Entry>
								<References Name="[dbo].[AppEmailBody].[EmailToId]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="DefiningTable">
				<Entry>
					<References Name="[dbo].[AppEmailBody]" />
				</Entry>
			</Relationship>
			<AttachedAnnotation Disambiguator="44" />
		</Element>
		<Element Type="SqlPrimaryKeyConstraint" Name="[dbo].[PK_AppHistoryTimeline]">
			<Relationship Name="ColumnSpecifications">
				<Entry>
					<Element Type="SqlIndexedColumnSpecification">
						<Relationship Name="Column">
							<Entry>
								<References Name="[dbo].[AppHistoryTimeline].[historyId]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="DefiningTable">
				<Entry>
					<References Name="[dbo].[AppHistoryTimeline]" />
				</Entry>
			</Relationship>
			<AttachedAnnotation Disambiguator="47" />
		</Element>
		<Element Type="SqlPrimaryKeyConstraint" Name="[dbo].[PK_Appmenus]">
			<Relationship Name="ColumnSpecifications">
				<Entry>
					<Element Type="SqlIndexedColumnSpecification">
						<Relationship Name="Column">
							<Entry>
								<References Name="[dbo].[AppMenus].[MenuId]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="DefiningTable">
				<Entry>
					<References Name="[dbo].[AppMenus]" />
				</Entry>
			</Relationship>
			<AttachedAnnotation Disambiguator="52" />
		</Element>
		<Element Type="SqlPrimaryKeyConstraint" Name="[dbo].[PK_AppMessageLog]">
			<Relationship Name="ColumnSpecifications">
				<Entry>
					<Element Type="SqlIndexedColumnSpecification">
						<Relationship Name="Column">
							<Entry>
								<References Name="[dbo].[AppMessageLog].[MessageId]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="DefiningTable">
				<Entry>
					<References Name="[dbo].[AppMessageLog]" />
				</Entry>
			</Relationship>
			<AttachedAnnotation Disambiguator="54" />
		</Element>
		<Element Type="SqlPrimaryKeyConstraint" Name="[dbo].[PK_Appparameters]">
			<Relationship Name="ColumnSpecifications">
				<Entry>
					<Element Type="SqlIndexedColumnSpecification">
						<Relationship Name="Column">
							<Entry>
								<References Name="[dbo].[AppParameters].[ParameterId]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="DefiningTable">
				<Entry>
					<References Name="[dbo].[AppParameters]" />
				</Entry>
			</Relationship>
			<AttachedAnnotation Disambiguator="58" />
		</Element>
		<Element Type="SqlPrimaryKeyConstraint" Name="[dbo].[PK_Appprofiles]">
			<Relationship Name="ColumnSpecifications">
				<Entry>
					<Element Type="SqlIndexedColumnSpecification">
						<Relationship Name="Column">
							<Entry>
								<References Name="[dbo].[AppProfiles].[ProfileId]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="DefiningTable">
				<Entry>
					<References Name="[dbo].[AppProfiles]" />
				</Entry>
			</Relationship>
			<AttachedAnnotation Disambiguator="63" />
		</Element>
		<Element Type="SqlPrimaryKeyConstraint" Name="[dbo].[PK_Appprofilesmenus]">
			<Relationship Name="ColumnSpecifications">
				<Entry>
					<Element Type="SqlIndexedColumnSpecification">
						<Relationship Name="Column">
							<Entry>
								<References Name="[dbo].[AppProfilesMenus].[ProfileMenuId]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="DefiningTable">
				<Entry>
					<References Name="[dbo].[AppProfilesMenus]" />
				</Entry>
			</Relationship>
			<AttachedAnnotation Disambiguator="67" />
		</Element>
		<Element Type="SqlPrimaryKeyConstraint" Name="[dbo].[PK_AppSendEmail]">
			<Relationship Name="ColumnSpecifications">
				<Entry>
					<Element Type="SqlIndexedColumnSpecification">
						<Relationship Name="Column">
							<Entry>
								<References Name="[dbo].[AppSendEmail].[EntityId]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="DefiningTable">
				<Entry>
					<References Name="[dbo].[AppSendEmail]" />
				</Entry>
			</Relationship>
			<AttachedAnnotation Disambiguator="73" />
		</Element>
		<Element Type="SqlPrimaryKeyConstraint" Name="[dbo].[PK_Appsessions]">
			<Relationship Name="ColumnSpecifications">
				<Entry>
					<Element Type="SqlIndexedColumnSpecification">
						<Relationship Name="Column">
							<Entry>
								<References Name="[dbo].[AppSessions].[Session]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="DefiningTable">
				<Entry>
					<References Name="[dbo].[AppSessions]" />
				</Entry>
			</Relationship>
			<AttachedAnnotation Disambiguator="78" />
		</Element>
		<Element Type="SqlPrimaryKeyConstraint" Name="[dbo].[PK_AppUploads]">
			<Relationship Name="ColumnSpecifications">
				<Entry>
					<Element Type="SqlIndexedColumnSpecification">
						<Relationship Name="Column">
							<Entry>
								<References Name="[dbo].[AppUploads].[UploadId]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="DefiningTable">
				<Entry>
					<References Name="[dbo].[AppUploads]" />
				</Entry>
			</Relationship>
			<AttachedAnnotation Disambiguator="82" />
		</Element>
		<Element Type="SqlPrimaryKeyConstraint" Name="[dbo].[PK_Appusers]">
			<Relationship Name="ColumnSpecifications">
				<Entry>
					<Element Type="SqlIndexedColumnSpecification">
						<Relationship Name="Column">
							<Entry>
								<References Name="[dbo].[AppUsers].[UserId]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="DefiningTable">
				<Entry>
					<References Name="[dbo].[AppUsers]" />
				</Entry>
			</Relationship>
			<AttachedAnnotation Disambiguator="89" />
		</Element>
		<Element Type="SqlPrimaryKeyConstraint" Name="[dbo].[PK_AvailableOpenVessels]">
			<Relationship Name="ColumnSpecifications">
				<Entry>
					<Element Type="SqlIndexedColumnSpecification">
						<Relationship Name="Column">
							<Entry>
								<References Name="[dbo].[AvailableOpenVessels].[Id]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="DefiningTable">
				<Entry>
					<References Name="[dbo].[AvailableOpenVessels]" />
				</Entry>
			</Relationship>
			<AttachedAnnotation Disambiguator="96" />
		</Element>
		<Element Type="SqlPrimaryKeyConstraint" Name="[dbo].[PK_City]">
			<Relationship Name="ColumnSpecifications">
				<Entry>
					<Element Type="SqlIndexedColumnSpecification">
						<Relationship Name="Column">
							<Entry>
								<References Name="[dbo].[Cities].[CityId]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="DefiningTable">
				<Entry>
					<References Name="[dbo].[Cities]" />
				</Entry>
			</Relationship>
			<AttachedAnnotation Disambiguator="101" />
		</Element>
		<Element Type="SqlPrimaryKeyConstraint" Name="[dbo].[PK_Clauses]">
			<Relationship Name="ColumnSpecifications">
				<Entry>
					<Element Type="SqlIndexedColumnSpecification">
						<Relationship Name="Column">
							<Entry>
								<References Name="[dbo].[Clauses].[Id]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="DefiningTable">
				<Entry>
					<References Name="[dbo].[Clauses]" />
				</Entry>
			</Relationship>
			<AttachedAnnotation Disambiguator="105" />
		</Element>
		<Element Type="SqlPrimaryKeyConstraint" Name="[dbo].[PK_ConditionByPorts]">
			<Relationship Name="ColumnSpecifications">
				<Entry>
					<Element Type="SqlIndexedColumnSpecification">
						<Relationship Name="Column">
							<Entry>
								<References Name="[dbo].[ConditionByPorts].[Id]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="DefiningTable">
				<Entry>
					<References Name="[dbo].[ConditionByPorts]" />
				</Entry>
			</Relationship>
			<AttachedAnnotation Disambiguator="111" />
		</Element>
		<Element Type="SqlPrimaryKeyConstraint" Name="[dbo].[PK_Contract]">
			<Relationship Name="ColumnSpecifications">
				<Entry>
					<Element Type="SqlIndexedColumnSpecification">
						<Relationship Name="Column">
							<Entry>
								<References Name="[dbo].[Contract].[Id]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="DefiningTable">
				<Entry>
					<References Name="[dbo].[Contract]" />
				</Entry>
			</Relationship>
			<AttachedAnnotation Disambiguator="122" />
		</Element>
		<Element Type="SqlPrimaryKeyConstraint" Name="[dbo].[PK_ContractClauses]">
			<Relationship Name="ColumnSpecifications">
				<Entry>
					<Element Type="SqlIndexedColumnSpecification">
						<Relationship Name="Column">
							<Entry>
								<References Name="[dbo].[ContractClauses].[Id]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="DefiningTable">
				<Entry>
					<References Name="[dbo].[ContractClauses]" />
				</Entry>
			</Relationship>
			<AttachedAnnotation Disambiguator="125" />
		</Element>
		<Element Type="SqlPrimaryKeyConstraint" Name="[dbo].[PK_Countries]">
			<Relationship Name="ColumnSpecifications">
				<Entry>
					<Element Type="SqlIndexedColumnSpecification">
						<Relationship Name="Column">
							<Entry>
								<References Name="[dbo].[Countries].[CountryId]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="DefiningTable">
				<Entry>
					<References Name="[dbo].[Countries]" />
				</Entry>
			</Relationship>
			<AttachedAnnotation Disambiguator="130" />
		</Element>
		<Element Type="SqlPrimaryKeyConstraint" Name="[dbo].[PK_DetailNegotiationsOfRequests]">
			<Relationship Name="ColumnSpecifications">
				<Entry>
					<Element Type="SqlIndexedColumnSpecification">
						<Relationship Name="Column">
							<Entry>
								<References Name="[dbo].[DetailNegotiationsOfRequests].[Id]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="DefiningTable">
				<Entry>
					<References Name="[dbo].[DetailNegotiationsOfRequests]" />
				</Entry>
			</Relationship>
			<AttachedAnnotation Disambiguator="134" />
		</Element>
		<Element Type="SqlPrimaryKeyConstraint" Name="[dbo].[PK_DistanceBetweenPorts]">
			<Relationship Name="ColumnSpecifications">
				<Entry>
					<Element Type="SqlIndexedColumnSpecification">
						<Relationship Name="Column">
							<Entry>
								<References Name="[dbo].[DistanceBetweenPorts].[Id]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="DefiningTable">
				<Entry>
					<References Name="[dbo].[DistanceBetweenPorts]" />
				</Entry>
			</Relationship>
			<AttachedAnnotation Disambiguator="282" />
		</Element>
		<Element Type="SqlPrimaryKeyConstraint" Name="[dbo].[PK_HistoryNegotiationsOfRequests]">
			<Relationship Name="ColumnSpecifications">
				<Entry>
					<Element Type="SqlIndexedColumnSpecification">
						<Relationship Name="Column">
							<Entry>
								<References Name="[dbo].[HistoryNegotiationsOfRequests].[Id]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="DefiningTable">
				<Entry>
					<References Name="[dbo].[HistoryNegotiationsOfRequests]" />
				</Entry>
			</Relationship>
			<AttachedAnnotation Disambiguator="288" />
		</Element>
		<Element Type="SqlPrimaryKeyConstraint" Name="[dbo].[PK_ItemsLiquidation]">
			<Relationship Name="ColumnSpecifications">
				<Entry>
					<Element Type="SqlIndexedColumnSpecification">
						<Relationship Name="Column">
							<Entry>
								<References Name="[dbo].[ItemsLiquidation].[Id]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="DefiningTable">
				<Entry>
					<References Name="[dbo].[ItemsLiquidation]" />
				</Entry>
			</Relationship>
			<AttachedAnnotation Disambiguator="289" />
		</Element>
		<Element Type="SqlPrimaryKeyConstraint" Name="[dbo].[PK_NegotiationsOfRequests]">
			<Relationship Name="ColumnSpecifications">
				<Entry>
					<Element Type="SqlIndexedColumnSpecification">
						<Relationship Name="Column">
							<Entry>
								<References Name="[dbo].[NegotiationsOfRequests].[Id]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="DefiningTable">
				<Entry>
					<References Name="[dbo].[NegotiationsOfRequests]" />
				</Entry>
			</Relationship>
			<AttachedAnnotation Disambiguator="290" />
		</Element>
		<Element Type="SqlPrimaryKeyConstraint" Name="[dbo].[PK_ProductByVessels]">
			<Relationship Name="ColumnSpecifications">
				<Entry>
					<Element Type="SqlIndexedColumnSpecification">
						<Relationship Name="Column">
							<Entry>
								<References Name="[dbo].[ProductByVessels].[Id]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="DefiningTable">
				<Entry>
					<References Name="[dbo].[ProductByVessels]" />
				</Entry>
			</Relationship>
			<Annotation Type="SqlInlineConstraintAnnotation" Disambiguator="301" />
		</Element>
		<Element Type="SqlPrimaryKeyConstraint" Name="[dbo].[PK_Products]">
			<Relationship Name="ColumnSpecifications">
				<Entry>
					<Element Type="SqlIndexedColumnSpecification">
						<Relationship Name="Column">
							<Entry>
								<References Name="[dbo].[Products].[Id]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="DefiningTable">
				<Entry>
					<References Name="[dbo].[Products]" />
				</Entry>
			</Relationship>
			<Annotation Type="SqlInlineConstraintAnnotation" Disambiguator="302" />
		</Element>
		<Element Type="SqlPrimaryKeyConstraint" Name="[dbo].[PK_ProductsByTerminals]">
			<Relationship Name="ColumnSpecifications">
				<Entry>
					<Element Type="SqlIndexedColumnSpecification">
						<Relationship Name="Column">
							<Entry>
								<References Name="[dbo].[TerminalByProducts].[Id]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="DefiningTable">
				<Entry>
					<References Name="[dbo].[TerminalByProducts]" />
				</Entry>
			</Relationship>
			<Annotation Type="SqlInlineConstraintAnnotation" Disambiguator="303" />
		</Element>
		<Element Type="SqlPrimaryKeyConstraint" Name="[dbo].[PK_QuantityMTByProducts]">
			<Relationship Name="ColumnSpecifications">
				<Entry>
					<Element Type="SqlIndexedColumnSpecification">
						<Relationship Name="Column">
							<Entry>
								<References Name="[dbo].[QuantityMTByProducts].[Id]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="DefiningTable">
				<Entry>
					<References Name="[dbo].[QuantityMTByProducts]" />
				</Entry>
			</Relationship>
			<Annotation Type="SqlInlineConstraintAnnotation" Disambiguator="304" />
		</Element>
		<Element Type="SqlPrimaryKeyConstraint" Name="[dbo].[PK_RankConceptRate]">
			<Relationship Name="ColumnSpecifications">
				<Entry>
					<Element Type="SqlIndexedColumnSpecification">
						<Relationship Name="Column">
							<Entry>
								<References Name="[dbo].[RankConceptRate].[Id]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="DefiningTable">
				<Entry>
					<References Name="[dbo].[RankConceptRate]" />
				</Entry>
			</Relationship>
			<Annotation Type="SqlInlineConstraintAnnotation" Disambiguator="305" />
		</Element>
		<Element Type="SqlPrimaryKeyConstraint" Name="[dbo].[PK_RankRateTerminals]">
			<Relationship Name="ColumnSpecifications">
				<Entry>
					<Element Type="SqlIndexedColumnSpecification">
						<Relationship Name="Column">
							<Entry>
								<References Name="[dbo].[RankRateTerminals].[Id]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="DefiningTable">
				<Entry>
					<References Name="[dbo].[RankRateTerminals]" />
				</Entry>
			</Relationship>
			<Annotation Type="SqlInlineConstraintAnnotation" Disambiguator="306" />
		</Element>
		<Element Type="SqlPrimaryKeyConstraint" Name="[dbo].[PK_RequestForServices]">
			<Relationship Name="ColumnSpecifications">
				<Entry>
					<Element Type="SqlIndexedColumnSpecification">
						<Relationship Name="Column">
							<Entry>
								<References Name="[dbo].[RequestForServices].[Id]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="DefiningTable">
				<Entry>
					<References Name="[dbo].[RequestForServices]" />
				</Entry>
			</Relationship>
			<Annotation Type="SqlInlineConstraintAnnotation" Disambiguator="307" />
		</Element>
		<Element Type="SqlPrimaryKeyConstraint" Name="[dbo].[PK_SchedulerRequestByVesselForRecalculate]">
			<Relationship Name="ColumnSpecifications">
				<Entry>
					<Element Type="SqlIndexedColumnSpecification">
						<Relationship Name="Column">
							<Entry>
								<References Name="[dbo].[SchedulerRequestByVesselForRecalculate].[Id]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="DefiningTable">
				<Entry>
					<References Name="[dbo].[SchedulerRequestByVesselForRecalculate]" />
				</Entry>
			</Relationship>
			<Annotation Type="SqlInlineConstraintAnnotation" Disambiguator="308" />
		</Element>
		<Element Type="SqlPrimaryKeyConstraint" Name="[dbo].[PK_ServiceLiquidations]">
			<Relationship Name="ColumnSpecifications">
				<Entry>
					<Element Type="SqlIndexedColumnSpecification">
						<Relationship Name="Column">
							<Entry>
								<References Name="[dbo].[ServiceLiquidations].[Id]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="DefiningTable">
				<Entry>
					<References Name="[dbo].[ServiceLiquidations]" />
				</Entry>
			</Relationship>
			<Annotation Type="SqlInlineConstraintAnnotation" Disambiguator="309" />
		</Element>
		<Element Type="SqlPrimaryKeyConstraint" Name="[dbo].[PK_StowageFactorByProducts]">
			<Relationship Name="ColumnSpecifications">
				<Entry>
					<Element Type="SqlIndexedColumnSpecification">
						<Relationship Name="Column">
							<Entry>
								<References Name="[dbo].[StowageFactorByProducts].[Id]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="DefiningTable">
				<Entry>
					<References Name="[dbo].[StowageFactorByProducts]" />
				</Entry>
			</Relationship>
			<Annotation Type="SqlInlineConstraintAnnotation" Disambiguator="310" />
		</Element>
		<Element Type="SqlPrimaryKeyConstraint" Name="[dbo].[PK_StowageFactors]">
			<Relationship Name="ColumnSpecifications">
				<Entry>
					<Element Type="SqlIndexedColumnSpecification">
						<Relationship Name="Column">
							<Entry>
								<References Name="[dbo].[StowageFactors].[Id]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="DefiningTable">
				<Entry>
					<References Name="[dbo].[StowageFactors]" />
				</Entry>
			</Relationship>
			<Annotation Type="SqlInlineConstraintAnnotation" Disambiguator="311" />
		</Element>
		<Element Type="SqlTable" Name="[dbo].[Ports]">
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Relationship Name="Columns">
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[Ports].[Id]">
						<Property Name="IsNullable" Value="False" />
						<Property Name="IsIdentity" Value="True" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[Ports].[Token]">
						<Property Name="IsNullable" Value="False" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[uniqueidentifier]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
						<AttachedAnnotation Disambiguator="138" />
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[Ports].[Name]">
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Property Name="Length" Value="25" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[varchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
						<AttachedAnnotation Disambiguator="140" />
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[Ports].[Address]">
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Property Name="Length" Value="200" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[varchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
						<AttachedAnnotation Disambiguator="135" />
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[Ports].[Phone]">
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Property Name="Length" Value="50" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[varchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
						<AttachedAnnotation Disambiguator="141" />
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[Ports].[City]">
						<Property Name="IsNullable" Value="False" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
						<AttachedAnnotation Disambiguator="136" />
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[Ports].[Ifo]">
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[money]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
						<AttachedAnnotation Disambiguator="233" />
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[Ports].[Mgo]">
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[money]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
						<AttachedAnnotation Disambiguator="234" />
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[Ports].[Terms]">
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Property Name="IsMax" Value="True" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[varchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[Ports].[Creation]">
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[datetime]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
						<AttachedAnnotation Disambiguator="137" />
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[Ports].[Updated]">
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[datetime]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
						<AttachedAnnotation Disambiguator="142" />
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[Ports].[IsActive]">
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[bit]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
						<AttachedAnnotation Disambiguator="139" />
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[Ports].[UpdatedId]">
						<Property Name="IsNullable" Value="False" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
						<AttachedAnnotation Disambiguator="143" />
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="Schema">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<AttachedAnnotation Disambiguator="291" />
		</Element>
		<Element Type="SqlIndex" Name="[dbo].[Ports].[IX_Ports]">
			<Property Name="IsUnique" Value="True" />
			<Relationship Name="ColumnSpecifications">
				<Entry>
					<Element Type="SqlIndexedColumnSpecification">
						<Relationship Name="Column">
							<Entry>
								<References Name="[dbo].[Ports].[Name]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="IndexedObject">
				<Entry>
					<References Name="[dbo].[Ports]" />
				</Entry>
			</Relationship>
		</Element>
		<Element Type="SqlTable" Name="[dbo].[ProductByVessels]">
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Relationship Name="Columns">
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[ProductByVessels].[Id]">
						<Property Name="IsNullable" Value="False" />
						<Property Name="IsIdentity" Value="True" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[ProductByVessels].[Token]">
						<Property Name="IsNullable" Value="False" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[uniqueidentifier]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
						<AttachedAnnotation Disambiguator="237" />
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[ProductByVessels].[VesselId]">
						<Property Name="IsNullable" Value="False" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[ProductByVessels].[ProductId]">
						<Property Name="IsNullable" Value="False" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[ProductByVessels].[Creation]">
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[datetime]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
						<AttachedAnnotation Disambiguator="235" />
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[ProductByVessels].[Updated]">
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[datetime]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
						<AttachedAnnotation Disambiguator="238" />
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[ProductByVessels].[IsActive]">
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[bit]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
						<AttachedAnnotation Disambiguator="236" />
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[ProductByVessels].[UpdatedId]">
						<Property Name="IsNullable" Value="False" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
						<AttachedAnnotation Disambiguator="239" />
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="Schema">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<AttachedAnnotation Disambiguator="301" />
		</Element>
		<Element Type="SqlTable" Name="[dbo].[Products]">
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Relationship Name="Columns">
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[Products].[Id]">
						<Property Name="IsNullable" Value="False" />
						<Property Name="IsIdentity" Value="True" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[Products].[Token]">
						<Property Name="IsNullable" Value="False" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[uniqueidentifier]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
						<AttachedAnnotation Disambiguator="243" />
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[Products].[Name]">
						<Property Name="IsNullable" Value="False" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Property Name="Length" Value="50" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[varchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
						<AttachedAnnotation Disambiguator="242" />
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[Products].[Description]">
						<Property Name="IsNullable" Value="False" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Property Name="Length" Value="450" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[varchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
						<AttachedAnnotation Disambiguator="281" />
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[Products].[Measure]">
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Property Name="Length" Value="50" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[varchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[Products].[MeasureQuantity]">
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Property Name="Length" Value="50" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[varchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[Products].[TypeId]">
						<Property Name="IsNullable" Value="False" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[Products].[Creation]">
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[datetime]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
						<AttachedAnnotation Disambiguator="240" />
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[Products].[Updated]">
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[datetime]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
						<AttachedAnnotation Disambiguator="244" />
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[Products].[IsActive]">
						<Property Name="IsNullable" Value="False" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[bit]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
						<AttachedAnnotation Disambiguator="241" />
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[Products].[UpdatedId]">
						<Property Name="IsNullable" Value="False" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
						<AttachedAnnotation Disambiguator="245" />
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="Schema">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<AttachedAnnotation Disambiguator="302" />
		</Element>
		<Element Type="SqlIndex" Name="[dbo].[Products].[IX_Products]">
			<Property Name="IsUnique" Value="True" />
			<Relationship Name="ColumnSpecifications">
				<Entry>
					<Element Type="SqlIndexedColumnSpecification">
						<Relationship Name="Column">
							<Entry>
								<References Name="[dbo].[Products].[Name]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="IndexedObject">
				<Entry>
					<References Name="[dbo].[Products]" />
				</Entry>
			</Relationship>
		</Element>
		<Element Type="SqlTable" Name="[dbo].[PropertyTerminal]">
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Relationship Name="Columns">
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[PropertyTerminal].[PropertyTerminalId]">
						<Property Name="IsNullable" Value="False" />
						<Property Name="IsIdentity" Value="True" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[PropertyTerminal].[Token]">
						<Property Name="IsNullable" Value="False" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[uniqueidentifier]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
						<AttachedAnnotation Disambiguator="157" />
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[PropertyTerminal].[Name]">
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Property Name="Length" Value="25" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[varchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
						<AttachedAnnotation Disambiguator="156" />
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[PropertyTerminal].[Code]">
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Property Name="Length" Value="15" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[varchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
						<AttachedAnnotation Disambiguator="155" />
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[PropertyTerminal].[Creation]">
						<Property Name="IsNullable" Value="False" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[datetime]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
						<AttachedAnnotation Disambiguator="151" />
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[PropertyTerminal].[Updated]">
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[datetime]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
						<AttachedAnnotation Disambiguator="153" />
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[PropertyTerminal].[IsActive]">
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[bit]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
						<AttachedAnnotation Disambiguator="152" />
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[PropertyTerminal].[UpdatedId]">
						<Property Name="IsNullable" Value="False" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
						<AttachedAnnotation Disambiguator="154" />
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="Schema">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<AttachedAnnotation Disambiguator="294" />
		</Element>
		<Element Type="SqlTable" Name="[dbo].[PropertyValueTerminals]">
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Relationship Name="Columns">
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[PropertyValueTerminals].[PropertyValueTerminalId]">
						<Property Name="IsNullable" Value="False" />
						<Property Name="IsIdentity" Value="True" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[PropertyValueTerminals].[Token]">
						<Property Name="IsNullable" Value="False" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[uniqueidentifier]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
						<AttachedAnnotation Disambiguator="176" />
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[PropertyValueTerminals].[TerminalId]">
						<Property Name="IsNullable" Value="False" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
						<AttachedAnnotation Disambiguator="166" />
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[PropertyValueTerminals].[PropertyTerminalId]">
						<Property Name="IsNullable" Value="False" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
						<AttachedAnnotation Disambiguator="165" />
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[PropertyValueTerminals].[Value]">
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
						<AttachedAnnotation Disambiguator="174" />
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[PropertyValueTerminals].[Creation]">
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[datetime]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
						<AttachedAnnotation Disambiguator="160" />
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[PropertyValueTerminals].[Updated]">
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[datetime]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
						<AttachedAnnotation Disambiguator="171" />
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[PropertyValueTerminals].[IsActive]">
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[bit]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
						<AttachedAnnotation Disambiguator="163" />
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[PropertyValueTerminals].[UpdatedId]">
						<Property Name="IsNullable" Value="False" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
						<AttachedAnnotation Disambiguator="172" />
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="Schema">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<AttachedAnnotation Disambiguator="295" />
			<AttachedAnnotation Disambiguator="283" />
			<AttachedAnnotation Disambiguator="284" />
		</Element>
		<Element Type="SqlTable" Name="[dbo].[PropertyValueVessel]">
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Relationship Name="Columns">
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[PropertyValueVessel].[PropertyValueVesselId]">
						<Property Name="IsNullable" Value="False" />
						<Property Name="IsIdentity" Value="True" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[PropertyValueVessel].[Token]">
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[uniqueidentifier]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
						<AttachedAnnotation Disambiguator="177" />
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[PropertyValueVessel].[VesselId]">
						<Property Name="IsNullable" Value="False" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
						<AttachedAnnotation Disambiguator="175" />
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[PropertyValueVessel].[PropertyVesselId]">
						<Property Name="IsNullable" Value="False" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
						<AttachedAnnotation Disambiguator="164" />
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[PropertyValueVessel].[Value]">
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Property Name="Length" Value="250" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[varchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
						<AttachedAnnotation Disambiguator="173" />
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[PropertyValueVessel].[Creation]">
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[datetime]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
						<AttachedAnnotation Disambiguator="158" />
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[PropertyValueVessel].[Updated]">
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[datetime]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
						<AttachedAnnotation Disambiguator="167" />
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[PropertyValueVessel].[IsActive]">
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[bit]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
						<AttachedAnnotation Disambiguator="161" />
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[PropertyValueVessel].[UpdatedId]">
						<Property Name="IsNullable" Value="False" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
						<AttachedAnnotation Disambiguator="168" />
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="Schema">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<AttachedAnnotation Disambiguator="296" />
			<AttachedAnnotation Disambiguator="285" />
			<AttachedAnnotation Disambiguator="286" />
		</Element>
		<Element Type="SqlTable" Name="[dbo].[PropertyVessel]">
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Relationship Name="Columns">
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[PropertyVessel].[PropertyVesselId]">
						<Property Name="IsNullable" Value="False" />
						<Property Name="IsIdentity" Value="True" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[PropertyVessel].[Token]">
						<Property Name="IsNullable" Value="False" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[uniqueidentifier]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
						<AttachedAnnotation Disambiguator="180" />
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[PropertyVessel].[Name]">
						<Property Name="IsNullable" Value="False" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Property Name="Length" Value="50" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[varchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
						<AttachedAnnotation Disambiguator="179" />
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[PropertyVessel].[Code]">
						<Property Name="IsNullable" Value="False" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Property Name="Length" Value="25" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[varchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
						<AttachedAnnotation Disambiguator="178" />
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[PropertyVessel].[Creation]">
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[datetime]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
						<AttachedAnnotation Disambiguator="159" />
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[PropertyVessel].[Updated]">
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[datetime]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
						<AttachedAnnotation Disambiguator="169" />
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[PropertyVessel].[IsActive]">
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[bit]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
						<AttachedAnnotation Disambiguator="162" />
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[PropertyVessel].[UpdatedId]">
						<Property Name="IsNullable" Value="False" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
						<AttachedAnnotation Disambiguator="170" />
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="Schema">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<AttachedAnnotation Disambiguator="293" />
		</Element>
		<Element Type="SqlIndex" Name="[dbo].[PropertyVessel].[IX_PropertyVessel]">
			<Property Name="IsUnique" Value="True" />
			<Relationship Name="ColumnSpecifications">
				<Entry>
					<Element Type="SqlIndexedColumnSpecification">
						<Relationship Name="Column">
							<Entry>
								<References Name="[dbo].[PropertyVessel].[Name]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="IndexedObject">
				<Entry>
					<References Name="[dbo].[PropertyVessel]" />
				</Entry>
			</Relationship>
		</Element>
		<Element Type="SqlTable" Name="[dbo].[QuantityMT]">
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Relationship Name="Columns">
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[QuantityMT].[Id]">
						<Property Name="IsNullable" Value="False" />
						<Property Name="IsIdentity" Value="True" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[QuantityMT].[Token]">
						<Property Name="IsNullable" Value="False" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[uniqueidentifier]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
						<AttachedAnnotation Disambiguator="186" />
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[QuantityMT].[Name]">
						<Property Name="IsNullable" Value="False" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Property Name="Length" Value="25" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[varchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
						<AttachedAnnotation Disambiguator="187" />
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[QuantityMT].[Quantity]">
						<Property Name="IsNullable" Value="False" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Property Name="Precision" Value="53" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[float]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
						<AttachedAnnotation Disambiguator="185" />
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[QuantityMT].[Creation]">
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[datetime]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
						<AttachedAnnotation Disambiguator="181" />
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[QuantityMT].[Updated]">
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[datetime]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
						<AttachedAnnotation Disambiguator="183" />
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[QuantityMT].[IsActive]">
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[bit]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
						<AttachedAnnotation Disambiguator="182" />
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[QuantityMT].[UpdatedId]">
						<Property Name="IsNullable" Value="False" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
						<AttachedAnnotation Disambiguator="184" />
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="Schema">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<AttachedAnnotation Disambiguator="297" />
		</Element>
		<Element Type="SqlIndex" Name="[dbo].[QuantityMT].[IX_QuantityMT]">
			<Property Name="IsUnique" Value="True" />
			<Relationship Name="ColumnSpecifications">
				<Entry>
					<Element Type="SqlIndexedColumnSpecification">
						<Relationship Name="Column">
							<Entry>
								<References Name="[dbo].[QuantityMT].[Name]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlIndexedColumnSpecification">
						<Relationship Name="Column">
							<Entry>
								<References Name="[dbo].[QuantityMT].[Quantity]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="IndexedObject">
				<Entry>
					<References Name="[dbo].[QuantityMT]" />
				</Entry>
			</Relationship>
		</Element>
		<Element Type="SqlTable" Name="[dbo].[QuantityMTByProducts]">
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Relationship Name="Columns">
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[QuantityMTByProducts].[Id]">
						<Property Name="IsNullable" Value="False" />
						<Property Name="IsIdentity" Value="True" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[QuantityMTByProducts].[Token]">
						<Property Name="IsNullable" Value="False" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[uniqueidentifier]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
						<AttachedAnnotation Disambiguator="253" />
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[QuantityMTByProducts].[ProductId]">
						<Property Name="IsNullable" Value="False" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[QuantityMTByProducts].[QuantityMTId]">
						<Property Name="IsNullable" Value="False" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[QuantityMTByProducts].[Creation]">
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[datetime]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
						<AttachedAnnotation Disambiguator="251" />
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[QuantityMTByProducts].[Updated]">
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[datetime]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
						<AttachedAnnotation Disambiguator="254" />
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[QuantityMTByProducts].[IsActive]">
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[bit]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
						<AttachedAnnotation Disambiguator="252" />
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[QuantityMTByProducts].[UpdatedId]">
						<Property Name="IsNullable" Value="False" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
						<AttachedAnnotation Disambiguator="255" />
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="Schema">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<AttachedAnnotation Disambiguator="304" />
		</Element>
		<Element Type="SqlTable" Name="[dbo].[RankConceptRate]">
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Relationship Name="Columns">
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[RankConceptRate].[Id]">
						<Property Name="IsNullable" Value="False" />
						<Property Name="IsIdentity" Value="True" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[RankConceptRate].[Token]">
						<Property Name="IsNullable" Value="False" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[uniqueidentifier]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
						<AttachedAnnotation Disambiguator="258" />
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[RankConceptRate].[RankRateTerminalId]">
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[RankConceptRate].[Concept]">
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Property Name="Length" Value="250" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[varchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[RankConceptRate].[Value]">
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[money]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[RankConceptRate].[Description]">
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Property Name="Length" Value="500" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[varchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[RankConceptRate].[Creation]">
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[datetime]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
						<AttachedAnnotation Disambiguator="256" />
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[RankConceptRate].[Updated]">
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[datetime]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
						<AttachedAnnotation Disambiguator="259" />
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[RankConceptRate].[IsActive]">
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[bit]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
						<AttachedAnnotation Disambiguator="257" />
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[RankConceptRate].[UpdatedId]">
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
						<AttachedAnnotation Disambiguator="260" />
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="Schema">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<AttachedAnnotation Disambiguator="305" />
		</Element>
		<Element Type="SqlTable" Name="[dbo].[RankRateTerminals]">
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Relationship Name="Columns">
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[RankRateTerminals].[Id]">
						<Property Name="IsNullable" Value="False" />
						<Property Name="IsIdentity" Value="True" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[RankRateTerminals].[Token]">
						<Property Name="IsNullable" Value="False" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[uniqueidentifier]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
						<AttachedAnnotation Disambiguator="263" />
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[RankRateTerminals].[Minimum]">
						<Property Name="IsNullable" Value="False" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[RankRateTerminals].[Maximum]">
						<Property Name="IsNullable" Value="False" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[RankRateTerminals].[Rate]">
						<Property Name="IsNullable" Value="False" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[money]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[RankRateTerminals].[TerminalId]">
						<Property Name="IsNullable" Value="False" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[RankRateTerminals].[Creation]">
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[datetime]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
						<AttachedAnnotation Disambiguator="261" />
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[RankRateTerminals].[Updated]">
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[datetime]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
						<AttachedAnnotation Disambiguator="264" />
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[RankRateTerminals].[IsActive]">
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[bit]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
						<AttachedAnnotation Disambiguator="262" />
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[RankRateTerminals].[UpdatedId]">
						<Property Name="IsNullable" Value="False" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
						<AttachedAnnotation Disambiguator="265" />
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="Schema">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<AttachedAnnotation Disambiguator="306" />
		</Element>
		<Element Type="SqlTable" Name="[dbo].[RequestForServices]">
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Relationship Name="Columns">
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[RequestForServices].[Id]">
						<Property Name="IsNullable" Value="False" />
						<Property Name="IsIdentity" Value="True" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[RequestForServices].[Token]">
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[uniqueidentifier]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
						<AttachedAnnotation Disambiguator="268" />
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[RequestForServices].[ProductId]">
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[RequestForServices].[StowageFactorId]">
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[RequestForServices].[StowageFactor]">
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Property Name="Precision" Value="53" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[float]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[RequestForServices].[Creation]">
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[datetime]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
						<AttachedAnnotation Disambiguator="266" />
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[RequestForServices].[QuantityId]">
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[RequestForServices].[Quantity]">
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Property Name="Precision" Value="53" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[float]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[RequestForServices].[ToleranceId]">
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[RequestForServices].[Terms]">
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[RequestForServices].[ConditionId]">
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[RequestForServices].[LoadPortId]">
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[RequestForServices].[LoadTerminalId]">
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[RequestForServices].[LoadingRate]">
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[money]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[RequestForServices].[DischargePortId]">
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[RequestForServices].[DischargeTerminalId]">
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[RequestForServices].[UnLoadingRate]">
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[money]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[RequestForServices].[StartLaycan]">
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[date]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[RequestForServices].[EndLaycan]">
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[date]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[RequestForServices].[Status]">
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Property Name="Length" Value="50" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[varchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[RequestForServices].[IsActive]">
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[bit]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
						<AttachedAnnotation Disambiguator="267" />
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[RequestForServices].[Owner]">
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[RequestForServices].[UpdatedId]">
						<Property Name="IsNullable" Value="False" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
						<AttachedAnnotation Disambiguator="269" />
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[RequestForServices].[LoadingConditionId]">
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[RequestForServices].[UnLoadingConditionId]">
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[RequestForServices].[HourCanalPanama]">
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Property Name="Precision" Value="53" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[float]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="Schema">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<AttachedAnnotation Disambiguator="307" />
		</Element>
		<Element Type="SqlTable" Name="[dbo].[SchedulerRequestByVesselForRecalculate]">
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Relationship Name="Columns">
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[SchedulerRequestByVesselForRecalculate].[Id]">
						<Property Name="IsNullable" Value="False" />
						<Property Name="IsIdentity" Value="True" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[SchedulerRequestByVesselForRecalculate].[RequestToken]">
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[uniqueidentifier]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[SchedulerRequestByVesselForRecalculate].[ServiceLiquidationToken]">
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[uniqueidentifier]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[SchedulerRequestByVesselForRecalculate].[IdAutomatic]">
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[SchedulerRequestByVesselForRecalculate].[Creation]">
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[datetime]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
						<AttachedAnnotation Disambiguator="270" />
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="Schema">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<AttachedAnnotation Disambiguator="308" />
		</Element>
		<Element Type="SqlTable" Name="[dbo].[ServiceLiquidations]">
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Relationship Name="Columns">
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[ServiceLiquidations].[Id]">
						<Property Name="IsNullable" Value="False" />
						<Property Name="IsIdentity" Value="True" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[ServiceLiquidations].[Token]">
						<Property Name="IsNullable" Value="False" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[uniqueidentifier]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
						<AttachedAnnotation Disambiguator="273" />
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[ServiceLiquidations].[RequestForServiceId]">
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[ServiceLiquidations].[VesselId]">
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[ServiceLiquidations].[PriceMT]">
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[money]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[ServiceLiquidations].[PriceMTNew]">
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[money]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[ServiceLiquidations].[Status]">
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Property Name="Length" Value="50" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[varchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[ServiceLiquidations].[Creation]">
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[datetime]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
						<AttachedAnnotation Disambiguator="271" />
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[ServiceLiquidations].[Updated]">
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[datetime]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
						<AttachedAnnotation Disambiguator="274" />
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[ServiceLiquidations].[IsActive]">
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[bit]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
						<AttachedAnnotation Disambiguator="272" />
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[ServiceLiquidations].[UpdatedId]">
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
						<AttachedAnnotation Disambiguator="275" />
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[ServiceLiquidations].[CurrentPortId]">
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="Schema">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<AttachedAnnotation Disambiguator="309" />
		</Element>
		<Element Type="SqlProcedure" Name="[dbo].[Smtp_Email_Updated]">
			<Property Name="BodyScript">
				<Value><![CDATA[
Begin
	/*------------------------------------------------------------------------------
	-- getting xml main list only range: records_[begin,end], setting record status.
	------------------------------------------------------------------------------*/
	Declare @sError varchar(max) ,@IsErrorTecnichal int
	Execute C_Parameter_Get @CodeParameter= 'ERROR_TECNICHAL', @Value= @IsErrorTecnichal OUTPUT
	Begin Try
	------------------------------------------------------------------------------
	-- Declaring variables
	------------------------------------------------------------------------------
	Update dbo.AppSendEmail
	SET StatusSend='OK',
		Updated=getdate()
	where EntityId= @EntityId and StatusSend='PROCESS'
	End Try			
	Begin Catch
		--Getting the error description
		Set @sError  =  ERROR_MESSAGE()
		if @IsErrorTecnichal=1
		Begin
			Set @sError  =   ERROR_PROCEDURE() + 
					';  ' + convert(varchar,ERROR_LINE()) + 
					'; ' + ERROR_MESSAGE()
		End 
		RaisError (@sError,16,1)
		Return		
	End Catch	
End]]></Value>
			</Property>
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Relationship Name="BodyDependencies">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[varchar]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[int]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[C_Parameter_Get]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[C_Parameter_Get].[@CodeParameter]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[C_Parameter_Get].[@Value]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[AppSendEmail]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[AppSendEmail].[StatusSend]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[AppSendEmail].[Updated]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[AppSendEmail].[EntityId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Smtp_Email_Updated].[@EntityId]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[varchar]" />
				</Entry>
			</Relationship>
			<Relationship Name="Parameters">
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[Smtp_Email_Updated].[@EntityId]">
						<Property Name="DefaultExpressionScript">
							<Value><![CDATA[0]]></Value>
						</Property>
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="Schema">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<Annotation Type="SysCommentsObjectAnnotation">
				<Property Name="Length" Value="1126" />
				<Property Name="StartLine" Value="1" />
				<Property Name="StartColumn" Value="1" />
				<Property Name="HeaderContents" Value="CREATE Procedure [dbo].[Smtp_Email_Updated]&#xD;&#xA;&#x9;@EntityId int=0&#xD;&#xA;--With Encryption&#xD;&#xA;As" />
			</Annotation>
		</Element>
		<Element Type="SqlProcedure" Name="[dbo].[Smtp_EmailSend_List]">
			<Property Name="BodyScript">
				<Value><![CDATA[
	/*------------------------------------------------------------------------------
	-- getting xml main list only range: records_[begin,end], setting record status.
	------------------------------------------------------------------------------*/
	Declare @Uri_paremters varchar(200)
	Execute C_Parameter_Get @CodeParameter= 'URL_HOST', @Value= @Uri_paremters OUTPUT
	------------------------------------------------------------------------------
	-- Declaring variables
	------------------------------------------------------------------------------
			SELECT [EntityId]
				  ,[ToEmail]
				  ,[Subject]
				  ,dbo.AppSendEmail.[Body]
				  ,[StatusSend]
				  ,[EmailAdmin]
				  ,[Host]
				  ,[UserEmail]
				  ,[PasswordEmail]
				  ,[Port]
				  ,[IsSsl]
				  ,[IsHtml]
				  ,EmailAdmin
				  ,@Uri_paremters as Uri
				 /* ,AppUsers.Name
				  ,AppUsers.Login
				  ,AppUsers.Email*/
				  ,AppEmailBody.EmailTo
				  ,AppEmailBody.Body as Title
			FROM [dbo].[AppSendEmail]
			Cross JOIN dbo.AppConfigurationSmtp
			left Join AppUploads On AppUploads.Upload=EmailTo
			inner Join AppEmailBody On AppEmailBody.EmailTo=dbo.AppSendEmail.EmailTo
			--Inner Join AppUsers On AppUsers.UserId=[AppSendEmail].UpdatedId
			Where dbo.AppSendEmail.StatusSend='PROCESS' and dbo.AppConfigurationSmtp.IsActive=1
					And (EntityId=@EntityId or isnull(@EntityId,0)=0)]]></Value>
			</Property>
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Relationship Name="BodyDependencies">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[varchar]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[C_Parameter_Get]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[C_Parameter_Get].[@CodeParameter]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[C_Parameter_Get].[@Value]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[AppSendEmail]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[AppConfigurationSmtp]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[AppUploads]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[AppUploads].[Upload]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[AppSendEmail].[EmailTo]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[AppEmailBody]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[AppEmailBody].[EmailTo]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[AppSendEmail].[EmailTo]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[AppSendEmail].[EntityId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[AppSendEmail].[ToEmail]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[AppSendEmail].[Subject]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[AppSendEmail].[Body]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[AppSendEmail].[StatusSend]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[AppSendEmail].[EmailAdmin]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[AppConfigurationSmtp].[Host]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[AppConfigurationSmtp].[UserEmail]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[AppConfigurationSmtp].[PasswordEmail]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[AppConfigurationSmtp].[Port]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[AppConfigurationSmtp].[IsSsl]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[AppConfigurationSmtp].[IsHtml]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[AppEmailBody].[Body]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[AppSendEmail].[StatusSend]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[AppConfigurationSmtp].[IsActive]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Smtp_EmailSend_List].[@EntityId]" />
				</Entry>
			</Relationship>
			<Relationship Name="Parameters">
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[Smtp_EmailSend_List].[@EntityId]">
						<Property Name="DefaultExpressionScript">
							<Value><![CDATA[0]]></Value>
						</Property>
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="Schema">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<Annotation Type="SysCommentsObjectAnnotation">
				<Property Name="Length" Value="1483" />
				<Property Name="StartLine" Value="1" />
				<Property Name="StartColumn" Value="1" />
				<Property Name="HeaderContents" Value="CREATE Procedure [dbo].[Smtp_EmailSend_List]&#xD;&#xA;&#x9;&#x9;@EntityId int=0&#xD;&#xA;--With Encryption&#xD;&#xA;As" />
			</Annotation>
		</Element>
		<Element Type="SqlProcedure" Name="[dbo].[SS_Access_Permissions_App]">
			<Property Name="BodyScript">
				<Value><![CDATA[
BEGIN
	/*------------------------------------------------------------------------------
		Declares variables No se ha podido actualizar la información.  Intente de nuevo.
	------------------------------------------------------------------------------*/
	/*------------------------------------------------------------------------------
		get current variable stream
	------------------------------------------------------------------------------*/
	/*------------------------------------------------------------------------------
	-- Return successful answer
	--------------------------------------------------------------------------------*/
	
	Select   Appmenus.FilePage,Appmenus.Menu as ds_page,
				(Case When Isnull(AppAccessUsers.IsEdit,0)=0 then Isnull(AppProfilesmenus.IsEdit,0) else Isnull(AppAccessUsers.IsEdit,0) end)   as IsEdit,
				(Case When Isnull(AppAccessUsers.IsAutorization,0)=0 then Isnull(AppProfilesmenus.IsAutorization,0) else Isnull(AppAccessUsers.IsAutorization,0) end)   as IsAutorization,
				(Case When Isnull(AppAccessUsers.IsNew,0)=0 then Isnull(AppProfilesmenus.IsNew,0) else Isnull(AppAccessUsers.IsNew,0) end)   as IsNew,
				(Case When Isnull(AppAccessUsers.IsStatus,0)=0 then Isnull(AppProfilesmenus.IsStatus,0) else Isnull(AppAccessUsers.IsStatus,0) end)   as IsStatus,
				(Case When Isnull(AppAccessUsers.IsView,0)=0 then Isnull(AppProfilesmenus.IsView,0) else Isnull(AppAccessUsers.IsView,0) end)   as IsView,
				(Case When Isnull(AppAccessUsers.IsModify,0)=0 then Isnull(AppProfilesmenus.IsModify,0) else Isnull(AppAccessUsers.IsModify,0) end)   as IsModify,
				(Case When Isnull(AppAccessUsers.IsDelete,0)=0 then Isnull(AppProfilesmenus.IsDelete,0) else Isnull(AppAccessUsers.IsDelete,0) end)   as IsDelete,
				(Case When Isnull(AppAccessUsers.IsSpecial,0)=0 then Isnull(AppProfilesmenus.IsSpecial,0) else Isnull(AppAccessUsers.IsSpecial,0) end)   as IsSpecial,
				AppProfiles.ProfileId,
				Appmenus.MenuId,Appmenus.ParentId
		From AppProfiles
				Inner Join AppProfilesmenus On AppProfilesmenus.ProfileId=AppProfiles.ProfileId
				Inner join Appmenus On Appmenus.MenuId=AppProfilesmenus.MenuId
				Inner Join AppSessions On AppSessions.SessionId=@SessionId --and AppSessions.UserId=@UpdatedId
				Inner Join AppUsers On AppUsers.UserId=AppSessions.UserId and AppProfiles.ProfileId=AppUsers.ProfileId 
				left Join AppAccessUsers On AppAccessUsers.ProfileId=AppProfiles.ProfileId and AppAccessUsers.MenuId=Appmenus.MenuId 
End]]></Value>
			</Property>
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Relationship Name="BodyDependencies">
				<Entry>
					<References Name="[dbo].[AppProfiles]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[AppProfilesMenus]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[AppProfilesMenus].[ProfileId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[AppProfiles].[ProfileId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[AppMenus]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[AppMenus].[MenuId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[AppProfilesMenus].[MenuId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[AppSessions]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[AppSessions].[SessionId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[SS_Access_Permissions_App].[@SessionId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[AppUsers]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[AppUsers].[UserId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[AppSessions].[UserId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[AppProfiles].[ProfileId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[AppUsers].[ProfileId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[AppAccessUsers]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[AppAccessUsers].[ProfileId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[AppProfiles].[ProfileId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[AppAccessUsers].[MenuId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[AppMenus].[MenuId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[AppMenus].[FilePage]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[AppMenus].[Menu]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[AppAccessUsers].[IsEdit]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[AppProfilesMenus].[IsEdit]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[AppAccessUsers].[IsAutorization]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[AppProfilesMenus].[IsAutorization]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[AppAccessUsers].[IsNew]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[AppProfilesMenus].[IsNew]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[AppAccessUsers].[IsStatus]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[AppProfilesMenus].[IsStatus]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[AppAccessUsers].[IsView]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[AppProfilesMenus].[IsView]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[AppAccessUsers].[IsModify]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[AppProfilesMenus].[IsModify]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[AppAccessUsers].[IsDelete]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[AppProfilesMenus].[IsDelete]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[AppAccessUsers].[IsSpecial]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[AppProfilesMenus].[IsSpecial]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[AppMenus].[ParentId]" />
				</Entry>
			</Relationship>
			<Relationship Name="Parameters">
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[SS_Access_Permissions_App].[@SessionId]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Property Name="Length" Value="400" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[varchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[SS_Access_Permissions_App].[@UpdatedId]">
						<Property Name="DefaultExpressionScript">
							<Value><![CDATA[0]]></Value>
						</Property>
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="Schema">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<Annotation Type="SysCommentsObjectAnnotation">
				<Property Name="Length" Value="2628" />
				<Property Name="StartLine" Value="1" />
				<Property Name="StartColumn" Value="1" />
				<Property Name="HeaderContents" Value="CREATE PROCEDURE [dbo].[SS_Access_Permissions_App]&#xD;&#xA;&#x9;@SessionId [varchar](400),&#xD;&#xA;&#x9;@UpdatedId [int] = 0&#xD;&#xA;--WITH ENCRYPTION&#xD;&#xA;AS" />
			</Annotation>
		</Element>
		<Element Type="SqlProcedure" Name="[dbo].[SS_MessageLog_Delete]">
			<Property Name="BodyScript">
				<Value><![CDATA[
BEGIN
	/*------------------------------------------------------------------------------
		Declares variables No se ha podido actualizar la información.  Intente de nuevo.
	------------------------------------------------------------------------------*/
	Declare @IsErrorTecnichal int, @sError varchar(max)
	Execute C_Parameter_Get @CodeParameter= 'ERROR_TECNICHAL', @Value= @IsErrorTecnichal OUTPUT
	/*------------------------------------------------------------------------------
		get current variable stream
	------------------------------------------------------------------------------*/
	begin try
		begin  Transaction
				Delete From AppMessageLog Where Token=@Token
		Commit Transaction
	end try
	Begin Catch
    	    -- there was an error
    	    If XACT_STATE() =-1
    	    Begin
    	    	    Rollback WORK
    	    End
    	    If @@trancount >0
    	    Begin
    	    	    Rollback WORK
    	    End
    	    If XACT_STATE() = 1
    	    Begin
    	    	    Commit WORK
    	    End
    	    --Getting the error description
    	    Set @sError  =   ERROR_MESSAGE()
			if @IsErrorTecnichal=1
			Begin
				Set @sError  =  ERROR_PROCEDURE() + 
					';  ' + convert(varchar,ERROR_LINE()) + 
					'; ' + ERROR_MESSAGE()
			End 
    	    -- save the error in a Log file
    	    RaisError(@sError,16,1)
    	    Return  
    End Catch
	--/*------------------------------------------------------------------------------
	--	-- Return successful answer
	--	--------------------------------------------------------------------------------*/
	--	Select 'SessionId'= @SessionId_app
	--	/*-- - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -*/
END]]></Value>
			</Property>
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Relationship Name="BodyDependencies">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[int]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[varchar]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[C_Parameter_Get]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[C_Parameter_Get].[@CodeParameter]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[C_Parameter_Get].[@Value]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[AppMessageLog]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[AppMessageLog].[Token]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[SS_MessageLog_Delete].[@Token]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[varchar]" />
				</Entry>
			</Relationship>
			<Relationship Name="Parameters">
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[SS_MessageLog_Delete].[@Token]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[uniqueidentifier]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="Schema">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<Annotation Type="SysCommentsObjectAnnotation">
				<Property Name="Length" Value="1819" />
				<Property Name="StartLine" Value="1" />
				<Property Name="StartColumn" Value="1" />
				<Property Name="HeaderContents" Value="CREATE PROCEDURE [dbo].[SS_MessageLog_Delete]&#xD;&#xA;&#x9;@Token uniqueidentifier&#xD;&#xA;--WITH ENCRYPTION&#xD;&#xA;AS" />
			</Annotation>
		</Element>
		<Element Type="SqlProcedure" Name="[dbo].[SS_MessageLog_Get]">
			<Property Name="BodyScript">
				<Value><![CDATA[
 
 Select
		CAST(JSON_VALUE(Body, '$.StartDate') AS NVARCHAR(35)) AS StartDate,
		CAST(JSON_VALUE(Body, '$.EndDate') AS NVARCHAR(35)) As EndDate,
		CAST(JSON_VALUE(Body, '$.Duration') AS INT) As Duration,
		CAST(JSON_VALUE(Body, '$.ResponseStatus') AS  NVARCHAR(25)) As ResponseStatus,
		CAST(JSON_VALUE(Body, '$.ResponseStatusCode') AS  NVARCHAR(25)) As ResponseStatusCode,
		CAST(JSON_QUERY(Body, '$.ResponseBody') AS  NVARCHAR(max)) As ResponseBody,
		 Message
		,Creation
		,Description
		,Description
		,StatusCode
		,Body
		,MessageId
		,Token
	FROM dbo.AppMessageLog
	Where Token=@Token]]></Value>
			</Property>
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Relationship Name="BodyDependencies">
				<Entry>
					<References Name="[dbo].[AppMessageLog]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[nvarchar]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[AppMessageLog].[Body]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[nvarchar]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[int]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[nvarchar]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[nvarchar]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[nvarchar]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[AppMessageLog].[Message]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[AppMessageLog].[Creation]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[AppMessageLog].[Description]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[AppMessageLog].[StatusCode]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[AppMessageLog].[MessageId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[AppMessageLog].[Token]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[SS_MessageLog_Get].[@Token]" />
				</Entry>
			</Relationship>
			<Relationship Name="Parameters">
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[SS_MessageLog_Get].[@Token]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[uniqueidentifier]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="Schema">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<Annotation Type="SysCommentsObjectAnnotation">
				<Property Name="Length" Value="703" />
				<Property Name="StartLine" Value="1" />
				<Property Name="StartColumn" Value="1" />
				<Property Name="HeaderContents" Value="CREATE PROCEDURE [dbo].[SS_MessageLog_Get]&#xD;&#xA;&#x9;@Token uniqueidentifier&#xD;&#xA;--WITH ENCRYPTION&#xD;&#xA;AS" />
			</Annotation>
		</Element>
		<Element Type="SqlProcedure" Name="[dbo].[SS_MessageLog_List]">
			<Property Name="BodyScript">
				<Value><![CDATA[
	/*------------------------------------------------------------------------------
	-- getting xml main list only range: records_[begin,end], setting record status.
	--------------------------------------------------------------------------------*/
	Select @TotalRecords=count(*) From [AppMessageLog]
	------------------------------------------------------------------------------
	-- getting user list
	------------------------------------------------------------------------------						   
	SELECT MessageId
		,[Message]
		,[Description]
		,[Creation]
		,[StatusCode]
		,Body
		,Token
		 ,CAST(JSON_VALUE(Body, '$.StartDate') AS NVARCHAR(35)) AS StartDate,
		CAST(JSON_VALUE(Body, '$.EndDate') AS NVARCHAR(35)) As EndDate,
		CAST(JSON_VALUE(Body, '$.Duration') AS INT) As Duration,
		CAST(JSON_VALUE(Body, '$.ResponseStatus') AS  NVARCHAR(25)) As ResponseStatus,
		CAST(JSON_VALUE(Body, '$.ResponseStatusCode') AS  NVARCHAR(25)) As ResponseStatusCode 
	FROM [dbo].[AppMessageLog]
	ORDER BY MessageId desc, CURRENT_TIMESTAMP OFFSET (@PageIndex-1)*@PageSize ROWS FETCH FIRST @PageSize ROWS ONLY
	/*-- - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -*/]]></Value>
			</Property>
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Relationship Name="BodyDependencies">
				<Entry>
					<References Name="[dbo].[AppMessageLog]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[SS_MessageLog_List].[@TotalRecords]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[AppMessageLog].[MessageId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[AppMessageLog].[Message]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[AppMessageLog].[Description]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[AppMessageLog].[Creation]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[AppMessageLog].[StatusCode]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[AppMessageLog].[Body]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[AppMessageLog].[Token]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[nvarchar]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[nvarchar]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[int]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[nvarchar]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[nvarchar]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[SS_MessageLog_List].[@PageIndex]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[SS_MessageLog_List].[@PageSize]" />
				</Entry>
			</Relationship>
			<Relationship Name="Parameters">
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[SS_MessageLog_List].[@PageIndex]">
						<Property Name="DefaultExpressionScript">
							<Value><![CDATA[1]]></Value>
						</Property>
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[SS_MessageLog_List].[@PageSize]">
						<Property Name="DefaultExpressionScript">
							<Value><![CDATA[10]]></Value>
						</Property>
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[SS_MessageLog_List].[@TotalRecords]">
						<Property Name="IsOutput" Value="True" />
						<Property Name="DefaultExpressionScript">
							<Value><![CDATA[0]]></Value>
						</Property>
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="Schema">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<Annotation Type="SysCommentsObjectAnnotation">
				<Property Name="Length" Value="1348" />
				<Property Name="StartLine" Value="1" />
				<Property Name="StartColumn" Value="1" />
				<Property Name="HeaderContents" Value="CREATE PROCEDURE [dbo].[SS_MessageLog_List]&#xD;&#xA;&#x9;&#x9;@PageIndex [int] = 1,&#xD;&#xA;&#x9;@PageSize [int] = 10,&#xD;&#xA;&#x9;@TotalRecords [int] = 0 OUTPUT&#xD;&#xA;--WITH ENCRYPTION&#xD;&#xA;AS" />
			</Annotation>
		</Element>
		<Element Type="SqlProcedure" Name="[dbo].[SS_MessageLog_Save]">
			<Property Name="BodyScript">
				<Value><![CDATA[
BEGIN
	/*------------------------------------------------------------------------------
		Declares variables No se ha podido actualizar la información.  Intente de nuevo.
	------------------------------------------------------------------------------*/
	Declare @IsErrorTecnichal int, @sError varchar(max),@in_error_emaill int,@ds_admin_emaill varchar(250)
	Execute C_Parameter_Get @CodeParameter= 'ERROR_TECNICHAL', @Value= @IsErrorTecnichal OUTPUT
	Execute C_Parameter_Get @CodeParameter= 'EMAIL_ERROR', @Value= @in_error_emaill OUTPUT
	Execute C_Parameter_Get @CodeParameter= 'EMAIL_ADMIN', @Value= @ds_admin_emaill OUTPUT
	
	/*------------------------------------------------------------------------------
		get current variable stream
	------------------------------------------------------------------------------*/
	begin try
		begin  Transaction
	INSERT INTO [dbo].[AppMessageLog]
           ([Message]
           ,[Description]
           ,[Creation]
           ,[StatusCode],Body,Token)
      Select
           @Message 
           ,@Description 
           ,getdate() 
           ,@StatusCode ,@Body,@Token
		Commit Transaction

		if @in_error_emaill=1
		Exec BG_EmailQueue_Save
			 @ToEmail =@ds_admin_emaill
			,@EmailTo ='SEND_ERROR'
			,@UpdatedId =0 
			,@Body=@Description
	end try
	Begin Catch
    	    -- there was an error
    	    If XACT_STATE() =-1
    	    Begin
    	    	    Rollback WORK
    	    End
    	    If @@trancount >0
    	    Begin
    	    	    Rollback WORK
    	    End
    	    If XACT_STATE() = 1
    	    Begin
    	    	    Commit WORK
    	    End
    	    --Getting the error description
    	    Set @sError  =   ERROR_MESSAGE()
			if @IsErrorTecnichal=1
			Begin
				Set @sError  =  ERROR_PROCEDURE() + 
					';  ' + convert(varchar,ERROR_LINE()) + 
					'; ' + ERROR_MESSAGE()
			End 
    	    -- save the error in a Log file
    	    RaisError(@sError,16,1)
    	    Return  
    End Catch
	--/*------------------------------------------------------------------------------
	--	-- Return successful answer
	--	--------------------------------------------------------------------------------*/
	--	Select 'SessionId'= @SessionId_app
	--	/*-- - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -*/
END]]></Value>
			</Property>
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Relationship Name="BodyDependencies">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[int]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[varchar]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[int]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[varchar]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[C_Parameter_Get]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[C_Parameter_Get].[@CodeParameter]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[C_Parameter_Get].[@Value]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[AppMessageLog]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[AppMessageLog].[Message]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[AppMessageLog].[Description]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[AppMessageLog].[Creation]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[AppMessageLog].[StatusCode]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[AppMessageLog].[Body]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[AppMessageLog].[Token]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[SS_MessageLog_Save].[@Message]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[SS_MessageLog_Save].[@Description]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[SS_MessageLog_Save].[@StatusCode]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[SS_MessageLog_Save].[@Body]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[SS_MessageLog_Save].[@Token]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[BG_EmailQueue_Save]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[BG_EmailQueue_Save].[@ToEmail]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[BG_EmailQueue_Save].[@EmailTo]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[BG_EmailQueue_Save].[@UpdatedId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[BG_EmailQueue_Save].[@Body]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[varchar]" />
				</Entry>
			</Relationship>
			<Relationship Name="Parameters">
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[SS_MessageLog_Save].[@Message]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Property Name="IsMax" Value="True" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[varchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[SS_MessageLog_Save].[@Description]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Property Name="IsMax" Value="True" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[varchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[SS_MessageLog_Save].[@StatusCode]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Property Name="Length" Value="50" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[varchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[SS_MessageLog_Save].[@Body]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Property Name="IsMax" Value="True" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[varchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[SS_MessageLog_Save].[@Token]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[uniqueidentifier]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="Schema">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<Annotation Type="SysCommentsObjectAnnotation">
				<Property Name="Length" Value="2540" />
				<Property Name="StartLine" Value="1" />
				<Property Name="StartColumn" Value="1" />
				<Property Name="HeaderContents" Value="CREATE PROCEDURE [dbo].[SS_MessageLog_Save]&#xD;&#xA;&#x9;@Message [varchar](max),&#xD;&#xA;&#x9;@Description [varchar](max),&#xD;&#xA;&#x9;@StatusCode [varchar](50),&#xD;&#xA;&#x9;@Body varchar(max),&#xD;&#xA;&#x9;@Token uniqueidentifier&#xD;&#xA;--WITH ENCRYPTION&#xD;&#xA;AS" />
			</Annotation>
		</Element>
		<Element Type="SqlProcedure" Name="[dbo].[SS_ProfileUsers_Get]">
			<Property Name="BodyScript">
				<Value><![CDATA[
begin
Declare @sError int,@sError_file_string Varchar(Max),@UserId [int]
 
BEGIN TRY
		/*------------------------------------------------------------------------------
		-- getting xml main list only range: records_[begin,end], setting record status.
		------------------------------------------------------------------------------*/
			SELECT	Appusers.UserId,Login,RoleId,Appusers.IsActive,Name,Email,Appusers.ProfileId,Profile,Password,IsSysadmin,
			AppSessions.SessionId,AppSessions.Creation,AppSessions.Updated,Appusers.Token
			FROM Appusers
					Inner Join Appprofiles On appprofiles.ProfileId=Appusers.ProfileId
					Inner Join AppSessions On SessionId=@SessionId and AppSessions.UserId=Appusers.UserId
		/*-- - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -*/
END TRY
Begin Catch
	    --Getting the error description
	    Select @sError_file_string  =  ERROR_PROCEDURE() + 
					';  ' + convert(varchar,ERROR_LINE()) + 
					'; ' + ERROR_MESSAGE()
	    -- save the error in a Log file
	    RaisError(@sError_file_string,16,1)
	    Return  
End Catch
end]]></Value>
			</Property>
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Relationship Name="BodyDependencies">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[int]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[varchar]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[int]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[AppUsers]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[AppProfiles]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[AppProfiles].[ProfileId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[AppUsers].[ProfileId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[AppSessions]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[AppSessions].[SessionId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[SS_ProfileUsers_Get].[@SessionId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[AppSessions].[UserId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[AppUsers].[UserId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[AppUsers].[Login]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[AppUsers].[RoleId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[AppUsers].[IsActive]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[AppUsers].[Name]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[AppUsers].[Email]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[AppUsers].[ProfileId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[AppProfiles].[Profile]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[AppUsers].[Password]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[AppUsers].[IsSysadmin]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[AppSessions].[SessionId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[AppSessions].[Creation]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[AppSessions].[Updated]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[AppUsers].[Token]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[varchar]" />
				</Entry>
			</Relationship>
			<Relationship Name="Parameters">
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[SS_ProfileUsers_Get].[@SessionId]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Property Name="Length" Value="50" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[varchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="Schema">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<Annotation Type="SysCommentsObjectAnnotation">
				<Property Name="Length" Value="1206" />
				<Property Name="StartLine" Value="1" />
				<Property Name="StartColumn" Value="1" />
				<Property Name="HeaderContents" Value="CREATE PROCEDURE [dbo].[SS_ProfileUsers_Get]&#xD;&#xA;&#x9;@SessionId varchar(50)&#xD;&#xA;--WITH ENCRYPTION&#xD;&#xA;AS" />
			</Annotation>
		</Element>
		<Element Type="SqlProcedure" Name="[dbo].[SS_Users_Change_Password]">
			<Property Name="BodyScript">
				<Value><![CDATA[
BEGIN
		/*------------------------------------------------------------------------------
		-- declaracion de variables
		--------------------------------------------------------------------------------*/
	Declare  @IsErrorTecnichal int,@sError varchar(max),@UserId int,@Email varchar(20)
	begin try
		begin  Transaction
		Update AppUsers
			Set Password=@Password
		From  AppSessions 
			Inner Join AppUsers On  AppUsers.UserId=AppSessions.UserId
		Where AppSessions.SessionId=@SessionId
		Commit Transaction

		Select @UserId=AppUsers.UserId,@Email=Email
		From AppUsers
		Inner Join AppSessions On AppSessions.SessionId=@SessionId
		Where AppUsers.UserId=AppSessions.UserId
		Exec [App_History_Timeline_Save]
					@SessionId =@SessionId,
					@UpdatedId =@UserId,
					@Type='USERS',
					@TimeLine='CHANGE_PASSWORD',
					@Comments=@Comments

		Exec BG_EmailQueue_Save
				 @ToEmail =@Email
				,@EmailTo ='CHANGE_PASSWORD'
				,@UpdatedId =@UserId 
	end try
	Begin Catch
    	    -- there was an error
    	    If XACT_STATE() =-1
    	    Begin
    	    	    Rollback WORK
    	    End
    	    If @@trancount >0
    	    Begin
    	    	    Rollback WORK
    	    End
    	    If XACT_STATE() = 1
    	    Begin
    	    	    Commit WORK
    	    End
    	    --Getting the error description
    	    Set @sError  =   ERROR_MESSAGE()
			if @IsErrorTecnichal=1
			Begin
				Set @sError  =  ERROR_PROCEDURE() + 
					';  ' + convert(varchar,ERROR_LINE()) + 
					'; ' + ERROR_MESSAGE()
			End 
    	    -- save the error in a Log file
    	    RaisError(@sError,16,1)
    	    Return  
    End Catch
END]]></Value>
			</Property>
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Relationship Name="BodyDependencies">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[int]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[varchar]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[int]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[varchar]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[AppSessions]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[AppUsers]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[AppUsers].[UserId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[AppSessions].[UserId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[AppUsers].[Password]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[SS_Users_Change_Password].[@Password]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[AppSessions].[SessionId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[SS_Users_Change_Password].[@SessionId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[AppUsers].[Email]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[App_History_Timeline_Save]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[App_History_Timeline_Save].[@SessionId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[App_History_Timeline_Save].[@UpdatedId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[App_History_Timeline_Save].[@Type]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[App_History_Timeline_Save].[@TimeLine]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[App_History_Timeline_Save].[@Comments]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[SS_Users_Change_Password].[@Comments]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[BG_EmailQueue_Save]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[BG_EmailQueue_Save].[@ToEmail]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[BG_EmailQueue_Save].[@EmailTo]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[BG_EmailQueue_Save].[@UpdatedId]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[varchar]" />
				</Entry>
			</Relationship>
			<Relationship Name="Parameters">
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[SS_Users_Change_Password].[@SessionId]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Property Name="Length" Value="200" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[varchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[SS_Users_Change_Password].[@Password]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Property Name="Length" Value="100" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[varchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[SS_Users_Change_Password].[@UpdatedId]">
						<Property Name="DefaultExpressionScript">
							<Value><![CDATA[0]]></Value>
						</Property>
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[SS_Users_Change_Password].[@Comments]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Property Name="IsMax" Value="True" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[varchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="Schema">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<Annotation Type="SysCommentsObjectAnnotation">
				<Property Name="Length" Value="1839" />
				<Property Name="StartLine" Value="1" />
				<Property Name="StartColumn" Value="1" />
				<Property Name="HeaderContents" Value="CREATE PROCEDURE [dbo].[SS_Users_Change_Password]&#xD;&#xA;&#x9;@SessionId [varchar](200),&#xD;&#xA;&#x9;@Password [varchar](100),&#xD;&#xA;&#x9;@UpdatedId int=0,&#xD;&#xA;&#x9;@Comments varchar(max)&#xD;&#xA;--WITH ENCRYPTION&#xD;&#xA;AS" />
			</Annotation>
		</Element>
		<Element Type="SqlProcedure" Name="[dbo].[SS_Users_Login_Validate]">
			<Property Name="BodyScript">
				<Value><![CDATA[
BEGIN
		/*------------------------------------------------------------------------------
		-- declaracion de variables
		--------------------------------------------------------------------------------*/
	Declare  @IsErrorTecnichal int,@sError varchar(max), @UserId int, @Name varchar(200),@Profile varchar(200),@SessionId varchar(4000)
	Declare  @MinuteSession int,@Email varchar(250),@ProfileId int,@Section Varchar(25)
	Execute C_Parameter_Get @CodeParameter= 'ERROR_TECNICHAL', @Value= @IsErrorTecnichal OUTPUT
	Execute C_Parameter_Get @CodeParameter= 'TIME_SESSION_APP', @Value= @MinuteSession OUTPUT
	BEGIN TRY
		if Not Exists(Select *
						From AppUsers
						Where AppUsers.Login=@Login and AppUsers.Password=@Password)
		Begin
			Raiserror('Login or password is not valid..',16,1)
			return
		End
		Select @UserId= UserId,@Name=Name,@Profile=Appprofiles.Profile,@Email=Email,
				@ProfileId=AppUsers.ProfileId,@Section=AppProfiles.Section
		From AppUsers
				Inner JOIN AppProfiles On AppProfiles.ProfileId=AppUsers.ProfileId
		Where AppUsers.Login=@Login and AppUsers.Password=@Password

		Set @SessionId=newid()
		Execute SS_Users_Session_Save	@SessionId=@SessionId,@UserId =@UserId

		Exec [App_History_Timeline_Save]
					@SessionId =@SessionId,
					@UpdatedId =@UserId,
					@Type='USERS',
					@TimeLine='LOGIN',
					@Comments='Login del Usuario'

		--Select * from  AppProfilesMenus
		--Select * From AppAccessUsers
		Select @UserId as UserId, @Name as Name,@Profile as Profile,@SessionId as SessionId,@Login as Login, @MinuteSession as Expiration,@ProfileId as ProfileId,@Section as Section

	Exec BG_EmailQueue_Save
			 @ToEmail =@Email
			,@EmailTo ='LOGIN'
			,@UpdatedId =@UserId 
	END TRY
	Begin Catch
    	    --Getting the error description
			Set @sError  = ERROR_MESSAGE()
			if @IsErrorTecnichal=1
			Begin
			Set @sError  =  ERROR_PROCEDURE() + 
					';  ' + convert(varchar,ERROR_LINE()) + 
					'; ' + ERROR_MESSAGE()
			End 
    	    -- save the error in a Log file
    	    RaisError(@sError,16,1) 
    	    Return  
    End Catch
END]]></Value>
			</Property>
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Relationship Name="BodyDependencies">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[int]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[varchar]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[int]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[varchar]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[varchar]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[varchar]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[int]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[varchar]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[int]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[varchar]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[C_Parameter_Get]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[C_Parameter_Get].[@CodeParameter]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[C_Parameter_Get].[@Value]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[AppUsers]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[AppUsers].[Login]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[SS_Users_Login_Validate].[@Login]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[AppUsers].[Password]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[SS_Users_Login_Validate].[@Password]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[AppUsers]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[AppProfiles]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[AppProfiles].[ProfileId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[AppUsers].[ProfileId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[AppUsers].[UserId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[AppUsers].[Name]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[AppProfiles].[Profile]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[AppUsers].[Email]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[AppProfiles].[Section]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[AppUsers].[Login]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[AppUsers].[Password]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[SS_Users_Session_Save]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[SS_Users_Session_Save].[@SessionId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[SS_Users_Session_Save].[@UserId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[App_History_Timeline_Save]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[App_History_Timeline_Save].[@SessionId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[App_History_Timeline_Save].[@UpdatedId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[App_History_Timeline_Save].[@Type]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[App_History_Timeline_Save].[@TimeLine]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[App_History_Timeline_Save].[@Comments]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[BG_EmailQueue_Save]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[BG_EmailQueue_Save].[@ToEmail]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[BG_EmailQueue_Save].[@EmailTo]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[BG_EmailQueue_Save].[@UpdatedId]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[varchar]" />
				</Entry>
			</Relationship>
			<Relationship Name="Parameters">
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[SS_Users_Login_Validate].[@Login]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Property Name="Length" Value="200" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[varchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[SS_Users_Login_Validate].[@Password]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Property Name="Length" Value="100" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[varchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="Schema">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<Annotation Type="SysCommentsObjectAnnotation">
				<Property Name="Length" Value="2248" />
				<Property Name="StartLine" Value="1" />
				<Property Name="StartColumn" Value="1" />
				<Property Name="HeaderContents" Value="CREATE PROCEDURE [dbo].[SS_Users_Login_Validate]&#xD;&#xA;&#x9;@Login [varchar](200),&#xD;&#xA;&#x9;@Password [varchar](100)&#xD;&#xA;--WITH ENCRYPTION&#xD;&#xA;AS" />
			</Annotation>
		</Element>
		<Element Type="SqlProcedure" Name="[dbo].[SS_Users_Password_Reset]">
			<Property Name="BodyScript">
				<Value><![CDATA[
BEGIN
		/*------------------------------------------------------------------------------
		-- declaracion de variables
		--------------------------------------------------------------------------------*/
	Declare @IsErrorTecnichal int, @sError varchar(max), @UserId int
	Execute C_Parameter_Get @CodeParameter= 'ERROR_TECNICHAL', @Value= @IsErrorTecnichal OUTPUT
	BEGIN TRY
		if Exists(Select Login 
						From Appusers 
						Inner Join AppSessions On AppSessions.SessionId=@SessionId
						where Appusers.UserId=AppSessions.UserId and IsBlock=1 and AppUsers.UserId=@UpdatedId)
		Begin
			RaisError('Para realizar el reseteo de claves usted no tiene permisos.',16,1) 
    	    Return 
		End
		Select @UserId=AppUsers.UserId
		From AppUsers
		Inner Join AppSessions On AppSessions.SessionId=@SessionId
		Where AppUsers.UserId=AppSessions.UserId

		Update AppUsers
		Set AppUsers.Password=Reset 
		From AppUsers
		Inner Join AppSessions On AppSessions.SessionId=@SessionId
		Where AppUsers.UserId=AppSessions.UserId


			Exec [App_History_Timeline_Save]
					@SessionId =@SessionId,
					@UpdatedId =@UserId,
					@Type='USERS',
					@TimeLine='RESET_PASSWORD',
					@Comments='Reiniciando la clave del usuario'
	END TRY
	Begin Catch
    	    --Getting the error description
    	    Set @sError  =   ERROR_MESSAGE()
			if @IsErrorTecnichal=1
			Begin
				Set @sError  =  ERROR_PROCEDURE() + 
					';  ' + convert(varchar,ERROR_LINE()) + 
					'; ' + ERROR_MESSAGE()
			End  
    	    -- save the error in a Log file
    	    RaisError(@sError,16,1) 
    	    Return  
    End Catch
END]]></Value>
			</Property>
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Relationship Name="BodyDependencies">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[int]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[varchar]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[int]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[C_Parameter_Get]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[C_Parameter_Get].[@CodeParameter]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[C_Parameter_Get].[@Value]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[AppUsers]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[AppSessions]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[AppSessions].[SessionId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[SS_Users_Password_Reset].[@SessionId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[AppUsers].[Login]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[AppUsers].[UserId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[AppSessions].[UserId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[AppUsers].[IsBlock]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[AppUsers].[UserId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[SS_Users_Password_Reset].[@UpdatedId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[AppUsers]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[AppSessions]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[AppSessions].[SessionId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[AppUsers].[UserId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[AppSessions].[UserId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[AppUsers].[Password]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[AppUsers].[Reset]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[App_History_Timeline_Save]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[App_History_Timeline_Save].[@SessionId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[App_History_Timeline_Save].[@UpdatedId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[App_History_Timeline_Save].[@Type]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[App_History_Timeline_Save].[@TimeLine]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[App_History_Timeline_Save].[@Comments]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[varchar]" />
				</Entry>
			</Relationship>
			<Relationship Name="Parameters">
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[SS_Users_Password_Reset].[@SessionId]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Property Name="Length" Value="100" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[varchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[SS_Users_Password_Reset].[@UpdatedId]">
						<Property Name="DefaultExpressionScript">
							<Value><![CDATA[0]]></Value>
						</Property>
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="Schema">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<Annotation Type="SysCommentsObjectAnnotation">
				<Property Name="Length" Value="1753" />
				<Property Name="StartLine" Value="1" />
				<Property Name="StartColumn" Value="1" />
				<Property Name="HeaderContents" Value="CREATE PROCEDURE [dbo].[SS_Users_Password_Reset]&#xD;&#xA;&#x9;@SessionId [varchar](100),&#xD;&#xA;&#x9;@UpdatedId int=0&#xD;&#xA;--WITH ENCRYPTION&#xD;&#xA;AS" />
			</Annotation>
		</Element>
		<Element Type="SqlProcedure" Name="[dbo].[SS_Users_RecoveryPassword]">
			<Property Name="BodyScript">
				<Value><![CDATA[
BEGIN
		/*------------------------------------------------------------------------------
		-- declaracion de variables
		--------------------------------------------------------------------------------*/
	Declare @IsErrorTecnichal int,@sError varchar(max)
	Execute C_Parameter_Get @CodeParameter= 'ERROR_TECNICHAL', @Value= @IsErrorTecnichal OUTPUT
	BEGIN TRY
		if Not Exists (Select Top 1 * From AppUsers Where Email=@Email)
		Begin
			RaisError('No existe  email %s ',16,1, @Email)
			return
		End

		Exec BG_EmailQueue_Save
			 @ToEmail =@Email
			,@EmailTo ='RECOVERY_PASSWORD'
			,@UpdatedId =0 
	END TRY
	Begin Catch
    	    --Getting the error description
    	    Set @sError  =   ERROR_MESSAGE()
			if @IsErrorTecnichal=1
			Begin
				Set @sError  =  ERROR_PROCEDURE() + 
					';  ' + convert(varchar,ERROR_LINE()) + 
					'; ' + ERROR_MESSAGE()
			End  
    	    -- save the error in a Log file
    	    RaisError(@sError,16,1) 
    	    Return  
    End Catch
END]]></Value>
			</Property>
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Relationship Name="BodyDependencies">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[int]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[varchar]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[C_Parameter_Get]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[C_Parameter_Get].[@CodeParameter]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[C_Parameter_Get].[@Value]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[AppUsers]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[AppUsers].[Email]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[SS_Users_RecoveryPassword].[@Email]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[BG_EmailQueue_Save]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[BG_EmailQueue_Save].[@ToEmail]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[BG_EmailQueue_Save].[@EmailTo]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[BG_EmailQueue_Save].[@UpdatedId]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[varchar]" />
				</Entry>
			</Relationship>
			<Relationship Name="Parameters">
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[SS_Users_RecoveryPassword].[@Email]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Property Name="Length" Value="100" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[varchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[SS_Users_RecoveryPassword].[@UpdatedId]">
						<Property Name="DefaultExpressionScript">
							<Value><![CDATA[0]]></Value>
						</Property>
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="Schema">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<Annotation Type="SysCommentsObjectAnnotation">
				<Property Name="Length" Value="1125" />
				<Property Name="StartLine" Value="1" />
				<Property Name="StartColumn" Value="1" />
				<Property Name="HeaderContents" Value="CREATE PROCEDURE [dbo].[SS_Users_RecoveryPassword]&#xD;&#xA;&#x9;@Email [varchar](100),&#xD;&#xA;&#x9;@UpdatedId int=0&#xD;&#xA;--WITH ENCRYPTION&#xD;&#xA;AS" />
			</Annotation>
		</Element>
		<Element Type="SqlProcedure" Name="[dbo].[SS_Users_Session_Delete]">
			<Property Name="BodyScript">
				<Value><![CDATA[
BEGIN
	/*------------------------------------------------------------------------------
		Declares variables No se ha podido actualizar la información.  Intente de nuevo.
	------------------------------------------------------------------------------*/
	Declare @sError varchar(max) ,@IsErrorTecnichal int,@UserId int
	Execute C_Parameter_Get @CodeParameter= 'ERROR_TECNICHAL', @Value= @IsErrorTecnichal OUTPUT
	/*------------------------------------------------------------------------------
		get current variable stream
	------------------------------------------------------------------------------*/
	Begin Try
	Select @UserId=AppUsers.UserId
		From AppUsers
		Inner Join AppSessions On AppSessions.SessionId=@SessionId
		Where AppUsers.UserId=AppSessions.UserId

	Exec [App_History_Timeline_Save]
					@SessionId =@SessionId,
					@UpdatedId =@UserId,
					@Type='USERS',
					@TimeLine='LOGOUT',
					@Comments='Cerrando session'
	Begin Transaction
		Delete From AppSessions
		Where AppSessions.SessionId=@SessionId
	Commit Transaction

	
	------------------------------------------------------------------------------
	-- send back answer
	------------------------------------------------------------------------------
	End Try
	Begin Catch
		-- there was an error
		If XACT_STATE() =-1
		Begin
    			Rollback WORK
		End
		If @@trancount >0
		Begin
    			Rollback WORK
		End
		If XACT_STATE() = 1
		Begin
    			Commit WORK
		End
		--Getting the error description
		Set @sError  =  ERROR_MESSAGE()
		if @IsErrorTecnichal=1
		Begin
			Set @sError  =  ERROR_PROCEDURE() + 
					';  ' + convert(varchar,ERROR_LINE()) + 
					'; ' + ERROR_MESSAGE()
		End 
		RaisError (@sError,16,1) 
		Return
	End Catch
END]]></Value>
			</Property>
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Relationship Name="BodyDependencies">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[varchar]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[int]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[int]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[C_Parameter_Get]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[C_Parameter_Get].[@CodeParameter]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[C_Parameter_Get].[@Value]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[AppUsers]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[AppSessions]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[AppSessions].[SessionId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[SS_Users_Session_Delete].[@SessionId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[AppUsers].[UserId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[AppSessions].[UserId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[App_History_Timeline_Save]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[App_History_Timeline_Save].[@SessionId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[App_History_Timeline_Save].[@UpdatedId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[App_History_Timeline_Save].[@Type]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[App_History_Timeline_Save].[@TimeLine]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[App_History_Timeline_Save].[@Comments]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[AppSessions].[SessionId]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[varchar]" />
				</Entry>
			</Relationship>
			<Relationship Name="Parameters">
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[SS_Users_Session_Delete].[@SessionId]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Property Name="Length" Value="400" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[varchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="Schema">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<Annotation Type="SysCommentsObjectAnnotation">
				<Property Name="Length" Value="1870" />
				<Property Name="StartLine" Value="1" />
				<Property Name="StartColumn" Value="1" />
				<Property Name="HeaderContents" Value="CREATE PROCEDURE [dbo].[SS_Users_Session_Delete]&#xD;&#xA;&#x9;@SessionId [varchar](400)&#xD;&#xA;--WITH ENCRYPTION&#xD;&#xA;AS" />
			</Annotation>
		</Element>
		<Element Type="SqlProcedure" Name="[dbo].[SS_Users_Session_Save]">
			<Property Name="BodyScript">
				<Value><![CDATA[
BEGIN
	/*------------------------------------------------------------------------------
		Declares variables No se ha podido actualizar la información.  Intente de nuevo.
	------------------------------------------------------------------------------*/
	Declare @IsErrorTecnichal int, @sError varchar(max)
	Execute C_Parameter_Get @CodeParameter= 'ERROR_TECNICHAL', @Value= @IsErrorTecnichal OUTPUT
	
	/*------------------------------------------------------------------------------
		get current variable stream
	------------------------------------------------------------------------------*/
	begin try
		begin  Transaction
		if not exists(Select * from AppSessions where SessionId=@SessionId AND UserId=@UserId)
		Begin
			Insert Into AppSessions (SessionId ,Updated, Creation, UpdatedId,UserId) 
			Values (@SessionId, getdate(), getdate(),@UserId,@UserId)
			Exec [App_History_Timeline_Save]
					@SessionId =@SessionId,
					@UpdatedId =@UserId,
					@Type='USERS',
					@TimeLine='Alter_SESSION',
					@Comments='Creando session'
		End
		Else
		BEGIN
			Update AppSessions
			set Updated=getdate()
			where SessionId=@SessionId
			Exec [App_History_Timeline_Save]
					@SessionId =@SessionId,
					@UpdatedId =@UserId,
					@Type='USERS',
					@TimeLine='UPDATE_SESSION',
					@Comments='Actualizando session'
		End	
		Commit Transaction
		
	end try
	Begin Catch
    	    -- there was an error
    	    If XACT_STATE() =-1
    	    Begin
    	    	    Rollback WORK
    	    End
    	    If @@trancount >0
    	    Begin
    	    	    Rollback WORK
    	    End
    	    If XACT_STATE() = 1
    	    Begin
    	    	    Commit WORK
    	    End
    	    --Getting the error description
    	    Set @sError  =   ERROR_MESSAGE()
			if @IsErrorTecnichal=1
			Begin
				Set @sError  =  ERROR_PROCEDURE() + 
					';  ' + convert(varchar,ERROR_LINE()) + 
					'; ' + ERROR_MESSAGE()
			End 
    	    -- save the error in a Log file
    	    RaisError(@sError,16,1)
    	    Return  
    End Catch
	--/*------------------------------------------------------------------------------
	--	-- Return successful answer
	--	--------------------------------------------------------------------------------*/
	--	Select 'SessionId'= @SessionId_app
	--	/*-- - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -*/
END]]></Value>
			</Property>
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Relationship Name="BodyDependencies">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[int]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[varchar]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[C_Parameter_Get]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[C_Parameter_Get].[@CodeParameter]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[C_Parameter_Get].[@Value]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[AppSessions]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[AppSessions].[SessionId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[SS_Users_Session_Save].[@SessionId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[AppSessions].[UserId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[SS_Users_Session_Save].[@UserId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[AppSessions]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[AppSessions].[SessionId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[AppSessions].[Updated]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[AppSessions].[Creation]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[AppSessions].[UpdatedId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[AppSessions].[UserId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[App_History_Timeline_Save]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[App_History_Timeline_Save].[@SessionId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[App_History_Timeline_Save].[@UpdatedId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[App_History_Timeline_Save].[@Type]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[App_History_Timeline_Save].[@TimeLine]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[App_History_Timeline_Save].[@Comments]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[varchar]" />
				</Entry>
			</Relationship>
			<Relationship Name="Parameters">
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[SS_Users_Session_Save].[@SessionId]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Property Name="Length" Value="400" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[varchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[SS_Users_Session_Save].[@UserId]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="Schema">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<Annotation Type="SysCommentsObjectAnnotation">
				<Property Name="Length" Value="2517" />
				<Property Name="StartLine" Value="1" />
				<Property Name="StartColumn" Value="1" />
				<Property Name="HeaderContents" Value="CREATE PROCEDURE [dbo].[SS_Users_Session_Save]&#xD;&#xA;&#x9;@SessionId [varchar](400),&#xD;&#xA;&#x9;@UserId [int]&#xD;&#xA;--WITH ENCRYPTION&#xD;&#xA;AS" />
			</Annotation>
		</Element>
		<Element Type="SqlProcedure" Name="[dbo].[SS_Users_Session_Validate]">
			<Property Name="BodyScript">
				<Value><![CDATA[
BEGIN
		/*------------------------------------------------------------------------------
		-- declaracion de variables
		--------------------------------------------------------------------------------*/
	Declare  @IsErrorTecnichal int,@sError varchar(max), @UserId int, @Name varchar(200),@Profile varchar(200)
	Declare  @MinuteSession int,@SessionId_aux [varchar](100),@Email varchar(250),@Section varchar(25)
	Execute C_Parameter_Get @CodeParameter= 'ERROR_TECNICHAL', @Value= @IsErrorTecnichal OUTPUT
	Execute C_Parameter_Get @CodeParameter= 'TIME_SESSION_APP', @Value= @MinuteSession OUTPUT
	BEGIN TRY
		Set @SessionId_aux=@SessionId
		if Not Exists(Select *
						From AppUsers
						Inner Join AppSessions On AppSessions.UserId=AppUsers.UserId
						Where AppUsers.Login=@Login and AppSessions.SessionId=@SessionId)
		Begin
			Raiserror('Los valores para renovación de Token invalidos %s %s',16,1,@Login,@SessionId)
			return
		End
		Select @UserId= AppUsers.UserId,@Name=Name,@Profile=Appprofiles.Profile,@Email=Email,@Section=AppProfiles.Section
		From AppUsers
				Inner JOIN Appprofiles On Appprofiles.ProfileId=appusers.ProfileId
				Inner Join AppSessions On AppSessions.UserId=AppUsers.UserId
		Where AppUsers.Login=@Login and AppSessions.SessionId=@SessionId

		Set @SessionId=newid()
		Execute SS_Users_Session_Save	@SessionId=@SessionId,@UserId =@UserId

		Delete From AppSessions Where SessionId=@SessionId_aux
		Select @UserId as UserId, @Name as Name,@Profile as Profile,@SessionId as SessionId,@Login as Login, @MinuteSession as Expiration,@Section as Section

		Exec [App_History_Timeline_Save]
					@SessionId =@SessionId,
					@UpdatedId =@UserId,
					@Type='USERS',
					@TimeLine='RESET_Token',
					@Comments='Reiniciar Token del usuario'

		Exec BG_EmailQueue_Save
			 @ToEmail =@Email
			,@EmailTo ='RESET_Token'
			,@UpdatedId =@UserId 
	END TRY
	Begin Catch
    	    --Getting the error description
			Set @sError  = ERROR_MESSAGE()
			if @IsErrorTecnichal=1
			Begin
			Set @sError  =  ERROR_PROCEDURE() + 
					';  ' + convert(varchar,ERROR_LINE()) + 
					'; ' + ERROR_MESSAGE()
			End 
    	    -- save the error in a Log file
    	    RaisError(@sError,16,1) 
    	    Return  
    End Catch
END]]></Value>
			</Property>
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Relationship Name="BodyDependencies">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[int]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[varchar]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[int]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[varchar]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[varchar]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[int]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[varchar]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[varchar]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[varchar]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[C_Parameter_Get]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[C_Parameter_Get].[@CodeParameter]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[C_Parameter_Get].[@Value]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[SS_Users_Session_Validate].[@SessionId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[AppUsers]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[AppSessions]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[AppSessions].[UserId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[AppUsers].[UserId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[AppUsers].[Login]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[SS_Users_Session_Validate].[@Login]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[AppSessions].[SessionId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[AppUsers]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[AppProfiles]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[AppProfiles].[ProfileId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[AppUsers].[ProfileId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[AppSessions]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[AppSessions].[UserId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[AppUsers].[UserId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[AppUsers].[Name]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[AppProfiles].[Profile]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[AppUsers].[Email]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[AppProfiles].[Section]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[AppUsers].[Login]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[AppSessions].[SessionId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[SS_Users_Session_Save]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[SS_Users_Session_Save].[@SessionId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[SS_Users_Session_Save].[@UserId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[AppSessions].[SessionId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[App_History_Timeline_Save]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[App_History_Timeline_Save].[@SessionId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[App_History_Timeline_Save].[@UpdatedId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[App_History_Timeline_Save].[@Type]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[App_History_Timeline_Save].[@TimeLine]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[App_History_Timeline_Save].[@Comments]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[BG_EmailQueue_Save]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[BG_EmailQueue_Save].[@ToEmail]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[BG_EmailQueue_Save].[@EmailTo]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[BG_EmailQueue_Save].[@UpdatedId]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[varchar]" />
				</Entry>
			</Relationship>
			<Relationship Name="Parameters">
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[SS_Users_Session_Validate].[@Login]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Property Name="Length" Value="200" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[varchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[SS_Users_Session_Validate].[@SessionId]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Property Name="Length" Value="100" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[varchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="Schema">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<Annotation Type="SysCommentsObjectAnnotation">
				<Property Name="Length" Value="2415" />
				<Property Name="StartLine" Value="1" />
				<Property Name="StartColumn" Value="1" />
				<Property Name="HeaderContents" Value="CREATE PROCEDURE [dbo].[SS_Users_Session_Validate]&#xD;&#xA;&#x9;@Login [varchar](200),&#xD;&#xA;&#x9;@SessionId [varchar](100)&#xD;&#xA;--WITH ENCRYPTION&#xD;&#xA;AS" />
			</Annotation>
		</Element>
		<Element Type="SqlTable" Name="[dbo].[StowageFactorByProducts]">
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Relationship Name="Columns">
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[StowageFactorByProducts].[Id]">
						<Property Name="IsNullable" Value="False" />
						<Property Name="IsIdentity" Value="True" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[StowageFactorByProducts].[Token]">
						<Property Name="IsNullable" Value="False" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[uniqueidentifier]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
						<AttachedAnnotation Disambiguator="278" />
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[StowageFactorByProducts].[ProductId]">
						<Property Name="IsNullable" Value="False" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[StowageFactorByProducts].[StowageFactorId]">
						<Property Name="IsNullable" Value="False" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[StowageFactorByProducts].[Creation]">
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[datetime]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
						<AttachedAnnotation Disambiguator="276" />
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[StowageFactorByProducts].[Updated]">
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[datetime]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
						<AttachedAnnotation Disambiguator="279" />
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[StowageFactorByProducts].[IsActive]">
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[bit]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
						<AttachedAnnotation Disambiguator="277" />
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[StowageFactorByProducts].[UpdatedId]">
						<Property Name="IsNullable" Value="False" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
						<AttachedAnnotation Disambiguator="280" />
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="Schema">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<AttachedAnnotation Disambiguator="310" />
		</Element>
		<Element Type="SqlTable" Name="[dbo].[StowageFactors]">
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Relationship Name="Columns">
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[StowageFactors].[Id]">
						<Property Name="IsNullable" Value="False" />
						<Property Name="IsIdentity" Value="True" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[StowageFactors].[Token]">
						<Property Name="IsNullable" Value="False" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[uniqueidentifier]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
						<AttachedAnnotation Disambiguator="194" />
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[StowageFactors].[Name]">
						<Property Name="IsNullable" Value="False" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Property Name="Length" Value="100" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[varchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
						<AttachedAnnotation Disambiguator="193" />
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[StowageFactors].[Value]">
						<Property Name="IsNullable" Value="False" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Property Name="Precision" Value="53" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[float]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
						<AttachedAnnotation Disambiguator="192" />
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[StowageFactors].[Creation]">
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[datetime]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
						<AttachedAnnotation Disambiguator="188" />
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[StowageFactors].[Updated]">
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[datetime]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
						<AttachedAnnotation Disambiguator="190" />
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[StowageFactors].[IsActive]">
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[bit]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
						<AttachedAnnotation Disambiguator="189" />
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[StowageFactors].[UpdatedId]">
						<Property Name="IsNullable" Value="False" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
						<AttachedAnnotation Disambiguator="191" />
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="Schema">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<AttachedAnnotation Disambiguator="311" />
		</Element>
		<Element Type="SqlIndex" Name="[dbo].[StowageFactors].[IX_StowageFactors]">
			<Property Name="IsUnique" Value="True" />
			<Relationship Name="ColumnSpecifications">
				<Entry>
					<Element Type="SqlIndexedColumnSpecification">
						<Relationship Name="Column">
							<Entry>
								<References Name="[dbo].[StowageFactors].[Value]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlIndexedColumnSpecification">
						<Relationship Name="Column">
							<Entry>
								<References Name="[dbo].[StowageFactors].[Name]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="IndexedObject">
				<Entry>
					<References Name="[dbo].[StowageFactors]" />
				</Entry>
			</Relationship>
		</Element>
		<Element Type="SqlMultiStatementTableValuedFunction" Name="[dbo].[TableSplit]">
			<Property Name="ReturnTableVariable" Value="@List" />
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Relationship Name="BodyDependencies">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[varchar]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[TableSplit].[@sDelimiter]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[TableSplit].[@sInputList]" />
				</Entry>
			</Relationship>
			<Relationship Name="Columns">
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[TableSplit].[id_record]">
						<Property Name="IsNullable" Value="False" />
						<Property Name="IsIdentity" Value="True" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[TableSplit].[item]">
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Property Name="IsMax" Value="True" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[varchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="FunctionBody">
				<Entry>
					<Element Type="SqlScriptFunctionImplementation">
						<Property Name="BodyScript">
							<Value><![CDATA[ 
BEGIN
	-----------------------------------------------
	--Declare variables
	-----------------------------------------------
	DECLARE @sItem VARCHAR(max)
	-----------------------------------------------
	--Execute Logic
	-----------------------------------------------
	WHILE CHARINDEX(@sDelimiter,@sInputList,0) <> 0 
	BEGIN 
	SELECT  @sItem=RTRIM(LTRIM(SUBSTRING(@sInputList,1,CHARINDEX(@sDelimiter,@sInputList,0)-1))),  
			@sInputList=RTRIM(LTRIM(SUBSTRING(@sInputList,CHARINDEX(@sDelimiter,@sInputList,0)+LEN(@sDelimiter),LEN(@sInputList))))  
		IF LEN(@sItem) > 0  INSERT INTO @List SELECT @sItem 
	END
	-----------------------------------------------
	--Validacion de Tamaños
	-----------------------------------------------
	IF LEN(@sInputList) > 0 
		INSERT INTO @List 
		SELECT @sInputList  
	RETURN
END]]></Value>
						</Property>
						<Annotation Type="SysCommentsObjectAnnotation">
							<Property Name="Length" Value="1026" />
							<Property Name="StartLine" Value="1" />
							<Property Name="StartColumn" Value="1" />
							<Property Name="HeaderContents" Value="CREATE FUNCTION [dbo].[TableSplit](@sInputList [varchar](max), @sDelimiter [varchar](10) = ',')&#xD;&#xA;RETURNS @List TABLE (&#xD;&#xA;&#x9;[id_record] [int] IDENTITY(1,1),&#xD;&#xA;&#x9;[item] [varchar](max) NULL&#xD;&#xA;)&#xD;&#xA;AS" />
						</Annotation>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="Parameters">
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[TableSplit].[@sInputList]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Property Name="IsMax" Value="True" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[varchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[TableSplit].[@sDelimiter]">
						<Property Name="DefaultExpressionScript">
							<Value><![CDATA[',']]></Value>
						</Property>
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Property Name="Length" Value="10" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[varchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="Schema">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
		</Element>
		<Element Type="SqlTable" Name="[dbo].[TerminalByProducts]">
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Relationship Name="Columns">
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[TerminalByProducts].[Id]">
						<Property Name="IsNullable" Value="False" />
						<Property Name="IsIdentity" Value="True" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[TerminalByProducts].[Token]">
						<Property Name="IsNullable" Value="False" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[uniqueidentifier]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
						<AttachedAnnotation Disambiguator="248" />
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[TerminalByProducts].[TerminalId]">
						<Property Name="IsNullable" Value="False" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[TerminalByProducts].[ProductId]">
						<Property Name="IsNullable" Value="False" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[TerminalByProducts].[LoadingRate]">
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[money]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[TerminalByProducts].[UnloadingRate]">
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[money]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[TerminalByProducts].[Creation]">
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[datetime]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
						<AttachedAnnotation Disambiguator="246" />
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[TerminalByProducts].[Updated]">
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[datetime]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
						<AttachedAnnotation Disambiguator="249" />
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[TerminalByProducts].[IsActive]">
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[bit]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
						<AttachedAnnotation Disambiguator="247" />
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[TerminalByProducts].[UpdatedId]">
						<Property Name="IsNullable" Value="False" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
						<AttachedAnnotation Disambiguator="250" />
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="Schema">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<AttachedAnnotation Disambiguator="303" />
		</Element>
		<Element Type="SqlTable" Name="[dbo].[Terminals]">
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Relationship Name="Columns">
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[Terminals].[Id]">
						<Property Name="IsNullable" Value="False" />
						<Property Name="IsIdentity" Value="True" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[Terminals].[Token]">
						<Property Name="IsNullable" Value="False" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[uniqueidentifier]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
						<AttachedAnnotation Disambiguator="198" />
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[Terminals].[PortId]">
						<Property Name="IsNullable" Value="False" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
						<AttachedAnnotation Disambiguator="201" />
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[Terminals].[Name]">
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Property Name="Length" Value="25" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[varchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
						<AttachedAnnotation Disambiguator="200" />
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[Terminals].[Address]">
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Property Name="Length" Value="200" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[varchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
						<AttachedAnnotation Disambiguator="195" />
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[Terminals].[Contants]">
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Property Name="Length" Value="200" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[varchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[Terminals].[CityId]">
						<Property Name="IsNullable" Value="False" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[Terminals].[Phone]">
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Property Name="Length" Value="50" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[varchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[Terminals].[Xaxis]">
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Property Name="Precision" Value="53" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[float]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[Terminals].[Yaxis]">
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Property Name="Precision" Value="53" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[float]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[Terminals].[Email]">
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Property Name="Length" Value="80" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[varchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
						<AttachedAnnotation Disambiguator="197" />
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[Terminals].[Creation]">
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[datetime]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
						<AttachedAnnotation Disambiguator="196" />
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[Terminals].[Updated]">
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[datetime]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
						<AttachedAnnotation Disambiguator="202" />
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[Terminals].[IsActive]">
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[bit]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
						<AttachedAnnotation Disambiguator="199" />
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[Terminals].[UpdatedId]">
						<Property Name="IsNullable" Value="False" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
						<AttachedAnnotation Disambiguator="203" />
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[Terminals].[ConditionId]">
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
						<AttachedAnnotation Disambiguator="3" />
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[Terminals].[ConditionValue]">
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Property Name="Precision" Value="53" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[float]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[Terminals].[_Order]">
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
						<AttachedAnnotation Disambiguator="4" />
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="Schema">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<AttachedAnnotation Disambiguator="298" />
			<AttachedAnnotation Disambiguator="287" />
		</Element>
		<Element Type="SqlIndex" Name="[dbo].[Terminals].[IX_Terminals]">
			<Property Name="IsUnique" Value="True" />
			<Relationship Name="ColumnSpecifications">
				<Entry>
					<Element Type="SqlIndexedColumnSpecification">
						<Relationship Name="Column">
							<Entry>
								<References Name="[dbo].[Terminals].[Name]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlIndexedColumnSpecification">
						<Relationship Name="Column">
							<Entry>
								<References Name="[dbo].[Terminals].[PortId]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="IndexedObject">
				<Entry>
					<References Name="[dbo].[Terminals]" />
				</Entry>
			</Relationship>
		</Element>
		<Element Type="SqlTable" Name="[dbo].[Tolerance]">
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Relationship Name="Columns">
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[Tolerance].[Id]">
						<Property Name="IsNullable" Value="False" />
						<Property Name="IsIdentity" Value="True" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[Tolerance].[Token]">
						<Property Name="IsNullable" Value="False" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[uniqueidentifier]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
						<AttachedAnnotation Disambiguator="205" />
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[Tolerance].[Name]">
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Property Name="Length" Value="25" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[varchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
						<AttachedAnnotation Disambiguator="207" />
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[Tolerance].[Value]">
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
						<AttachedAnnotation Disambiguator="210" />
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[Tolerance].[Creation]">
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[datetime]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
						<AttachedAnnotation Disambiguator="204" />
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[Tolerance].[Updated]">
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[datetime]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
						<AttachedAnnotation Disambiguator="208" />
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[Tolerance].[IsActive]">
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[bit]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
						<AttachedAnnotation Disambiguator="206" />
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[Tolerance].[UpdatedId]">
						<Property Name="IsNullable" Value="False" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
						<AttachedAnnotation Disambiguator="209" />
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="Schema">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<AttachedAnnotation Disambiguator="299" />
		</Element>
		<Element Type="SqlIndex" Name="[dbo].[Tolerance].[IX_Tolerance]">
			<Property Name="IsUnique" Value="True" />
			<Relationship Name="ColumnSpecifications">
				<Entry>
					<Element Type="SqlIndexedColumnSpecification">
						<Relationship Name="Column">
							<Entry>
								<References Name="[dbo].[Tolerance].[Name]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="IndexedObject">
				<Entry>
					<References Name="[dbo].[Tolerance]" />
				</Entry>
			</Relationship>
		</Element>
		<Element Type="SqlTable" Name="[dbo].[Types]">
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Relationship Name="Columns">
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[Types].[Id]">
						<Property Name="IsNullable" Value="False" />
						<Property Name="IsIdentity" Value="True" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[Types].[Token]">
						<Property Name="IsNullable" Value="False" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[uniqueidentifier]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
						<AttachedAnnotation Disambiguator="150" />
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[Types].[Name]">
						<Property Name="IsNullable" Value="False" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Property Name="Length" Value="100" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[varchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
						<AttachedAnnotation Disambiguator="149" />
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[Types].[Code]">
						<Property Name="IsNullable" Value="False" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Property Name="Length" Value="50" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[varchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
						<AttachedAnnotation Disambiguator="148" />
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[Types].[Class]">
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[Types].[Creation]">
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[datetime]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
						<AttachedAnnotation Disambiguator="144" />
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[Types].[Updated]">
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[datetime]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
						<AttachedAnnotation Disambiguator="146" />
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[Types].[IsActive]">
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[bit]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
						<AttachedAnnotation Disambiguator="145" />
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[Types].[UpdatedId]">
						<Property Name="IsNullable" Value="False" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
						<AttachedAnnotation Disambiguator="147" />
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="Schema">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<AttachedAnnotation Disambiguator="292" />
		</Element>
		<Element Type="SqlIndex" Name="[dbo].[Types].[IX_Types]">
			<Property Name="IsUnique" Value="True" />
			<Relationship Name="ColumnSpecifications">
				<Entry>
					<Element Type="SqlIndexedColumnSpecification">
						<Relationship Name="Column">
							<Entry>
								<References Name="[dbo].[Types].[Name]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="IndexedObject">
				<Entry>
					<References Name="[dbo].[Types]" />
				</Entry>
			</Relationship>
		</Element>
		<Element Type="SqlTable" Name="[dbo].[Vessel]">
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Relationship Name="Columns">
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[Vessel].[Id]">
						<Property Name="IsNullable" Value="False" />
						<Property Name="IsIdentity" Value="True" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[Vessel].[Token]">
						<Property Name="IsNullable" Value="False" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[uniqueidentifier]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
						<AttachedAnnotation Disambiguator="213" />
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[Vessel].[Name]">
						<Property Name="IsNullable" Value="False" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Property Name="Length" Value="25" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[varchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
						<AttachedAnnotation Disambiguator="215" />
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[Vessel].[Description]">
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Property Name="Length" Value="250" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[varchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
						<AttachedAnnotation Disambiguator="212" />
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[Vessel].[Phone]">
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Property Name="Length" Value="25" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[varchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
						<AttachedAnnotation Disambiguator="216" />
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[Vessel].[Email]">
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Property Name="Length" Value="80" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[varchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[Vessel].[Contact]">
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Property Name="Length" Value="50" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[varchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[Vessel].[CityId]">
						<Property Name="IsNullable" Value="False" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[Vessel].[Speed]">
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Property Name="Precision" Value="53" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[float]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[Vessel].[TypeId]">
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[Vessel].[Capacity]">
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[Vessel].[Demurrage]">
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[money]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[Vessel].[RateLoading]">
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[money]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[Vessel].[RateUnloading]">
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[money]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[Vessel].[IfoConsumed]">
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[money]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[Vessel].[MgoConsumed]">
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[money]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[Vessel].[Creation]">
						<Property Name="IsNullable" Value="False" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[datetime]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
						<AttachedAnnotation Disambiguator="211" />
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[Vessel].[Updated]">
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[datetime]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
						<AttachedAnnotation Disambiguator="217" />
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[Vessel].[IsActive]">
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[bit]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
						<AttachedAnnotation Disambiguator="214" />
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[Vessel].[Owner]">
						<Property Name="IsNullable" Value="False" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[Vessel].[UpdatedId]">
						<Property Name="IsNullable" Value="False" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
						<AttachedAnnotation Disambiguator="218" />
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="Schema">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<AttachedAnnotation Disambiguator="300" />
		</Element>
		<Element Type="SqlIndex" Name="[dbo].[Vessel].[IX_Vessel]">
			<Property Name="IsUnique" Value="True" />
			<Relationship Name="ColumnSpecifications">
				<Entry>
					<Element Type="SqlIndexedColumnSpecification">
						<Relationship Name="Column">
							<Entry>
								<References Name="[dbo].[Vessel].[Name]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="IndexedObject">
				<Entry>
					<References Name="[dbo].[Vessel]" />
				</Entry>
			</Relationship>
		</Element>
		<Element Type="SqlExtendedProperty" Name="[SqlIndexBase].[dbo].[Countries].[IX_Countries].[MS_Description]">
			<Property Name="Value">
				<Value><![CDATA[N'The duplicate key value on Countries']]></Value>
			</Property>
			<Relationship Name="Host">
				<Entry>
					<References Name="[dbo].[Countries].[IX_Countries]" />
				</Entry>
			</Relationship>
		</Element>
	</Model>
</DataSchemaModel>